
<div class="row">
    <div class="col">
        <button type="button" routerLink="addTimeTracker" class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal" >Add Task</button>
      <!-- <button class="btn btn-sm" (click)="exportExcel()" >Export</button> -->
    </div>
    <div class="col">
      <!-- <ng-select
        style="width: 100px;float:right;" 
        [items]="monthNames" 
        [(ngModel)]="task.month">
      </ng-select>
      <ng-select
        style="width: 100px;float:right;" 
        [items]="years" 
        [(ngModel)]="task.year">
      </ng-select> -->
    </div>
  </div>
  <table class="table align-middle mb-0 bg-white" style="text-align: center;" id="table-sheet">
    <thead class="bg-light">
      <tr>
        <th>Project Name</th>
        <th>Project Description</th>
        <th>status</th>
        <th>Date</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody> 
      <!-- <tr *ngFor="let task of tasks | filterBy:task  | paginate
      : {
          itemsPerPage: tableSize,
          currentPage: page,
          totalItems: count
        };let i= index;"> -->
        <tr *ngFor="let project of projects ">
            <td>
                <p class="text-muted mb-0">{{project.projectName}}</p>
            </td>
            <td>
                <p class="text-muted mb-0">{{project.projectDescription}}</p>
            </td>
            <td >
                <p class="text-muted mb-0">{{project.status}}</p>
            </td>
            <td *ngIf="project.status == 'complete'"> 
                <p class="text-muted mb-0">
                    {{project.started}} 
                    <br>
                    <span>to</span>
                    <br>
                    {{project.ended}}
                </p>
            </td>
            <td *ngIf="project.status != 'complete'"> 
                <p class="text-muted mb-0">
                    {{project.started}} 
                </p>
            </td>
          <td style="width: 150px;"> 
            <form id="form-change-task-status">
                <select class="form-control" (change)="onChangeStatus($event,project.id)">
                    <option value="" >Change Status</option>
                    <option value="complete" *ngIf="project.status == 'complete'? false : true">Mark as Complete</option>
                    <option value="progress" *ngIf="project.status == 'progress' ? false : true">Mark as Progress</option> 
                </select>
            </form> 
            <button class="btn btn-sm" (click)="delete(project.id)">delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- <div class="d-flex justify-content-center">
      <pagination-controls
        previousLabel="Prev"
        nextLabel="Next"
        (pageChange)="onTableDataChange($event)"
      >
      </pagination-controls>
    </div> -->
