var Jfe=Object.defineProperty,epe=Object.defineProperties,tpe=Object.getOwnPropertyDescriptors,u9=Object.getOwnPropertySymbols,npe=Object.prototype.hasOwnProperty,rpe=Object.prototype.propertyIsEnumerable,d9=(Jt,Ye,K)=>Ye in Jt?Jfe(Jt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:K}):Jt[Ye]=K,h9=(Jt,Ye)=>{for(var K in Ye||(Ye={}))npe.call(Ye,K)&&d9(Jt,K,Ye[K]);if(u9)for(var K of u9(Ye))rpe.call(Ye,K)&&d9(Jt,K,Ye[K]);return Jt},f9=(Jt,Ye)=>epe(Jt,tpe(Ye));(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{2011:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Dh:()=>J,GT:()=>Q,cc:()=>ft,hO:()=>Nt,on:()=>me,pX:()=>X,xv:()=>Ue});var c=K(5e3),ye=K(127),G=K(5813);Jt=K.hmd(Jt);const de=["ngOnDestroy"],X=(ot,Vt,en,dt={})=>new Proxy(ot,{get:(nt,st)=>en.runOutsideAngular(()=>{var Ft;if(ot[st])return(null===(Ft=null==dt?void 0:dt.spy)||void 0===Ft?void 0:Ft.get)&&dt.spy.get(st,ot[st]),ot[st];if(de.indexOf(st)>-1)return()=>{};const Mt=Vt.toPromise().then(q=>{const Xe=q&&q[st];return"function"==typeof Xe?Xe.bind(q):Xe&&Xe.then?Xe.then(we=>en.run(()=>we)):en.run(()=>Xe)});return new Proxy(()=>{},{get:(q,Xe)=>Mt[Xe],apply:(q,Xe,we)=>Mt.then(Re=>{var De;const Ne=Re&&Re(...we);return(null===(De=null==dt?void 0:dt.spy)||void 0===De?void 0:De.apply)&&dt.spy.apply(st,we,Ne),Ne})})})}),Q=(ot,Vt)=>{Vt.forEach(en=>{Object.getOwnPropertyNames(en.prototype||en).forEach(dt=>{Object.defineProperty(ot.prototype,dt,Object.getOwnPropertyDescriptor(en.prototype||en,dt))})})};class Y{constructor(Vt){return Vt}}const J=new c.OlP("angularfire2.app.options"),Ue=new c.OlP("angularfire2.app.name");function me(ot,Vt,en){const nt="object"==typeof en&&en||{};nt.name=nt.name||"string"==typeof en&&en||"[DEFAULT]";const Ft=ye.Z.apps.filter(Mt=>Mt&&Mt.name===nt.name)[0]||Vt.runOutsideAngular(()=>ye.Z.initializeApp(ot,nt));try{JSON.stringify(ot)!==JSON.stringify(Ft.options)&&_e("error",`${Ft.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Mt){}return new Y(Ft)}const _e=(ot,...Vt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ot](...Vt)},Fe={provide:Y,useFactory:me,deps:[J,c.R0b,[new c.FiY,Ue]]};let Nt=(()=>{class ot{constructor(en){ye.Z.registerVersion("angularfire",G.q4.full,"core"),ye.Z.registerVersion("angularfire",G.q4.full,"app-compat"),ye.Z.registerVersion("angular",c.q4F.full,en.toString())}static initializeApp(en,dt){return{ngModule:ot,providers:[{provide:J,useValue:en},{provide:Ue,useValue:dt}]}}}return ot.\u0275fac=function(en){return new(en||ot)(c.LFG(c.Lbi))},ot.\u0275mod=c.oAB({type:ot}),ot.\u0275inj=c.cJS({providers:[Fe]}),ot})();function ft(ot,Vt,en,dt,nt){const[,st,Ft]=globalThis.\u0275AngularfireInstanceCache.find(Mt=>Mt[0]===ot)||[];if(st)return function Et(ot,Vt){try{return ot.toString()===Vt.toString()}catch(en){return ot===Vt}}(nt,Ft)||(qe("error",`${Vt} was already initialized on the ${en} Firebase App with different settings.${Ot?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:nt,was:Ft})),st;{const Mt=dt();return globalThis.\u0275AngularfireInstanceCache.push([ot,Mt,nt]),Mt}}const Ot=!!Jt.hot,qe=(ot,...Vt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ot](...Vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Jt,Ye,K)=>{"use strict";K.d(Ye,{q4:()=>Td,iC:()=>Lm,fc:()=>ps,HU:()=>Ig,vb:()=>_y,JM:()=>Au});var c=K(5e3),ye=K(5867),G=K(5861),de=K(9681),X=K(2090),Q=K(4859),Y=K(1877),J=K(8766);const Ue="@firebase/installations",Fe="w:0.5.9",Nt="FIS_v2",Vt=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function en(O){return O instanceof X.ZR&&O.code.includes("request-failed")}function dt({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function nt(O){return{token:O.token,requestStatus:2,expiresIn:Re(O.expiresIn),creationTime:Date.now()}}function st(O,F){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,G.Z)(function*(O,F){const se=(yield F.json()).error;return Vt.create("request-failed",{requestName:O,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function Mt({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function q(O,{refreshToken:F}){const U=Mt(O);return U.append("Authorization",function De(O){return`${Nt} ${O}`}(F)),U}function Xe(O){return we.apply(this,arguments)}function we(){return(we=(0,G.Z)(function*(O){const F=yield O();return F.status>=500&&F.status<600?O():F})).apply(this,arguments)}function Re(O){return Number(O.replace("s","000"))}function Ne(O,F){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*({appConfig:O,heartbeatServiceProvider:F},{fid:U}){const se=dt(O),ke=Mt(O),Le=F.getImmediate({optional:!0});if(Le){const bn=yield Le.getHeartbeatsHeader();bn&&ke.append("x-firebase-client",bn)}const rn={method:"POST",headers:ke,body:JSON.stringify({fid:U,authVersion:Nt,appId:O.appId,sdkVersion:Fe})},fn=yield Xe(()=>fetch(se,rn));if(fn.ok){const bn=yield fn.json();return{fid:bn.fid||U,registrationStatus:2,refreshToken:bn.refreshToken,authToken:nt(bn.authToken)}}throw yield st("Create Installation",fn)})).apply(this,arguments)}function bt(O){return new Promise(F=>{setTimeout(F,O)})}const Qn=/^[cdef][\w-]{21}$/;function qt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const U=function Ln(O){return function mn(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Qn.test(U)?U:""}catch(O){return""}}function mr(O){return`${O.appName}!${O.appId}`}const _r=new Map;function Zn(O,F){const U=mr(O);Hn(U,F),function Cs(O,F){const U=function Wi(){return!as&&"BroadcastChannel"in self&&(as=new BroadcastChannel("[Firebase] FID Change"),as.onmessage=O=>{Hn(O.data.key,O.data.fid)}),as}();U&&U.postMessage({key:O,fid:F}),function Ni(){0===_r.size&&as&&(as.close(),as=null)}()}(U,F)}function Hn(O,F){const U=_r.get(O);if(U)for(const se of U)se(F)}let as=null;const Ss="firebase-installations-store";let qi=null;function an(){return qi||(qi=(0,J.X3)("firebase-installations-database",1,{upgrade:(O,F)=>{0===F&&O.createObjectStore(Ss)}})),qi}function Jr(O,F){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,G.Z)(function*(O,F){const U=mr(O),ke=(yield an()).transaction(Ss,"readwrite"),Le=ke.objectStore(Ss),Qe=yield Le.get(U);return yield Le.put(F,U),yield ke.done,(!Qe||Qe.fid!==F.fid)&&Zn(O,F.fid),F})).apply(this,arguments)}function tr(O){return bo.apply(this,arguments)}function bo(){return(bo=(0,G.Z)(function*(O){const F=mr(O),se=(yield an()).transaction(Ss,"readwrite");yield se.objectStore(Ss).delete(F),yield se.done})).apply(this,arguments)}function ls(O,F){return fi.apply(this,arguments)}function fi(){return(fi=(0,G.Z)(function*(O,F){const U=mr(O),ke=(yield an()).transaction(Ss,"readwrite"),Le=ke.objectStore(Ss),Qe=yield Le.get(U),rn=F(Qe);return void 0===rn?yield Le.delete(U):yield Le.put(rn,U),yield ke.done,rn&&(!Qe||Qe.fid!==rn.fid)&&Zn(O,rn.fid),rn})).apply(this,arguments)}function wn(O){return $r.apply(this,arguments)}function $r(){return($r=(0,G.Z)(function*(O){let F;const U=yield ls(O.appConfig,se=>{const ke=cs(se),Le=Bn(O,ke);return F=Le.registrationPromise,Le.installationEntry});return""===U.fid?{installationEntry:yield F}:{installationEntry:U,registrationPromise:F}})).apply(this,arguments)}function cs(O){return Ha(O||{fid:qt(),registrationStatus:0})}function Bn(O,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Vt.create("app-offline"))};const U={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},se=function zt(O,F){return ln.apply(this,arguments)}(O,U);return{installationEntry:U,registrationPromise:se}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Ri(O)}:{installationEntry:F}}function ln(){return(ln=(0,G.Z)(function*(O,F){try{const U=yield Ne(O,F);return Jr(O.appConfig,U)}catch(U){throw en(U)&&409===U.customData.serverCode?yield tr(O.appConfig):yield Jr(O.appConfig,{fid:F.fid,registrationStatus:0}),U}})).apply(this,arguments)}function Ri(O){return zi.apply(this,arguments)}function zi(){return(zi=(0,G.Z)(function*(O){let F=yield In(O.appConfig);for(;1===F.registrationStatus;)yield bt(100),F=yield In(O.appConfig);if(0===F.registrationStatus){const{installationEntry:U,registrationPromise:se}=yield wn(O);return se||U}return F})).apply(this,arguments)}function In(O){return ls(O,F=>{if(!F)throw Vt.create("installation-not-found");return Ha(F)})}function Ha(O){return function Li(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Bi(O,F){return fe.apply(this,arguments)}function fe(){return(fe=(0,G.Z)(function*({appConfig:O,heartbeatServiceProvider:F},U){const se=Ee(O,U),ke=q(O,U),Le=F.getImmediate({optional:!0});if(Le){const bn=yield Le.getHeartbeatsHeader();bn&&ke.append("x-firebase-client",bn)}const rn={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:Fe,appId:O.appId}})},fn=yield Xe(()=>fetch(se,rn));if(fn.ok)return nt(yield fn.json());throw yield st("Generate Auth Token",fn)})).apply(this,arguments)}function Ee(O,{fid:F}){return`${dt(O)}/${F}/authTokens:generate`}function Te(O){return lt.apply(this,arguments)}function lt(){return(lt=(0,G.Z)(function*(O,F=!1){let U;const se=yield ls(O.appConfig,Le=>{if(!En(Le))throw Vt.create("not-registered");const Qe=Le.authToken;if(!F&&Dr(Qe))return Le;if(1===Qe.requestStatus)return U=ue(O,F),Le;{if(!navigator.onLine)throw Vt.create("app-offline");const rn=pi(Le);return U=nn(O,rn),rn}});return U?yield U:se.authToken})).apply(this,arguments)}function ue(O,F){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,G.Z)(function*(O,F){let U=yield vt(O.appConfig);for(;1===U.authToken.requestStatus;)yield bt(100),U=yield vt(O.appConfig);const se=U.authToken;return 0===se.requestStatus?Te(O,F):se})).apply(this,arguments)}function vt(O){return ls(O,F=>{if(!En(F))throw Vt.create("not-registered");return function us(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function nn(O,F){return xn.apply(this,arguments)}function xn(){return(xn=(0,G.Z)(function*(O,F){try{const U=yield Bi(O,F),se=Object.assign(Object.assign({},F),{authToken:U});return yield Jr(O.appConfig,se),U}catch(U){if(!en(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const se=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Jr(O.appConfig,se)}else yield tr(O.appConfig);throw U}})).apply(this,arguments)}function En(O){return void 0!==O&&2===O.registrationStatus}function Dr(O){return 2===O.requestStatus&&!function Dn(O){const F=Date.now();return F<O.creationTime||O.creationTime+O.expiresIn<F+36e5}(O)}function pi(O){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:F})}function pc(){return(pc=(0,G.Z)(function*(O){const F=O,{installationEntry:U,registrationPromise:se}=yield wn(F);return se?se.catch(console.error):Te(F).catch(console.error),U.fid})).apply(this,arguments)}function gc(){return(gc=(0,G.Z)(function*(O,F=!1){const U=O;return yield gi(U),(yield Te(U,F)).token})).apply(this,arguments)}function gi(O){return mi.apply(this,arguments)}function mi(){return(mi=(0,G.Z)(function*(O){const{registrationPromise:F}=yield wn(O);F&&(yield F)})).apply(this,arguments)}function Dl(O){return Vt.create("missing-app-config-values",{valueName:O})}const Cn="installations",vn=O=>{const F=O.getProvider("app").getImmediate(),U=function Ui(O){if(!O||!O.options)throw Dl("App Configuration");if(!O.name)throw Dl("App Name");const F=["projectId","apiKey","appId"];for(const U of F)if(!O.options[U])throw Dl(U);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(F);return{app:F,appConfig:U,heartbeatServiceProvider:(0,de._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},vr=O=>{const F=O.getProvider("app").getImmediate(),U=(0,de._getProvider)(F,Cn).getImmediate();return{getId:()=>function fc(O){return pc.apply(this,arguments)}(U),getToken:ke=>function Il(O){return gc.apply(this,arguments)}(U,ke)}};(function Is(){(0,de._registerComponent)(new Q.wA(Cn,vn,"PUBLIC")),(0,de._registerComponent)(new Q.wA("installations-internal",vr,"PRIVATE"))})(),(0,de.registerVersion)(Ue,"0.5.9"),(0,de.registerVersion)(Ue,"0.5.9","esm2017");const To="@firebase/remote-config",Mr=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ld{constructor(F,U,se,ke){this.client=F,this.storage=U,this.storageCache=se,this.logger=ke}isCachedDataFresh(F,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-U,ke=se<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${ke}.`),ke}fetch(F){var U=this;return(0,G.Z)(function*(){const[se,ke]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(ke&&U.isCachedDataFresh(F.cacheMaxAgeMillis,se))return ke;F.eTag=ke&&ke.eTag;const Le=yield U.client.fetch(F),Qe=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&Qe.push(U.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all(Qe),Le})()}}function Ga(O=navigator){return O.languages&&O.languages[0]||O.language}class Zi{constructor(F,U,se,ke,Le,Qe){this.firebaseInstallations=F,this.sdkVersion=U,this.namespace=se,this.projectId=ke,this.apiKey=Le,this.appId=Qe}fetch(F){var U=this;return(0,G.Z)(function*(){const[se,ke]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),Qe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,rn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},fn={sdk_version:U.sdkVersion,app_instance_id:se,app_instance_id_token:ke,app_id:U.appId,language_code:Ga()},bn={method:"POST",headers:rn,body:JSON.stringify(fn)},or=fetch(Qe,bn),On=new Promise((Fs,ll)=>{F.signal.addEventListener(()=>{const ec=new Error("The operation was aborted.");ec.name="AbortError",ll(ec)})});let Di;try{yield Promise.race([or,On]),Di=yield or}catch(Fs){let ll="fetch-client-network";throw"AbortError"===Fs.name&&(ll="fetch-timeout"),Mr.create(ll,{originalErrorMessage:Fs.message})}let Xi=Di.status;const al=Di.headers.get("ETag")||void 0;let Ta,oa;if(200===Di.status){let Fs;try{Fs=yield Di.json()}catch(ll){throw Mr.create("fetch-client-parse",{originalErrorMessage:ll.message})}Ta=Fs.entries,oa=Fs.state}if("INSTANCE_STATE_UNSPECIFIED"===oa?Xi=500:"NO_CHANGE"===oa?Xi=304:("NO_TEMPLATE"===oa||"EMPTY_CONFIG"===oa)&&(Ta={}),304!==Xi&&200!==Xi)throw Mr.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:al,config:Ta}})()}}class _g{constructor(F,U){this.client=F,this.storage=U}fetch(F){var U=this;return(0,G.Z)(function*(){const se=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(F,se)})()}attemptFetch(F,{throttleEndTimeMillis:U,backoffCount:se}){var ke=this;return(0,G.Z)(function*(){yield function Jo(O,F){return new Promise((U,se)=>{const ke=Math.max(F-Date.now(),0),Le=setTimeout(U,ke);O.addEventListener(()=>{clearTimeout(Le),se(Mr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,U);try{const Le=yield ke.client.fetch(F);return yield ke.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function cd(O){if(!(O instanceof X.ZR&&O.customData))return!1;const F=Number(O.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Le))throw Le;const Qe={throttleEndTimeMillis:Date.now()+(0,X.$s)(se),backoffCount:se+1};return yield ke.storage.setThrottleMetadata(Qe),ke.attemptFetch(F,Qe)}})()}}class dh{constructor(F,U,se,ke,Le){this.app=F,this._client=U,this._storageCache=se,this._storage=ke,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ud(O,F){const U=O.target.error||void 0;return Mr.create(F,{originalErrorMessage:U&&U.message})}const ga="app_namespace_store";class Ff{constructor(F,U,se,ke=function Ol(){return new Promise((O,F)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=se=>{F(ud(se,"storage-open"))},U.onsuccess=se=>{O(se.target.result)},U.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(ga,{keyPath:"compositeKey"})}}catch(U){F(Mr.create("storage-open",{originalErrorMessage:U}))}})}()){this.appId=F,this.appName=U,this.namespace=se,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var U=this;return(0,G.Z)(function*(){const se=yield U.openDbPromise;return new Promise((ke,Le)=>{const rn=se.transaction([ga],"readonly").objectStore(ga),fn=U.createCompositeKey(F);try{const bn=rn.get(fn);bn.onerror=or=>{Le(ud(or,"storage-get"))},bn.onsuccess=or=>{const On=or.target.result;ke(On?On.value:void 0)}}catch(bn){Le(Mr.create("storage-get",{originalErrorMessage:bn&&bn.message}))}})})()}set(F,U){var se=this;return(0,G.Z)(function*(){const ke=yield se.openDbPromise;return new Promise((Le,Qe)=>{const fn=ke.transaction([ga],"readwrite").objectStore(ga),bn=se.createCompositeKey(F);try{const or=fn.put({compositeKey:bn,value:U});or.onerror=On=>{Qe(ud(On,"storage-set"))},or.onsuccess=()=>{Le()}}catch(or){Qe(Mr.create("storage-set",{originalErrorMessage:or&&or.message}))}})})()}delete(F){var U=this;return(0,G.Z)(function*(){const se=yield U.openDbPromise;return new Promise((ke,Le)=>{const rn=se.transaction([ga],"readwrite").objectStore(ga),fn=U.createCompositeKey(F);try{const bn=rn.delete(fn);bn.onerror=or=>{Le(ud(or,"storage-delete"))},bn.onsuccess=()=>{ke()}}catch(bn){Le(Mr.create("storage-delete",{originalErrorMessage:bn&&bn.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class fh{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,G.Z)(function*(){const U=F.storage.getLastFetchStatus(),se=F.storage.getLastSuccessfulFetchTimestampMillis(),ke=F.storage.getActiveConfig(),Le=yield U;Le&&(F.lastFetchStatus=Le);const Qe=yield se;Qe&&(F.lastSuccessfulFetchTimestampMillis=Qe);const rn=yield ke;rn&&(F.activeConfig=rn)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function au(){return ph.apply(this,arguments)}function ph(){return(ph=(0,G.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(O){return!1}})).apply(this,arguments)}!function Ml(){(0,de._registerComponent)(new Q.wA("remote-config",function O(F,{instanceIdentifier:U}){const se=F.getProvider("app").getImmediate(),ke=F.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mr.create("registration-window");if(!(0,X.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:Le,apiKey:Qe,appId:rn}=se.options;if(!Le)throw Mr.create("registration-project-id");if(!Qe)throw Mr.create("registration-api-key");if(!rn)throw Mr.create("registration-app-id");const fn=new Ff(rn,se.name,U=U||"firebase"),bn=new fh(fn),or=new Y.Yd(To);or.logLevel=Y.in.ERROR;const On=new Zi(ke,de.SDK_VERSION,U,Le,Qe,rn),Di=new _g(On,fn),Xi=new ld(Di,fn,bn,or),al=new dh(se,Xi,bn,fn,or);return function wr(O){const F=(0,X.m9)(O);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(al),al},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(To,"0.3.8"),(0,de.registerVersion)(To,"0.3.8","esm2017")}();const gh="/firebase-messaging-sw.js",Ki="/firebase-cloud-messaging-push-scope",$a="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fl="google.c.a.c_id",mh="google.c.a.c_l",Rf="google.c.a.ts",Wa="google.c.a.e";var za=(()=>{return(O=za||(za={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",za;var O})();function ds(O){const F=new Uint8Array(O);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _h(O){const U=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(U),ke=new Uint8Array(se.length);for(let Le=0;Le<se.length;++Le)ke[Le]=se.charCodeAt(Le);return ke}const hs="fcm_token_details_db",qs="fcm_token_object_Store";function dd(O){return vh.apply(this,arguments)}function vh(){return vh=(0,G.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(hs))return null;let F=null;return(yield(0,J.X3)(hs,5,{upgrade:(se=(0,G.Z)(function*(ke,Le,Qe,rn){var fn;if(Le<2||!ke.objectStoreNames.contains(qs))return;const bn=rn.objectStore(qs),or=yield bn.index("fcmSenderId").get(O);if(yield bn.clear(),or)if(2===Le){const On=or;if(!On.auth||!On.p256dh||!On.endpoint)return;F={token:On.fcmToken,createTime:null!==(fn=On.createTime)&&void 0!==fn?fn:Date.now(),subscriptionOptions:{auth:On.auth,p256dh:On.p256dh,endpoint:On.endpoint,swScope:On.swScope,vapidKey:"string"==typeof On.vapidKey?On.vapidKey:ds(On.vapidKey)}}}else if(3===Le){const On=or;F={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:ds(On.auth),p256dh:ds(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:ds(On.vapidKey)}}}else if(4===Le){const On=or;F={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:ds(On.auth),p256dh:ds(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:ds(On.vapidKey)}}}}),function(Le,Qe,rn,fn){return se.apply(this,arguments)})})).close(),yield(0,J.Lj)(hs),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),hd(F)?F:null;var se}),vh.apply(this,arguments)}function hd(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:F}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Do="firebase-messaging-store";let Lf=null;function xr(){return Lf||(Lf=(0,J.X3)("firebase-messaging-database",1,{upgrade:(O,F)=>{0===F&&O.createObjectStore(Do)}})),Lf}function Za(O){return ma.apply(this,arguments)}function ma(){return(ma=(0,G.Z)(function*(O){const F=Vi(O),se=yield(yield xr()).transaction(Do).objectStore(Do).get(F);if(se)return se;{const ke=yield dd(O.appConfig.senderId);if(ke)return yield sr(O,ke),ke}})).apply(this,arguments)}function sr(O,F){return vc.apply(this,arguments)}function vc(){return(vc=(0,G.Z)(function*(O,F){const U=Vi(O),ke=(yield xr()).transaction(Do,"readwrite");return yield ke.objectStore(Do).put(F,U),yield ke.done,F})).apply(this,arguments)}function lu(O){return zs.apply(this,arguments)}function zs(){return(zs=(0,G.Z)(function*(O){const F=Vi(O),se=(yield xr()).transaction(Do,"readwrite");yield se.objectStore(Do).delete(F),yield se.done})).apply(this,arguments)}function Vi({appConfig:O}){return O.appId}const Lr=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ko(O,F){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,G.Z)(function*(O,F){const U=yield Ll(O),se=_a(F),ke={method:"POST",headers:U,body:JSON.stringify(se)};let Le;try{Le=yield(yield fetch(Po(O.appConfig),ke)).json()}catch(Qe){throw Lr.create("token-subscribe-failed",{errorInfo:Qe})}if(Le.error)throw Lr.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw Lr.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function Ka(O,F){return fo.apply(this,arguments)}function fo(){return(fo=(0,G.Z)(function*(O,F){const U=yield Ll(O),se=_a(F.subscriptionOptions),ke={method:"PATCH",headers:U,body:JSON.stringify(se)};let Le;try{Le=yield(yield fetch(`${Po(O.appConfig)}/${F.token}`,ke)).json()}catch(Qe){throw Lr.create("token-update-failed",{errorInfo:Qe})}if(Le.error)throw Lr.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw Lr.create("token-update-no-token");return Le.token})).apply(this,arguments)}function Rl(O,F){return po.apply(this,arguments)}function po(){return(po=(0,G.Z)(function*(O,F){const se={method:"DELETE",headers:yield Ll(O)};try{const Le=yield(yield fetch(`${Po(O.appConfig)}/${F}`,se)).json();if(Le.error)throw Lr.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(ke){throw Lr.create("token-unsubscribe-failed",{errorInfo:ke})}})).apply(this,arguments)}function Po({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function Ll(O){return An.apply(this,arguments)}function An(){return(An=(0,G.Z)(function*({appConfig:O,installations:F}){const U=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function _a({p256dh:O,auth:F,endpoint:U,vapidKey:se}){const ke={web:{endpoint:U,auth:F,p256dh:O}};return se!==$a&&(ke.web.applicationPubKey=se),ke}const pd=6048e5;function Bl(O){return gd.apply(this,arguments)}function gd(){return(gd=(0,G.Z)(function*(O){const F=yield Qa(O.swRegistration,O.vapidKey),U={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:F.endpoint,auth:ds(F.getKey("auth")),p256dh:ds(F.getKey("p256dh"))},se=yield Za(O.firebaseDependencies);if(se){if(yc(se.subscriptionOptions,U))return Date.now()>=se.createTime+pd?md(O,{token:se.token,createTime:Date.now(),subscriptionOptions:U}):se.token;try{yield Rl(O.firebaseDependencies,se.token)}catch(ke){console.warn(ke)}return ut(O.firebaseDependencies,U)}return ut(O.firebaseDependencies,U)})).apply(this,arguments)}function Ya(O){return uu.apply(this,arguments)}function uu(){return(uu=(0,G.Z)(function*(O){const F=yield Za(O.firebaseDependencies);F&&(yield Rl(O.firebaseDependencies,F.token),yield lu(O.firebaseDependencies));const U=yield O.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()})).apply(this,arguments)}function md(O,F){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,G.Z)(function*(O,F){try{const U=yield Ka(O.firebaseDependencies,F),se=Object.assign(Object.assign({},F),{token:U,createTime:Date.now()});return yield sr(O.firebaseDependencies,se),U}catch(U){throw yield Ya(O),U}})).apply(this,arguments)}function ut(O,F){return $n.apply(this,arguments)}function $n(){return($n=(0,G.Z)(function*(O,F){const se={token:yield ko(O,F),createTime:Date.now(),subscriptionOptions:F};return yield sr(O,se),se.token})).apply(this,arguments)}function Qa(O,F){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,G.Z)(function*(O,F){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_h(F)})})).apply(this,arguments)}function yc(O,F){return F.vapidKey===O.vapidKey&&F.endpoint===O.endpoint&&F.auth===O.auth&&F.p256dh===O.p256dh}function va(O){const F={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function ks(O,F){if(!F.notification)return;O.notification={};const U=F.notification.title;U&&(O.notification.title=U);const se=F.notification.body;se&&(O.notification.body=se);const ke=F.notification.image;ke&&(O.notification.image=ke)}(F,O),function _d(O,F){!F.data||(O.data=F.data)}(F,O),function vd(O,F){if(!F.fcmOptions)return;O.fcmOptions={};const U=F.fcmOptions.link;U&&(O.fcmOptions.link=U);const se=F.fcmOptions.analytics_label;se&&(O.fcmOptions.analyticsLabel=se)}(F,O),F}function yd(O){return"object"==typeof O&&!!O&&Fl in O}function yh(O,F){const U=[];for(let se=0;se<O.length;se++)U.push(O.charAt(se)),se<F.length&&U.push(F.charAt(se));return U.join("")}function ta(O){return Lr.create("missing-app-config-values",{valueName:O})}yh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yi{constructor(F,U,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function wg(O){if(!O||!O.options)throw ta("App Configuration Object");if(!O.name)throw ta("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:U}=O;for(const se of F)if(!U[se])throw ta(se);return{appName:O.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:ke,installations:U,analyticsProvider:se}}_delete(){return Promise.resolve()}}function Zs(O){return du.apply(this,arguments)}function du(){return(du=(0,G.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(gh,{scope:Ki}),O.swRegistration.update().catch(()=>{})}catch(F){throw Lr.create("failed-service-worker-registration",{browserErrorMessage:F.message})}})).apply(this,arguments)}function ya(O,F){return go.apply(this,arguments)}function go(){return(go=(0,G.Z)(function*(O,F){if(!F&&!O.swRegistration&&(yield Zs(O)),F||!O.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Lr.create("invalid-sw-registration");O.swRegistration=F}})).apply(this,arguments)}function hu(O,F){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,G.Z)(function*(O,F){F?O.vapidKey=F:O.vapidKey||(O.vapidKey=$a)})).apply(this,arguments)}function wd(){return(wd=(0,G.Z)(function*(O,F){if(!navigator)throw Lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lr.create("permission-blocked");return yield hu(O,null==F?void 0:F.vapidKey),yield ya(O,null==F?void 0:F.serviceWorkerRegistration),Bl(O)})).apply(this,arguments)}function Hl(O,F,U){return fu.apply(this,arguments)}function fu(){return(fu=(0,G.Z)(function*(O,F,U){const se=xc(F);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:U[Fl],message_name:U[mh],message_time:U[Rf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xc(O){switch(O){case za.NOTIFICATION_CLICKED:return"notification_open";case za.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pu(){return(pu=(0,G.Z)(function*(O,F){const U=F.data;if(!U.isFirebaseMessaging)return;O.onMessageHandler&&U.messageType===za.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(va(U)):O.onMessageHandler.next(va(U)));const se=U.data;yd(se)&&"1"===se[Wa]&&(yield Hl(O,U.messageType,se))})).apply(this,arguments)}const Ec="@firebase/messaging",gu=O=>{const F=new Yi(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function wh(O,F){return pu.apply(this,arguments)}(F,U)),F},jl=O=>{const F=O.getProvider("messaging").getImmediate();return{getToken:se=>function wc(O,F){return wd.apply(this,arguments)}(F,se)}};function mu(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,G.Z)(function*(){try{yield(0,X.eu)()}catch(O){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xh(){(0,de._registerComponent)(new Q.wA("messaging",gu,"PUBLIC")),(0,de._registerComponent)(new Q.wA("messaging-internal",jl,"PRIVATE")),(0,de.registerVersion)(Ec,"0.9.13"),(0,de.registerVersion)(Ec,"0.9.13","esm2017")}();const bh="analytics",Uf="firebase_id",na="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ja="https://www.googletagmanager.com/gtag/js",oi=new Y.Yd("@firebase/analytics");function _u(O){return Promise.all(O.map(F=>F.catch(U=>U)))}function bg(O,F){const U=document.createElement("script");U.src=`${Ja}?l=${O}&id=${F}`,U.async=!0,document.head.appendChild(U)}function Gl(O,F,U,se,ke,Le){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,G.Z)(function*(O,F,U,se,ke,Le){const Qe=se[ke];try{if(Qe)yield F[Qe];else{const fn=(yield _u(U)).find(bn=>bn.measurementId===ke);fn&&(yield F[fn.appId])}}catch(rn){oi.error(rn)}O("config",ke,Le)})).apply(this,arguments)}function xa(O,F,U,se,ke){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,G.Z)(function*(O,F,U,se,ke){try{let Le=[];if(ke&&ke.send_to){let Qe=ke.send_to;Array.isArray(Qe)||(Qe=[Qe]);const rn=yield _u(U);for(const fn of Qe){const bn=rn.find(On=>On.measurementId===fn),or=bn&&F[bn.appId];if(!or){Le=[];break}Le.push(or)}}0===Le.length&&(Le=Object.values(F)),yield Promise.all(Le),O("event",se,ke||{})}catch(Le){oi.error(Le)}})).apply(this,arguments)}function Tr(){const O=window.document.getElementsByTagName("script");for(const F of Object.values(O))if(F.src&&F.src.includes(Ja))return F;return null}const un=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),k=new class A{constructor(F={},U=1e3){this.throttleMetadata=F,this.intervalMillis=U}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,U){this.throttleMetadata[F]=U}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function L(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function le(O){return at.apply(this,arguments)}function at(){return(at=(0,G.Z)(function*(O){var F;const{appId:U,apiKey:se}=O,ke={method:"GET",headers:L(se)},Le=na.replace("{app-id}",U),Qe=yield fetch(Le,ke);if(200!==Qe.status&&304!==Qe.status){let rn="";try{const fn=yield Qe.json();(null===(F=fn.error)||void 0===F?void 0:F.message)&&(rn=fn.error.message)}catch(fn){}throw un.create("config-fetch-failed",{httpStatus:Qe.status,responseMessage:rn})}return Qe.json()})).apply(this,arguments)}function Bt(O){return fr.apply(this,arguments)}function fr(){return(fr=(0,G.Z)(function*(O,F=k,U){const{appId:se,apiKey:ke,measurementId:Le}=O.options;if(!se)throw un.create("no-app-id");if(!ke){if(Le)return{measurementId:Le,appId:se};throw un.create("no-api-key")}const Qe=F.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rn=new Th;return setTimeout((0,G.Z)(function*(){rn.abort()}),void 0!==U?U:6e4),ti({appId:se,apiKey:ke,measurementId:Le},Qe,rn,F)})).apply(this,arguments)}function ti(O,F,U){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,G.Z)(function*(O,{throttleEndTimeMillis:F,backoffCount:U},se,ke=k){const{appId:Le,measurementId:Qe}=O;try{yield tl(se,F)}catch(rn){if(Qe)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${rn.message}]`),{appId:Le,measurementId:Qe};throw rn}try{const rn=yield le(O);return ke.deleteThrottleMetadata(Le),rn}catch(rn){if(!vu(rn)){if(ke.deleteThrottleMetadata(Le),Qe)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${rn.message}]`),{appId:Le,measurementId:Qe};throw rn}const fn=503===Number(rn.customData.httpStatus)?(0,X.$s)(U,ke.intervalMillis,30):(0,X.$s)(U,ke.intervalMillis),bn={throttleEndTimeMillis:Date.now()+fn,backoffCount:U+1};return ke.setThrottleMetadata(Le,bn),oi.debug(`Calling attemptFetch again in ${fn} millis`),ti(O,bn,se,ke)}})).apply(this,arguments)}function tl(O,F){return new Promise((U,se)=>{const ke=Math.max(F-Date.now(),0),Le=setTimeout(U,ke);O.addEventListener(()=>{clearTimeout(Le),se(un.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function vu(O){if(!(O instanceof X.ZR&&O.customData))return!1;const F=Number(O.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Th{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function Vf(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,G.Z)(function*(){if(!(0,X.hl)())return oi.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(O){return oi.warn(un.create("indexeddb-unavailable",{errorInfo:O}).message),!1}return!0})).apply(this,arguments)}function yu(){return(yu=(0,G.Z)(function*(O,F,U,se,ke,Le,Qe){var rn;const fn=Bt(O);fn.then(Xi=>{U[Xi.measurementId]=Xi.appId,O.options.measurementId&&Xi.measurementId!==O.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${Xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xi=>oi.error(Xi)),F.push(fn);const bn=Vf().then(Xi=>{if(Xi)return se.getId()}),[or,On]=yield Promise.all([fn,bn]);Tr()||bg(Le,or.measurementId),ke("js",new Date);const Di=null!==(rn=null==Qe?void 0:Qe.config)&&void 0!==rn?rn:{};return Di.origin="firebase",Di.update=!0,null!=On&&(Di[Uf]=On),ke("config",or.measurementId,Di),or.measurementId})).apply(this,arguments)}class Cc{constructor(F){this.app=F}_delete(){return delete fs[this.app.options.appId],Promise.resolve()}}let fs={},Ks=[];const Sc={};let xu,zl,wu="dataLayer",Eu=!1;function nl(O,F,U){!function Ed(){const O=[];if((0,X.ru)()&&O.push("This is a browser extension environment."),(0,X.zI)()||O.push("Cookies are not available."),O.length>0){const F=O.map((se,ke)=>`(${ke+1}) ${se}`).join(" "),U=un.create("invalid-analytics-context",{errorInfo:F});oi.warn(U.message)}}();const se=O.options.appId;if(!se)throw un.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw un.create("no-api-key");oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fs[se])throw un.create("already-exists",{id:se});if(!Eu){!function el(O){let F=[];Array.isArray(window[O])?F=window[O]:window[O]=F}(wu);const{wrappedGtag:Le,gtagCore:Qe}=function Tg(O,F,U,se,ke){let Le=function(...Qe){window[se].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Le=window[ke]),window[ke]=function Tc(O,F,U,se){function Le(){return(Le=(0,G.Z)(function*(Qe,rn,fn){try{"event"===Qe?yield xa(O,F,U,rn,fn):"config"===Qe?yield Gl(O,F,U,se,rn,fn):O("set",rn)}catch(bn){oi.error(bn)}})).apply(this,arguments)}return function ke(Qe,rn,fn){return Le.apply(this,arguments)}}(Le,O,F,U),{gtagCore:Le,wrappedGtag:window[ke]}}(fs,Ks,Sc,wu,"gtag");zl=Le,xu=Qe,Eu=!0}return fs[se]=function Wl(O,F,U,se,ke,Le,Qe){return yu.apply(this,arguments)}(O,Ks,Sc,F,xu,wu,U),new Cc(O)}function ai(){return(ai=(0,G.Z)(function*(O,F,U,se,ke){if(ke&&ke.global)O("event",U,se);else{const Le=yield F;O("event",U,Object.assign(Object.assign({},se),{send_to:Le}))}})).apply(this,arguments)}function ia(){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,G.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(O){return!1}})).apply(this,arguments)}const Ys="@firebase/analytics";!function Ql(){(0,de._registerComponent)(new Q.wA(bh,(F,{options:U})=>nl(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,de._registerComponent)(new Q.wA("analytics-internal",function O(F){try{const U=F.getProvider(bh).getImmediate();return{logEvent:(se,ke,Le)=>function bu(O,F,U,se){O=(0,X.m9)(O),function Zl(O,F,U,se,ke){return ai.apply(this,arguments)}(zl,fs[O.app.options.appId],F,U,se).catch(ke=>oi.error(ke))}(U,se,ke,Le)}}catch(U){throw un.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,de.registerVersion)(Ys,"0.7.9"),(0,de.registerVersion)(Ys,"0.7.9","esm2017")}();var Gf=K(4408),Sh=K(7565);const bd=new class vi extends Sh.v{}(class Ea extends Gf.o{constructor(F,U){super(F,U),this.scheduler=F,this.work=U}schedule(F,U=0){return U>0?super.schedule(F,U):(this.delay=U,this.state=F,this.scheduler.flush(this),this)}execute(F,U){return U>0||this.closed?super.execute(F,U):this._execute(F,U)}requestAsyncId(F,U,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(F,U,se):F.flush(this)}});var Sg=K(4986),Rm=K(8505),Os=K(5363),Qs=K(9468);const Td=new c.GfV("7.3.0"),Tu="__angularfire_symbol__analyticsIsSupportedValue",il="__angularfire_symbol__analyticsIsSupported",Xl="__angularfire_symbol__remoteConfigIsSupportedValue",sl="__angularfire_symbol__remoteConfigIsSupported",Cu="__angularfire_symbol__messagingIsSupportedValue",jn="__angularfire_symbol__messagingIsSupported";function Au(O,F,U){if(F){if(1===F.length)return F[0];const Le=F.filter(Qe=>Qe.app===U);if(1===Le.length)return Le[0]}return U.container.getProvider(O).getImmediate({optional:!0})}globalThis[il]||(globalThis[il]=ia().then(O=>globalThis[Tu]=O).catch(()=>globalThis[Tu]=!1)),globalThis[jn]||(globalThis[jn]=mu().then(O=>globalThis[Cu]=O).catch(()=>globalThis[Cu]=!1)),globalThis[sl]||(globalThis[sl]=au().then(O=>globalThis[Xl]=O).catch(()=>globalThis[Xl]=!1));const _y=(O,F)=>{const U=F?[F]:(0,ye.C6)(),se=[];return U.forEach(ke=>{ke.container.getProvider(O).instances.forEach(Qe=>{se.includes(Qe)||se.push(Qe)})}),se};function ol(){}class sa{constructor(F,U=bd){this.zone=F,this.delegate=U}now(){return this.delegate.now()}schedule(F,U,se){const ke=this.zone;return this.delegate.schedule(function(Qe){ke.runGuarded(()=>{F.apply(this,[Qe])})},U,se)}}class Ih{constructor(F){this.zone=F,this.task=null}call(F,U){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ol,{},ol,ol)),U.pipe((0,Rm.b)({next:se,complete:se,error:se})).subscribe(F).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ig=(()=>{class O{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new sa(Zone.current)),this.insideAngular=U.run(()=>new sa(Zone.current,Sg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(U){return new(U||O)(c.LFG(c.R0b))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ba(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function ps(O){return O.pipe((0,Os.Q)(ba().outsideAngular))}function Lm(O){return ba(),function Jl(O){return function(U){return(U=U.lift(new Ih(O.ngZone))).pipe((0,Qs.R)(O.outsideAngular),(0,Os.Q)(O.insideAngular))}}(ba())(O)}},2090:(Jt,Ye,K)=>{"use strict";K.d(Ye,{$s:()=>In,BH:()=>Nt,DV:()=>Gn,Dv:()=>bo,G6:()=>Mt,GJ:()=>Zn,L:()=>J,LL:()=>Ve,Mn:()=>st,Pz:()=>Vn,Sg:()=>ft,UG:()=>qe,UI:()=>Cs,US:()=>Q,Wj:()=>wn,Yr:()=>Ft,ZB:()=>_e,ZR:()=>Ne,b$:()=>en,cI:()=>Qn,d:()=>dt,dS:()=>cs,eu:()=>Xe,g5:()=>G,gK:()=>ls,gQ:()=>Ss,h$:()=>Y,hl:()=>q,hu:()=>ye,jU:()=>ot,lb:()=>$r,m9:()=>Bi,ne:()=>qi,p$:()=>me,pd:()=>uo,r3:()=>Xr,ru:()=>Vt,tV:()=>Ue,uI:()=>Ot,ug:()=>Bn,vZ:()=>as,w1:()=>nt,w9:()=>_r,xO:()=>Ni,xb:()=>Hn,z$:()=>Et,zI:()=>we,zd:()=>Gs});const ye=function(fe,Ee){if(!fe)throw G(Ee)},G=function(fe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+fe)},de=function(fe){const Ee=[];let Te=0;for(let lt=0;lt<fe.length;lt++){let ue=fe.charCodeAt(lt);ue<128?Ee[Te++]=ue:ue<2048?(Ee[Te++]=ue>>6|192,Ee[Te++]=63&ue|128):55296==(64512&ue)&&lt+1<fe.length&&56320==(64512&fe.charCodeAt(lt+1))?(ue=65536+((1023&ue)<<10)+(1023&fe.charCodeAt(++lt)),Ee[Te++]=ue>>18|240,Ee[Te++]=ue>>12&63|128,Ee[Te++]=ue>>6&63|128,Ee[Te++]=63&ue|128):(Ee[Te++]=ue>>12|224,Ee[Te++]=ue>>6&63|128,Ee[Te++]=63&ue|128)}return Ee},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,Ee){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let ue=0;ue<fe.length;ue+=3){const Oe=fe[ue],vt=ue+1<fe.length,nn=vt?fe[ue+1]:0,xn=ue+2<fe.length,En=xn?fe[ue+2]:0;let pi=(15&nn)<<2|En>>6,us=63&En;xn||(us=64,vt||(pi=64)),lt.push(Te[Oe>>2],Te[(3&Oe)<<4|nn>>4],Te[pi],Te[us])}return lt.join("")},encodeString(fe,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(fe):this.encodeByteArray(de(fe),Ee)},decodeString(fe,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(fe):function(fe){const Ee=[];let Te=0,lt=0;for(;Te<fe.length;){const ue=fe[Te++];if(ue<128)Ee[lt++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Oe=fe[Te++];Ee[lt++]=String.fromCharCode((31&ue)<<6|63&Oe)}else if(ue>239&&ue<365){const xn=((7&ue)<<18|(63&fe[Te++])<<12|(63&fe[Te++])<<6|63&fe[Te++])-65536;Ee[lt++]=String.fromCharCode(55296+(xn>>10)),Ee[lt++]=String.fromCharCode(56320+(1023&xn))}else{const Oe=fe[Te++],vt=fe[Te++];Ee[lt++]=String.fromCharCode((15&ue)<<12|(63&Oe)<<6|63&vt)}}return Ee.join("")}(this.decodeStringToByteArray(fe,Ee))},decodeStringToByteArray(fe,Ee){this.init_();const Te=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let ue=0;ue<fe.length;){const Oe=Te[fe.charAt(ue++)],nn=ue<fe.length?Te[fe.charAt(ue)]:0;++ue;const En=ue<fe.length?Te[fe.charAt(ue)]:64;++ue;const Dn=ue<fe.length?Te[fe.charAt(ue)]:64;if(++ue,null==Oe||null==nn||null==En||null==Dn)throw Error();lt.push(Oe<<2|nn>>4),64!==En&&(lt.push(nn<<4&240|En>>2),64!==Dn&&lt.push(En<<6&192|Dn))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}},Y=function(fe){const Ee=de(fe);return Q.encodeByteArray(Ee,!0)},J=function(fe){return Y(fe).replace(/\./g,"")},Ue=function(fe){try{return Q.decodeString(fe,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function me(fe){return _e(void 0,fe)}function _e(fe,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return Ee}for(const Te in Ee)!Ee.hasOwnProperty(Te)||!Fe(Te)||(fe[Te]=_e(fe[Te],Ee[Te]));return fe}function Fe(fe){return"__proto__"!==fe}class Nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Te)=>{this.resolve=Ee,this.reject=Te})}wrapCallback(Ee){return(Te,lt)=>{Te?this.reject(Te):this.resolve(lt),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Te):Ee(Te,lt))}}}function ft(fe,Ee){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=Ee||"demo-project",ue=fe.iat||0,Oe=fe.sub||fe.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:ue,exp:ue+3600,auth_time:ue,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(vt)),""].join(".")}function Et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(fe){return!1}}function ot(){return"object"==typeof self&&self.self===self}function Vt(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function en(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){return Et().indexOf("Electron/")>=0}function nt(){const fe=Et();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function st(){return Et().indexOf("MSAppHost/")>=0}function Ft(){return!1}function Mt(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function Xe(){return new Promise((fe,Ee)=>{try{let Te=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(lt);ue.onsuccess=()=>{ue.result.close(),Te||self.indexedDB.deleteDatabase(lt),fe(!0)},ue.onupgradeneeded=()=>{Te=!1},ue.onerror=()=>{var Oe;Ee((null===(Oe=ue.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(Te){Ee(Te)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ne extends Error{constructor(Ee,Te,lt){super(Te),this.code=Ee,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(Ee,Te,lt){this.service=Ee,this.serviceName=Te,this.errors=lt}create(Ee,...Te){const lt=Te[0]||{},ue=`${this.service}/${Ee}`,Oe=this.errors[Ee],vt=Oe?function bt(fe,Ee){return fe.replace(mn,(Te,lt)=>{const ue=Ee[lt];return null!=ue?String(ue):`<${lt}?>`})}(Oe,lt):"Error";return new Ne(ue,`${this.serviceName}: ${vt} (${ue}).`,lt)}}const mn=/\{\$([^}]+)}/g;function Qn(fe){return JSON.parse(fe)}function Vn(fe){return JSON.stringify(fe)}const qt=function(fe){let Ee={},Te={},lt={},ue="";try{const Oe=fe.split(".");Ee=Qn(Ue(Oe[0])||""),Te=Qn(Ue(Oe[1])||""),ue=Oe[2],lt=Te.d||{},delete Te.d}catch(Oe){}return{header:Ee,claims:Te,data:lt,signature:ue}},_r=function(fe){const Te=qt(fe).claims;return!!Te&&"object"==typeof Te&&Te.hasOwnProperty("iat")},Zn=function(fe){const Ee=qt(fe).claims;return"object"==typeof Ee&&!0===Ee.admin};function Xr(fe,Ee){return Object.prototype.hasOwnProperty.call(fe,Ee)}function Gn(fe,Ee){if(Object.prototype.hasOwnProperty.call(fe,Ee))return fe[Ee]}function Hn(fe){for(const Ee in fe)if(Object.prototype.hasOwnProperty.call(fe,Ee))return!1;return!0}function Cs(fe,Ee,Te){const lt={};for(const ue in fe)Object.prototype.hasOwnProperty.call(fe,ue)&&(lt[ue]=Ee.call(Te,fe[ue],ue,fe));return lt}function as(fe,Ee){if(fe===Ee)return!0;const Te=Object.keys(fe),lt=Object.keys(Ee);for(const ue of Te){if(!lt.includes(ue))return!1;const Oe=fe[ue],vt=Ee[ue];if(Wi(Oe)&&Wi(vt)){if(!as(Oe,vt))return!1}else if(Oe!==vt)return!1}for(const ue of lt)if(!Te.includes(ue))return!1;return!0}function Wi(fe){return null!==fe&&"object"==typeof fe}function Ni(fe){const Ee=[];for(const[Te,lt]of Object.entries(fe))Array.isArray(lt)?lt.forEach(ue=>{Ee.push(encodeURIComponent(Te)+"="+encodeURIComponent(ue))}):Ee.push(encodeURIComponent(Te)+"="+encodeURIComponent(lt));return Ee.length?"&"+Ee.join("&"):""}function Gs(fe){const Ee={};return fe.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[ue,Oe]=lt.split("=");Ee[decodeURIComponent(ue)]=decodeURIComponent(Oe)}}),Ee}function uo(fe){const Ee=fe.indexOf("?");if(!Ee)return"";const Te=fe.indexOf("#",Ee);return fe.substring(Ee,Te>0?Te:void 0)}class Ss{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ee,Te){Te||(Te=0);const lt=this.W_;if("string"==typeof Ee)for(let Dn=0;Dn<16;Dn++)lt[Dn]=Ee.charCodeAt(Te)<<24|Ee.charCodeAt(Te+1)<<16|Ee.charCodeAt(Te+2)<<8|Ee.charCodeAt(Te+3),Te+=4;else for(let Dn=0;Dn<16;Dn++)lt[Dn]=Ee[Te]<<24|Ee[Te+1]<<16|Ee[Te+2]<<8|Ee[Te+3],Te+=4;for(let Dn=16;Dn<80;Dn++){const pi=lt[Dn-3]^lt[Dn-8]^lt[Dn-14]^lt[Dn-16];lt[Dn]=4294967295&(pi<<1|pi>>>31)}let En,Dr,ue=this.chain_[0],Oe=this.chain_[1],vt=this.chain_[2],nn=this.chain_[3],xn=this.chain_[4];for(let Dn=0;Dn<80;Dn++){Dn<40?Dn<20?(En=nn^Oe&(vt^nn),Dr=1518500249):(En=Oe^vt^nn,Dr=1859775393):Dn<60?(En=Oe&vt|nn&(Oe|vt),Dr=2400959708):(En=Oe^vt^nn,Dr=3395469782);const pi=(ue<<5|ue>>>27)+En+xn+Dr+lt[Dn]&4294967295;xn=nn,nn=vt,vt=4294967295&(Oe<<30|Oe>>>2),Oe=ue,ue=pi}this.chain_[0]=this.chain_[0]+ue&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+vt&4294967295,this.chain_[3]=this.chain_[3]+nn&4294967295,this.chain_[4]=this.chain_[4]+xn&4294967295}update(Ee,Te){if(null==Ee)return;void 0===Te&&(Te=Ee.length);const lt=Te-this.blockSize;let ue=0;const Oe=this.buf_;let vt=this.inbuf_;for(;ue<Te;){if(0===vt)for(;ue<=lt;)this.compress_(Ee,ue),ue+=this.blockSize;if("string"==typeof Ee){for(;ue<Te;)if(Oe[vt]=Ee.charCodeAt(ue),++vt,++ue,vt===this.blockSize){this.compress_(Oe),vt=0;break}}else for(;ue<Te;)if(Oe[vt]=Ee[ue],++vt,++ue,vt===this.blockSize){this.compress_(Oe),vt=0;break}}this.inbuf_=vt,this.total_+=Te}digest(){const Ee=[];let Te=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ue=this.blockSize-1;ue>=56;ue--)this.buf_[ue]=255&Te,Te/=256;this.compress_(this.buf_);let lt=0;for(let ue=0;ue<5;ue++)for(let Oe=24;Oe>=0;Oe-=8)Ee[lt]=this.chain_[ue]>>Oe&255,++lt;return Ee}}function qi(fe,Ee){const Te=new an(fe,Ee);return Te.subscribe.bind(Te)}class an{constructor(Ee,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{Ee(this)}).catch(lt=>{this.error(lt)})}next(Ee){this.forEachObserver(Te=>{Te.next(Ee)})}error(Ee){this.forEachObserver(Te=>{Te.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Te,lt){let ue;if(void 0===Ee&&void 0===Te&&void 0===lt)throw new Error("Missing Observer.");ue=function Gr(fe,Ee){if("object"!=typeof fe||null===fe)return!1;for(const Te of Ee)if(Te in fe&&"function"==typeof fe[Te])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Te,complete:lt},void 0===ue.next&&(ue.next=tr),void 0===ue.error&&(ue.error=tr),void 0===ue.complete&&(ue.complete=tr);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(vt){}}),this.observers.push(ue),Oe}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,Ee)}sendOne(Ee,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Te(this.observers[Ee])}catch(lt){"undefined"!=typeof console&&console.error&&console.error(lt)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}const bo=function(fe,Ee,Te,lt){let ue;if(lt<Ee?ue="at least "+Ee:lt>Te&&(ue=0===Te?"none":"no more than "+Te),ue)throw new Error(fe+" failed: Was called with "+lt+(1===lt?" argument.":" arguments.")+" Expects "+ue+".")};function ls(fe,Ee){return`${fe} failed: ${Ee} argument `}function wn(fe,Ee,Te,lt){if((!lt||Te)&&"function"!=typeof Te)throw new Error(ls(fe,Ee)+"must be a valid function.")}function $r(fe,Ee,Te,lt){if((!lt||Te)&&("object"!=typeof Te||null===Te))throw new Error(ls(fe,Ee)+"must be a valid context object.")}const cs=function(fe){const Ee=[];let Te=0;for(let lt=0;lt<fe.length;lt++){let ue=fe.charCodeAt(lt);if(ue>=55296&&ue<=56319){const Oe=ue-55296;lt++,ye(lt<fe.length,"Surrogate pair missing trail surrogate."),ue=65536+(Oe<<10)+(fe.charCodeAt(lt)-56320)}ue<128?Ee[Te++]=ue:ue<2048?(Ee[Te++]=ue>>6|192,Ee[Te++]=63&ue|128):ue<65536?(Ee[Te++]=ue>>12|224,Ee[Te++]=ue>>6&63|128,Ee[Te++]=63&ue|128):(Ee[Te++]=ue>>18|240,Ee[Te++]=ue>>12&63|128,Ee[Te++]=ue>>6&63|128,Ee[Te++]=63&ue|128)}return Ee},Bn=function(fe){let Ee=0;for(let Te=0;Te<fe.length;Te++){const lt=fe.charCodeAt(Te);lt<128?Ee++:lt<2048?Ee+=2:lt>=55296&&lt<=56319?(Ee+=4,Te++):Ee+=3}return Ee};function In(fe,Ee=1e3,Te=2){const lt=Ee*Math.pow(Te,fe),ue=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+ue)}function Bi(fe){return fe&&fe._delegate?fe._delegate:fe}},5887:(Jt,Ye,K)=>{"use strict";var c=K(5e3);let ye=null;function G(){return ye}const Y=new c.OlP("DocumentToken");let J=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return(0,c.LFG)(_e)}()},providedIn:"platform"}),n})();const me=new c.OlP("Location Initialized");let _e=(()=>{class n extends J{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Fe()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Fe()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Nt(){return new _e((0,c.LFG)(Y))}()},providedIn:"platform"}),n})();function Fe(){return!!window.history.pushState}function ft(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Et(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ot(n){return n&&"?"!==n[0]?"?"+n:n}let qe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ot(n){const e=(0,c.LFG)(Y).location;return new en((0,c.LFG)(J),e&&e.origin||"")}()},providedIn:"root"}),n})();const Vt=new c.OlP("appBaseHref");let en=(()=>{class n extends qe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ft(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ot(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ot(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ot(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(Vt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),dt=(()=>{class n extends qe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ft(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ot(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ot(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(Vt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),nt=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Et(Mt(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ot(r))}normalize(t){return n.stripTrailingSlash(function Ft(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Mt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ot(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ot(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ot,n.joinWithSlash=ft,n.stripTrailingSlash=Et,n.\u0275fac=function(t){return new(t||n)(c.LFG(qe),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function st(){return new nt((0,c.LFG)(qe),(0,c.LFG)(J))}()},providedIn:"root"}),n})();function Mt(n){return n.replace(/\/index.html$/,"")}function kl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Xo=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fa{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new fa(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const u=r.get(s);r.move(u,o),ja(u,i)}});for(let i=0,s=r.length;i<s;i++){const u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ja(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ja(n,e){n.context.$implicit=e.item}let yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){su("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){su("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wr{constructor(){this.$implicit=null,this.ngIf=null}}function su(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let ld=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})(),Wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ho(n){return"server"===n}let hd=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Nl((0,c.LFG)(Y),window)}),n})();class Nl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Do(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fd(this.window.history)||fd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xr{}class ma extends class Za extends class Q{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){ye||(ye=n)}(new ma)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vc(){return sr=sr||document.querySelector("base"),sr?sr.getAttribute("href"):null}();return null==t?null:function zs(n){lu=lu||document.createElement("a"),lu.setAttribute("href",n);const e=lu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kl(document.cookie,e)}}let lu,sr=null;const Vi=new c.OlP("TRANSITION_ID"),Lr=[{provide:c.ip1,useFactory:function cu(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=G(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Vi,Y,c.zs3],multi:!0}];class ko{static init(){(0,c.VLi)(new ko)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const u=function(h){o=o||h,s--,0==s&&r(o)};i.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?G().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ci=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ka=new c.OlP("EventManagerPlugins");let fo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ka),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Rl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=G().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let po=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Po=(()=>{class n extends po{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ll),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ll))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ll(n){G().remove(n)}const An={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_a=/%COMP%/g;function Ul(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ul(n,i,t):(i=i.replace(_a,n),t.push(i))}return t}function ut(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Nr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ks(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new _d(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ul(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fo),c.LFG(Po),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Nr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(An[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=An[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=An[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ut(r)):this.eventManager.addEventListener(e,t,ut(r))}}class ks extends Nr{constructor(e,t,r,i){super(e),this.component=r;const s=Ul(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function uu(n){return"_ngcontent-%COMP%".replace(_a,n)}(i+"-"+r.id),this.hostAttr=function md(n){return"_nghost-%COMP%".replace(_a,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _d extends Nr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ul(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const u=document.createElement("style");u.textContent=s[o],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vd=(()=>{class n extends Rl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yd=["alt","control","meta","shift"],wg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ta={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zs=(()=>{class n extends Rl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(yd.forEach(h=>{const p=r.indexOf(h);p>-1&&(r.splice(p,1),o+=h+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static getEventFullKey(t){let r="",i=function du(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ta.hasOwnProperty(e)&&(e=ta[e]))}return wg[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yd.forEach(s=>{s!=i&&Yi[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function ya(){ma.makeCurrent(),ko.init()},multi:!0},{provide:Y,useFactory:function hu(){return(0,c.RDi)(document),document},deps:[]}]),wd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function go(){return new c.qLn},deps:[]},{provide:Ka,useClass:vd,multi:!0,deps:[Y,c.R0b,c.Lbi]},{provide:Ka,useClass:Zs,multi:!0,deps:[Y]},{provide:Qa,useClass:Qa,deps:[fo,Po,c.AFp]},{provide:c.FYo,useExisting:Qa},{provide:po,useExisting:Po},{provide:Po,useClass:Po,deps:[Y]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:fo,useClass:fo,deps:[Ka,c.R0b]},{provide:xr,useClass:Ci,deps:[]}];let Hl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Vi,useExisting:c.AFp},Lr]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:wd,imports:[Wa,c.hGG]}),n})();"undefined"!=typeof window&&window;let xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(Tc),r},providedIn:"root"}),n})(),Tc=(()=>{class n extends xa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Oo(n){return new Tc(n.get(Y))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var Tr=K(8996),$l=K(3269);function un(...n){const e=(0,$l.yG)(n);return(0,Tr.D)(n,e)}var Cr=K(7579);class Qi extends Cr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var A=K(8306);const{isArray:k}=Array,{getPrototypeOf:L,prototype:le,keys:at}=Object;function Bt(n){if(1===n.length){const e=n[0];if(k(e))return{args:e,keys:null};if(function fr(n){return n&&"object"==typeof n&&L(n)===le}(e)){const t=at(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ti=K(4671),Yt=K(4004);const{isArray:tl}=Array;function Th(n){return(0,Yt.U)(e=>function vu(n,e){return tl(e)?n(...e):n(e)}(n,e))}function Vf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Wr=K(5403),Wl=K(9672);function fs(n,e,t){n?(0,Wl.f)(t,n,e):e()}var Ks=K(576);function Sc(n,e){const t=(0,Ks.m)(n)?n:()=>n,r=i=>i.error(t());return new A.y(e?i=>e.schedule(r,0,i):r)}const ql=(0,K(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xu=K(8189);function Eu(...n){return function zl(){return(0,xu.J)(1)}()((0,Tr.D)(n,(0,$l.yG)(n)))}var Ac=K(8421);function Ed(n){return new A.y(e=>{(0,Ac.Xf)(n()).subscribe(e)})}var nl=K(515),Zl=K(727),ai=K(4482);function Hf(){return(0,ai.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Wr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Kl extends A.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ai.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Wr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zl.w0.EMPTY)}return e}refCount(){return Hf()(this)}}function li(n,e){return(0,ai.e)((t,r)=>{let i=null,s=0,o=!1;const u=()=>o&&!i&&r.complete();t.subscribe((0,Wr.x)(r,h=>{null==i||i.unsubscribe();let p=0;const _=s++;(0,Ac.Xf)(n(h,_)).subscribe(i=(0,Wr.x)(r,w=>r.next(e?e(h,w,_,p++):w),()=>{i=null,u()}))},()=>{o=!0,u()}))})}var Ic=K(5698);function Yl(...n){const e=(0,$l.yG)(n);return(0,ai.e)((t,r)=>{(e?Eu(n,t,e):Eu(n,t)).subscribe(r)})}function rl(n,e,t,r,i){return(s,o)=>{let u=t,h=e,p=0;s.subscribe((0,Wr.x)(o,_=>{const w=p++;h=u?n(h,_,w):(u=!0,_),r&&o.next(h)},i&&(()=>{u&&o.next(h),o.complete()})))}}function Mo(n,e){return(0,ai.e)(rl(n,e,arguments.length>=2,!0))}function Ai(n,e){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,Wr.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ra(n){return(0,ai.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Wr.x)(t,void 0,void 0,o=>{s=(0,Ac.Xf)(n(o,ra(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var Ii=K(5577);function ia(n,e){return(0,Ks.m)(e)?(0,Ii.z)(n,e,1):(0,Ii.z)(n,1)}function Ch(n){return n<=0?()=>nl.E:(0,ai.e)((e,t)=>{let r=[];e.subscribe((0,Wr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jf(n=ci){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,Wr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ci(){return new ql}function Nm(n){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,Wr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function bu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,s)=>n(i,s,r)):ti.y,(0,Ic.q)(1),t?Nm(e):jf(()=>new ql))}var Ys=K(8505);class Ql{constructor(e,t){this.id=e,this.url=t}}class Gf extends Ql{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ea extends Ql{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends Ql{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vi extends Ql{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bd extends Ql{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ah extends Ql{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sg extends Ql{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rm extends Ql{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os extends Ql{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qs{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Td{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class il{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jn="primary";class Ag{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Su(n){return new Ag(n)}const Ms="ngNavigationCancelingError";function Cd(n){const e=Error("NavigationCancelingError: "+n);return e[Ms]=!0,e}function _y(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],u=n[s];if(o.startsWith(":"))i[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function sa(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Ih(n[i],e[i]))return!1;return!0}function Ih(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Ig(n){return Array.prototype.concat.apply([],n)}function ba(n){return n.length>0?n[n.length-1]:null}function Br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ps(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Tr.D)(Promise.resolve(n)):un(n)}const Lm={exact:function O(n,e,t){if(!bn(n.segments,e.segments)||!ke(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!O(n.children[r],e.children[r],t))return!1;return!0},subset:U},Jl={exact:function Sd(n,e){return sa(n,e)},subset:function F(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ih(n[t],e[t]))},ignored:()=>!0};function Iu(n,e,t){return Lm[t.paths](n.root,e.root,t.matrixParams)&&Jl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function U(n,e,t){return se(n,e,e.segments,t)}function se(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bn(i,t)||e.hasChildren()||!ke(i,t,r))}if(n.segments.length===t.length){if(!bn(n.segments,t)||!ke(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!U(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(bn(n.segments,i)&&ke(n.segments,i,r)&&n.children[jn])&&se(n.children[jn],e,s,r)}}function ke(n,e,t){return e.every((r,i)=>Jl[t](n[i].parameters,r.parameters))}class Le{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return Xi.serialize(this)}}class Qe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Br(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return al(this)}}class rn{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Su(this.parameters)),this._parameterMap}toString(){return qf(this)}}function bn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class On{}class Di{parse(e){const t=new vy(e);return new Le(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ta(e.root,!0)}`,r=function Bm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Fs(t)}=${Fs(i)}`).join("&"):`${Fs(t)}=${Fs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ll(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Xi=new Di;function al(n){return n.segments.map(e=>qf(e)).join("/")}function Ta(n,e){if(!n.hasChildren())return al(n);if(e){const t=n.children[jn]?Ta(n.children[jn],!1):"",r=[];return Br(n.children,(i,s)=>{s!==jn&&r.push(`${s}:${Ta(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function or(n,e){let t=[];return Br(n.children,(r,i)=>{i===jn&&(t=t.concat(e(r,i)))}),Br(n.children,(r,i)=>{i!==jn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===jn?[Ta(n.children[jn],!1)]:[`${i}:${Ta(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jn]?`${al(n)}/${t[0]}`:`${al(n)}/(${t.join("//")})`}}function oa(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fs(n){return oa(n).replace(/%3B/gi,";")}function ec(n){return oa(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(n){return decodeURIComponent(n)}function kg(n){return Wf(n.replace(/\+/g,"%20"))}function qf(n){return`${ec(n.path)}${function Pg(n){return Object.keys(n).map(e=>`;${ec(e)}=${ec(n[e])}`).join("")}(n.parameters)}`}const Um=/^[^\/()?;=#]+/;function Og(n){const e=n.match(Um);return e?e[0]:""}const Dh=/^[^=?&#]+/,Vm=/^[^&#]+/;class vy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[jn]=new Qe(e,t)),r}parseSegment(){const e=Og(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new rn(Wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Og(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Og(this.remaining);i&&(r=i,this.capture(r))}e[Wf(t)]=Wf(r)}parseQueryParam(e){const t=function zf(n){const e=n.match(Dh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function $C(n){const e=n.match(Vm);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=kg(t),s=kg(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Og(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=jn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[jn]:new Qe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Hm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kh(e,this._root).map(t=>t.value)}}function yy(n,e){if(n===e.value)return e;for(const t of e.children){const r=yy(n,t);if(r)return r}return null}function kh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=kh(n,t);if(r.length)return r.unshift(e),r}return[]}class Dc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ph(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zf extends Hm{constructor(e,t){super(e),this.snapshot=t,Ng(this,e)}toString(){return this.snapshot.toString()}}function Mg(n,e){const t=function Oh(n,e){const o=new kc([],{},{},"",{},jn,e,null,n.root,-1,{});return new Fg("",new Dc(o,[]))}(n,e),r=new Qi([new rn("",{})]),i=new Qi({}),s=new Qi({}),o=new Qi({}),u=new Qi(""),h=new cl(r,i,o,u,s,jn,e,t.root);return h.snapshot=t.root,new Zf(new Dc(h,[]),t)}class cl{constructor(e,t,r,i,s,o,u,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Yt.U)(e=>Su(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Yt.U)(e=>Su(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function WC(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class kc{constructor(e,t,r,i,s,o,u,h,p,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=_,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fg extends Hm{constructor(e,t){super(t),this.url=e,Ng(this,t)}toString(){return jm(this._root)}}function Ng(n,e){e.value._routerState=n,e.children.forEach(t=>Ng(n,t))}function jm(n){const e=n.children.length>0?` { ${n.children.map(jm).join(", ")} } `:"";return`${n.value}${e}`}function Rg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,sa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),sa(e.params,t.params)||n.params.next(t.params),function ol(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!sa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),sa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Pc(n,e){const t=sa(n.params,e.params)&&function fn(n,e){return bn(n,e)&&n.every((t,r)=>sa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Pc(n.parent,e.parent))}function Kf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ex(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kf(n,r,i);return Kf(n,r)})}(n,e,t);return new Dc(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(u=>Kf(n,u)),o}}const r=function bx(n){return new cl(new Qi(n.url),new Qi(n.params),new Qi(n.queryParams),new Qi(n.fragment),new Qi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Kf(n,s));return new Dc(r,i)}}function Fo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tc(n){return"object"==typeof n&&null!=n&&n.outlets}function Mh(n,e,t,r,i){let s={};if(r&&Br(r,(u,h)=>{s[h]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),n===e)return new Le(t,s,i);const o=Ey(n,e,t);return new Le(o,s,i)}function Ey(n,e,t){const r={};return Br(n.children,(i,s)=>{r[s]=i===e?t:Ey(i,e,t)}),new Qe(n.segments,r)}class Gm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fo(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(tc);if(i&&i!==ba(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ty(n,e,t){if(n||(n=new Qe([],{})),0===n.segments.length&&n.hasChildren())return Lg(n,e,t);const r=function Ax(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],u=t[r];if(tc(u))break;const h=`${u}`,p=r<t.length-1?t[r+1]:null;if(i>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!Wm(h,p,o))return s;r+=2}else{if(!Wm(h,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Qe(n.segments.slice(0,r.pathIndex),{});return s.children[jn]=new Qe(n.segments.slice(r.pathIndex),n.children),Lg(s,0,i)}return r.match&&0===i.length?new Qe(n.segments,{}):r.match&&!n.hasChildren()?Ix(n,e,t):r.match?Lg(n,0,i):Ix(n,e,t)}function Lg(n,e,t){if(0===t.length)return new Qe(n.segments,{});{const r=function by(n){return tc(n[0])?n[0].outlets:{[jn]:n}}(t),i={};return Br(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ty(n.children[o],e,s))}),Br(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Qe(n.segments,i)}}function Ix(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(tc(s)){const h=Ad(s.outlets);return new Qe(r,h)}if(0===i&&Fo(t[0])){r.push(new rn(n.segments[e].path,Fh(t[0]))),i++;continue}const o=tc(s)?s.outlets[jn]:`${s}`,u=i<t.length-1?t[i+1]:null;o&&u&&Fo(u)?(r.push(new rn(o,Fh(u))),i+=2):(r.push(new rn(o,{})),i++)}return new Qe(r,{})}function Ad(n){const e={};return Br(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ix(new Qe([],{}),0,t))}),e}function Fh(n){const e={};return Br(n,(t,r)=>e[r]=`${t}`),e}function Wm(n,e,t){return n==t.path&&sa(e,t.parameters)}class Qf{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Rg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ph(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Br(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ph(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ph(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ph(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sl(s.value.snapshot))}),e.children.length&&this.forwardEvent(new il(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Rg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(u.contexts),o.attachRef=u.componentRef,o.route=u.route.value,o.outlet&&o.outlet.attach(u.componentRef,u.route.value),Rg(u.route.value),this.activateChildRoutes(e,null,o.children)}else{const u=function Bg(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),h=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=h,o.outlet&&o.outlet.activateWith(i,h),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Ug{constructor(e,t){this.routes=e,this.module=t}}function Oc(n){return"function"==typeof n}function Nh(n){return n instanceof Le}const Vg=Symbol("INITIAL_VALUE");function Hg(){return li(n=>function yu(...n){const e=(0,$l.yG)(n),t=(0,$l.jO)(n),{args:r,keys:i}=Bt(n);if(0===r.length)return(0,Tr.D)([],e);const s=new A.y(function Cc(n,e,t=ti.y){return r=>{fs(e,()=>{const{length:i}=n,s=new Array(i);let o=i,u=i;for(let h=0;h<i;h++)fs(e,()=>{const p=(0,Tr.D)(n[h],e);let _=!1;p.subscribe((0,Wr.x)(r,w=>{s[h]=w,_||(_=!0,u--),u||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Vf(i,o):ti.y));return t?s.pipe(Th(t)):s}(n.map(e=>e.pipe((0,Ic.q)(1),Yl(Vg)))).pipe(Mo((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Vg?i:(s===Vg&&(r=!0),r||!1!==s&&o!==t.length-1&&!Nh(s)?i:s),e)},Vg),Ai(e=>e!==Vg),(0,Yt.U)(e=>Nh(e)?e:!0===e),(0,Ic.q)(1)))}class Sy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rh,this.attachRef=null}}class Rh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Sy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Mc=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=s||jn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,h=new Dx(t,u,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rh),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dx{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cl?this.route:e===Rh?this.childContexts:this.parent.get(e,t)}}let Ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Mc],encapsulation:2}),n})();function Jf(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Lh(r,Iy(e,r))}}function Lh(n,e){n.children&&Jf(n.children,e)}function Iy(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ep(n){const e=n.children&&n.children.map(ep),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jn&&(t.component=Ay),t}function mo(n){return n.outlet||jn}function yi(n,e){const t=n.filter(r=>mo(r)===e);return t.push(...n.filter(r=>mo(r)!==e)),t}const Zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Zm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||_y)(t,n,e);if(!s)return Object.assign({},Zm);const o={};Br(s.posParams,(h,p)=>{o[p]=h.path});const u=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:u,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Id(n,e,t,r,i="corrected"){if(t.length>0&&function Px(n,e,t){return t.some(r=>Dd(n,e,r)&&mo(r)!==jn)}(n,t,r)){const o=new Qe(e,function kx(n,e,t,r){const i={};i[jn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&mo(s)!==jn){const o=new Qe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[mo(s)]=o}return i}(n,e,r,new Qe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Ox(n,e,t){return t.some(r=>Dd(n,e,r))}(n,t,r)){const o=new Qe(n.segments,function Dy(n,e,t,r,i,s){const o={};for(const u of r)if(Dd(n,t,u)&&!i[mo(u)]){const h=new Qe([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[mo(u)]=h}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Qe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Dd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ky(n,e,t,r){return!!(mo(n)===r||r!==jn&&Dd(e,t,n))&&("**"===n.path||jg(e,n,t).matched)}function Py(n,e,t){return 0===e.length&&!n.children[t]}class Km{constructor(e){this.segmentGroup=e||null}}class Bh{constructor(e){this.urlTree=e}}function Ji(n){return Sc(new Km(n))}function Gg(n){return Sc(new Bh(n))}class Uh{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Id(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,jn).pipe((0,Yt.U)(s=>this.createUrlTree(tp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ra(s=>{if(s instanceof Bh)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Km?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,jn).pipe((0,Yt.U)(i=>this.createUrlTree(tp(i),e.queryParams,e.fragment))).pipe(ra(i=>{throw i instanceof Km?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Qe([],{[jn]:e}):e;return new Le(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Yt.U)(s=>new Qe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Tr.D)(i).pipe(ia(s=>{const o=r.children[s],u=yi(t,s);return this.expandSegmentGroup(e,u,o,s).pipe((0,Yt.U)(h=>({segment:h,outlet:s})))}),Mo((s,o)=>(s[o.outlet]=o.segment,s),{}),function xx(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,s)=>n(i,s,r)):ti.y,Ch(1),t?Nm(e):jf(()=>new ql))}())}expandSegment(e,t,r,i,s,o){return(0,Tr.D)(r).pipe(ia(u=>this.expandSegmentAgainstRoute(e,t,r,u,i,s,o).pipe(ra(p=>{if(p instanceof Km)return un(null);throw p}))),bu(u=>!!u),ra((u,h)=>{if(u instanceof ql||"EmptyError"===u.name)return Py(t,i,s)?un(new Qe([],{})):Ji(t);throw u}))}expandSegmentAgainstRoute(e,t,r,i,s,o,u){return ky(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Ji(t):Ji(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Gg(s):this.lineralizeSegments(r,s).pipe((0,Ii.z)(o=>{const u=new Qe(o,{});return this.expandSegment(e,u,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:u,consumedSegments:h,remainingSegments:p,positionalParamSegments:_}=jg(t,i,s);if(!u)return Ji(t);const w=this.applyRedirectCommands(h,i.redirectTo,_);return i.redirectTo.startsWith("/")?Gg(w):this.lineralizeSegments(i,w).pipe((0,Ii.z)(E=>this.expandSegment(e,t,r,E.concat(p),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?un(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Yt.U)(w=>(r._loadedConfig=w,new Qe(i,{})))):un(new Qe(i,{}));const{matched:o,consumedSegments:u,remainingSegments:h}=jg(t,r,i);return o?this.getChildConfig(e,r,i).pipe((0,Ii.z)(_=>{const w=_.module,E=_.routes,{segmentGroup:C,slicedSegments:I}=Id(t,u,h,E),D=new Qe(C.segments,C.children);if(0===I.length&&D.hasChildren())return this.expandChildren(w,E,D).pipe((0,Yt.U)(V=>new Qe(u,V)));if(0===E.length&&0===I.length)return un(new Qe(u,{}));const M=mo(r)===s;return this.expandSegment(w,D,E,I,M?jn:s,!0).pipe((0,Yt.U)(z=>new Qe(u.concat(z.segments),z.children)))})):Ji(t)}getChildConfig(e,t,r){return t.children?un(new Ug(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?un(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ii.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Yt.U)(s=>(t._loadedConfig=s,s))):function $g(n){return Sc(Cd(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):un(new Ug([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?un(i.map(o=>{const u=e.get(o);let h;if(function qC(n){return n&&Oc(n.canLoad)}(u))h=u.canLoad(t,r);else{if(!Oc(u))throw new Error("Invalid CanLoad guard");h=u(t,r)}return ps(h)})).pipe(Hg(),(0,Ys.b)(o=>{if(!Nh(o))return;const u=Cd(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw u.url=o,u}),(0,Yt.U)(o=>!0===o)):un(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return un(r);if(i.numberOfChildren>1||!i.children[jn])return Sc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[jn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Le(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Br(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const u=i.substring(1);r[s]=t[u]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Br(t.children,(u,h)=>{o[h]=this.createSegmentGroup(e,u,r,i)}),new Qe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function tp(n){const e={};for(const r of Object.keys(n.children)){const s=tp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Qm(n){if(1===n.numberOfChildren&&n.children[jn]){const e=n.children[jn];return new Qe(n.segments.concat(e.segments),e.children)}return n}(new Qe(n.segments,e))}class _o{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Du{constructor(e,t){this.component=e,this.route=t}}function Xm(n,e,t){const r=n._root;return np(r,e?e._root:null,t,[r.value])}function kd(n,e,t){const r=function Jm(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function np(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ph(e);return n.children.forEach(o=>{(function Wg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function Nx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bn(n.url,e.url)||!sa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pc(n,e)||!sa(n.queryParams,e.queryParams);default:return!Pc(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new _o(r)):(s.data=o.data,s._resolvedData=o._resolvedData),np(n,e,s.component?u?u.children:null:t,r,i),h&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Du(u.outlet.component,o))}else o&&Sa(e,u,i),i.canActivateChecks.push(new _o(r)),np(n,null,s.component?u?u.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Br(s,(o,u)=>Sa(o,t.getContext(u),i)),i}function Sa(n,e,t){const r=Ph(n),i=n.value;Br(r,(s,o)=>{Sa(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Du(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Bx{}function ul(n){return new A.y(e=>e.error(n))}class My{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Id(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,jn);if(null===t)return null;const r=new kc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Dc(r,t),s=new Fg(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=wy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],u=yi(e,s),h=this.processSegmentGroup(u,o,s);if(null===h)return null;r.push(...h)}const i=Ny(r);return function Fy(n){n.sort((e,t)=>e.value.outlet===jn?-1:t.value.outlet===jn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return Py(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!ky(e,t,r,i))return null;let s,o=[],u=[];if("**"===e.path){const C=r.length>0?ba(r).parameters:{};s=new kc(r,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,x(e),mo(e),e.component,e,Ry(t),Pd(t)+r.length,m(e))}else{const C=jg(t,e,r);if(!C.matched)return null;o=C.consumedSegments,u=C.remainingSegments,s=new kc(o,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,x(e),mo(e),e.component,e,Ry(t),Pd(t)+o.length,m(e))}const h=function Ux(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:p,slicedSegments:_}=Id(t,o,u,h.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===_.length&&p.hasChildren()){const C=this.processChildren(h,p);return null===C?null:[new Dc(s,C)]}if(0===h.length&&0===_.length)return[new Dc(s,[])];const w=mo(e)===i,E=this.processSegment(h,p,_,w?jn:i);return null===E?null:[new Dc(s,E)]}}function n_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ny(n){const e=[],t=new Set;for(const r of n){if(!n_(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ny(r.children);e.push(new Dc(r.value,i))}return e.filter(r=>!t.has(r))}function Ry(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pd(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function x(n){return n.data||{}}function m(n){return n.resolve||{}}function Ce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pt(n){return li(e=>{const t=n(e);return t?(0,Tr.D)(t).pipe((0,Yt.U)(()=>e)):un(e)})}class Tn extends class Sn{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wi=new c.OlP("ROUTES");class Ro{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Yt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Ug(Ig(o.injector.get(wi,void 0,c.XFs.Self|c.XFs.Optional)).map(ep),o)}),ra(s=>{throw t._loader$=void 0,s}));return t._loader$=new Kl(i,()=>new Cr.x).pipe(Hf()),t._loader$}loadModuleFactory(e){return ps(e()).pipe((0,Ii.z)(t=>t instanceof c.YKP?un(t):(0,Tr.D)(this.compiler.compileModuleAsync(t))))}}class r_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ly(n){throw n}function Od(n,e,t){return e.parse("/")}function ip(n,e){return un(null)}const Zg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},By={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Er=(()=>{class n{constructor(t,r,i,s,o,u,h){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cr.x,this.errorHandler=Ly,this.malformedUriErrorHandler=Od,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ip,afterPreactivation:ip},this.urlHandlingStrategy=new r_,this.routeReuseStrategy=new Tn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(c.h0i),this.console=o.get(c.c2e);const w=o.get(c.R0b);this.isNgZoneEnabled=w instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function $f(){return new Le(new Qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ro(o,u,E=>this.triggerEvent(new Qs(E)),E=>this.triggerEvent(new Td(E))),this.routerState=Mg(this.currentUrlTree,this.rootComponentType),this.transitions=new Qi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ai(i=>0!==i.id),(0,Yt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),li(i=>{let s=!1,o=!1;return un(i).pipe((0,Ys.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.currentRawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),li(u=>{const h=this.browserUrlTree.toString(),p=!this.navigated||u.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return s_(u.source)&&(this.browserUrlTree=u.extractedUrl),un(u).pipe(li(w=>{const E=this.transitions.getValue();return r.next(new Gf(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions.getValue()?nl.E:Promise.resolve(w)}),function Mx(n,e,t,r){return li(i=>function gs(n,e,t,r,i){return new Uh(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Yt.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ys.b)(w=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:w.urlAfterRedirects})}),function y(n,e,t,r,i){return(0,Ii.z)(s=>function rp(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new My(n,e,t,r,i,s).recognize();return null===o?ul(new Bx):un(o)}catch(o){return ul(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,Yt.U)(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,w=>this.serializeUrl(w),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ys.b)(w=>{if("eager"===this.urlUpdateStrategy){if(!w.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);this.setBrowserUrl(C,w)}this.browserUrlTree=w.urlAfterRedirects}const E=new bd(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);r.next(E)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:C,source:I,restoredState:D,extras:M}=u,j=new Gf(E,this.serializeUrl(C),I,D);r.next(j);const z=Mg(C,this.rootComponentType).snapshot;return un(Object.assign(Object.assign({},u),{targetSnapshot:z,urlAfterRedirects:C,extras:Object.assign(Object.assign({},M),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=u.rawUrl,u.resolve(null),nl.E}),Pt(u=>{const{targetSnapshot:h,id:p,extractedUrl:_,rawUrl:w,extras:{skipLocationChange:E,replaceUrl:C}}=u;return this.hooks.beforePreactivation(h,{navigationId:p,appliedUrlTree:_,rawUrlTree:w,skipLocationChange:!!E,replaceUrl:!!C})}),(0,Ys.b)(u=>{const h=new Ah(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,Yt.U)(u=>Object.assign(Object.assign({},u),{guards:Xm(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function qg(n,e){return(0,Ii.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?un(Object.assign(Object.assign({},t),{guardsResult:!0})):function Rx(n,e,t,r){return(0,Tr.D)(n).pipe((0,Ii.z)(i=>function t_(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?un(s.map(u=>{const h=kd(u,e,i);let p;if(function zm(n){return n&&Oc(n.canDeactivate)}(h))p=ps(h.canDeactivate(n,e,t,r));else{if(!Oc(h))throw new Error("Invalid CanDeactivate guard");p=ps(h(n,e,t,r))}return p.pipe(bu())})).pipe(Hg()):un(!0)}(i.component,i.route,t,e,r)),bu(i=>!0!==i,!0))}(o,r,i,n).pipe((0,Ii.z)(u=>u&&function Cy(n){return"boolean"==typeof n}(u)?function Lx(n,e,t,r){return(0,Tr.D)(e).pipe(ia(i=>Eu(function Oy(n,e){return null!==n&&e&&e(new Tu(n)),un(!0)}(i.route.parent,r),function zg(n,e){return null!==n&&e&&e(new Xl(n)),un(!0)}(i.route,r),function e_(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Fx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ed(()=>un(o.guards.map(h=>{const p=kd(h,o.node,t);let _;if(function qm(n){return n&&Oc(n.canActivateChild)}(p))_=ps(p.canActivateChild(r,n));else{if(!Oc(p))throw new Error("Invalid CanActivateChild guard");_=ps(p(r,n))}return _.pipe(bu())})).pipe(Hg())));return un(s).pipe(Hg())}(n,i.path,t),function No(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return un(!0);const i=r.map(s=>Ed(()=>{const o=kd(s,e,t);let u;if(function Xf(n){return n&&Oc(n.canActivate)}(o))u=ps(o.canActivate(e,n));else{if(!Oc(o))throw new Error("Invalid CanActivate guard");u=ps(o(e,n))}return u.pipe(bu())}));return un(i).pipe(Hg())}(n,i.route,t))),bu(i=>!0!==i,!0))}(r,s,n,e):un(u)),(0,Yt.U)(u=>Object.assign(Object.assign({},t),{guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Ys.b)(u=>{if(Nh(u.guardsResult)){const p=Cd(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw p.url=u.guardsResult,p}const h=new Sg(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(h)}),Ai(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),Pt(u=>{if(u.guards.canActivateChecks.length)return un(u).pipe((0,Ys.b)(h=>{const p=new Rm(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),li(h=>{let p=!1;return un(h).pipe(function T(n,e){return(0,Ii.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return un(t);let s=0;return(0,Tr.D)(i).pipe(ia(o=>function R(n,e,t,r){return function W(n,e,t,r){const i=Ce(n);if(0===i.length)return un({});const s={};return(0,Tr.D)(i).pipe((0,Ii.z)(o=>function Ke(n,e,t,r){const i=kd(n,e,r);return ps(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe((0,Ys.b)(u=>{s[o]=u}))),Ch(1),(0,Ii.z)(()=>Ce(s).length===i.length?un(s):nl.E))}(n._resolve,n,e,r).pipe((0,Yt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),wy(n,t).resolve),null)))}(o.route,r,n,e)),(0,Ys.b)(()=>s++),Ch(1),(0,Ii.z)(o=>s===i.length?un(t):nl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ys.b)({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),(0,Ys.b)(h=>{const p=new Os(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),Pt(u=>{const{targetSnapshot:h,id:p,extractedUrl:_,rawUrl:w,extras:{skipLocationChange:E,replaceUrl:C}}=u;return this.hooks.afterPreactivation(h,{navigationId:p,appliedUrlTree:_,rawUrlTree:w,skipLocationChange:!!E,replaceUrl:!!C})}),(0,Yt.U)(u=>{const h=function xy(n,e,t){const r=Kf(n,e._root,t?t._root:void 0);return new Zf(r,e)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return Object.assign(Object.assign({},u),{targetRouterState:h})}),(0,Ys.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Yt.U)(r=>(new Qf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Ys.b)({next(){s=!0},complete(){s=!0}}),function Cg(n){return(0,ai.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var u;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(u=this.currentNavigation)||void 0===u?void 0:u.id)===i.id&&(this.currentNavigation=null)}),ra(u=>{if(o=!0,function Au(n){return n&&n[Ms]}(u)){const h=Nh(u.url);h||(this.navigated=!0,this.restoreHistory(i,!0));const p=new Sh(i.id,this.serializeUrl(i.extractedUrl),u.message);r.next(p),h?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s_(i.source)};this.scheduleNavigation(_,"imperative",null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const h=new vi(i.id,this.serializeUrl(i.extractedUrl),u);r.next(h);try{i.resolve(this.errorHandler(u))}catch(p){i.reject(p)}}return nl.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const h=Object.assign({},o);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Jf(t),this.config=t.map(ep),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:u,preserveFragment:h}=r,p=i||this.routerState.root,_=h?this.currentUrlTree.fragment:o;let w=null;switch(u){case"merge":w=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}return null!==w&&(w=this.removeEmptyProps(w)),function Tx(n,e,t,r,i){if(0===t.length)return Mh(e.root,e.root,e.root,r,i);const s=function Cx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gm(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Br(s.outlets,(h,p)=>{u[p]="string"==typeof h?h.split("/"):h}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?t=!0:".."===u?e++:""!=u&&i.push(u))}),i):[...i,s]},[]);return new Gm(t,e,r)}(t);if(s.toRoot())return Mh(e.root,e.root,new Qe([],{}),r,i);const o=function Sx(n,e,t){if(n.isAbsolute)return new Yf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Yf(s,s===e.root,0)}const r=Fo(n.commands[0])?0:1;return function $m(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yf(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),u=o.processChildren?Lg(o.segmentGroup,o.index,s.commands):Ty(o.segmentGroup,o.index,s.commands);return Mh(e.root,o.segmentGroup,u,r,i)}(p,this.currentUrlTree,t,w,null!=_?_:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Nh(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function i_(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Zg):!1===r?Object.assign({},By):r,Nh(t))return Iu(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Iu(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ea(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var u,h;if(this.disposed)return Promise.resolve(!1);let p,_,w;o?(p=o.resolve,_=o.reject,w=o.promise):w=new Promise((I,D)=>{p=I,_=D});const E=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):C=0,this.setTransition({id:E,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:p,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(I=>Promise.reject(I))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Sh(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function s_(n){return"imperative"!==n}let Md=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Cr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Hh(this.skipLocationChange),replaceUrl:Hh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Er),c.Y36(cl),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),ku=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Cr.x,this.subscription=t.events.subscribe(s=>{s instanceof Ea&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:Hh(this.skipLocationChange),replaceUrl:Hh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Er),c.Y36(cl),c.Y36(qe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Hh(n){return""===n||!!n}let Hx=(()=>{class n{constructor(t,r,i,s,o,u){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(h=>{h instanceof Ea&&this.update()})}ngAfterContentInit(){un(this.links.changes,this.linksWithHrefs.changes,un(null)).pipe((0,xu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Tr.D)(r).pipe((0,xu.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function zC(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Er),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Md,8),c.Y36(ku,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,Md,5),c.Suo(i,ku,5)),2&t){let s;c.iGM(s=c.CRH())&&(r.links=s),c.iGM(s=c.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class Uy{}class Vy{preload(e,t){return un(null)}}let KC=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new Ro(i,r,h=>t.triggerEvent(new Qs(h)),h=>t.triggerEvent(new Td(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof Ea),ia(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,Tr.D)(i).pipe((0,xu.J)(),(0,Yt.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?un(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ii.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Er),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Uy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),jx=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ea&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Cu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jh=new c.OlP("ROUTER_CONFIGURATION"),Gh=new c.OlP("ROUTER_FORROOT_GUARD"),YC=[nt,{provide:On,useClass:Di},{provide:Er,useFactory:function eS(n,e,t,r,i,s,o={},u,h){const p=new Er(null,n,e,t,r,i,Ig(s));return u&&(p.urlHandlingStrategy=u),h&&(p.routeReuseStrategy=h),function $x(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,p),o.enableTracing&&p.events.subscribe(_=>{var w,E;null===(w=console.group)||void 0===w||w.call(console,`Router Event: ${_.constructor.name}`),console.log(_.toString()),console.log(_),null===(E=console.groupEnd)||void 0===E||E.call(console)}),p},deps:[On,Rh,nt,c.zs3,c.Sil,wi,jh,[class Vh{},new c.FiY],[class on{},new c.FiY]]},Rh,{provide:cl,useFactory:function tS(n){return n.routerState.root},deps:[Er]},KC,Vy,class ZC{preload(e,t){return t().pipe(ra(()=>un(null)))}},{provide:jh,useValue:{enableTracing:!1}}];function QC(){return new c.PXZ("Router",Er)}let XC=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[YC,Gx(t),{provide:Gh,useFactory:JC,deps:[[Er,new c.FiY,new c.tp0]]},{provide:jh,useValue:r||{}},{provide:qe,useFactory:zk,deps:[J,[new c.tBr(Vt),new c.FiY],jh]},{provide:jx,useFactory:Hy,deps:[Er,hd,jh]},{provide:Uy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Vy},{provide:c.PXZ,multi:!0,useFactory:QC},[Kg,{provide:c.ip1,multi:!0,useFactory:jy,deps:[Kg]},{provide:Gy,useFactory:nS,deps:[Kg]},{provide:c.tb,multi:!0,useExisting:Gy}]]}}static forChild(t){return{ngModule:n,providers:[Gx(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gh,8),c.LFG(Er,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Hy(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new jx(n,e,t)}function zk(n,e,t={}){return t.useHash?new dt(n,e):new en(n,e)}function JC(n){return"guarded"}function Gx(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:wi,multi:!0,useValue:n}]}let Kg=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Cr.x}appInitializer(){return this.injector.get(me,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(u=>r=u),s=this.injector.get(Er),o=this.injector.get(jh);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?un(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(jh),i=this.injector.get(KC),s=this.injector.get(jx),o=this.injector.get(Er),u=this.injector.get(c.z2F);t===u.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function jy(n){return n.appInitializer.bind(n)}function nS(n){return n.bootstrapListener.bind(n)}const Gy=new c.OlP("Router Initializer");var o_=K(5226),sp=K.n(o_),Yg=K(4986),Sr=K(5813);function Wx(){return(0,ai.e)((n,e)=>{let t,r=!1;n.subscribe((0,Wr.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function qx(n,e=ti.y){return n=null!=n?n:zx,(0,ai.e)((t,r)=>{let i,s=!0;t.subscribe((0,Wr.x)(r,o=>{const u=e(o);(s||!n(i,u))&&(s=!1,i=u,r.next(o))}))})}function zx(n,e){return n===e}var dn,ms=K(2011),$y=(K(7092),K(3942)),et=K(5861),Lo=K(9681),Fc=K(4859),Nc=K(1877),Z=K(2090),Zk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pu={},Zx=Zx||{},Rn=Zk||self;function Wy(){}function qy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function a_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Kx="closure_uid_"+(1e9*Math.random()>>>0),Un=0;function sS(n,e,t){return n.call.apply(n.bind,arguments)}function oS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xs(n,e,t){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sS:oS).apply(null,arguments)}function op(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function Fd(){this.s=this.s,this.o=this.o}var Yx={};Fd.prototype.s=!1,Fd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Kk(n){return Object.prototype.hasOwnProperty.call(n,Kx)&&n[Kx]||(n[Kx]=++Un)}(this);delete Yx[n]}},Fd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ou=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},zy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function Zy(n){return Array.prototype.concat.apply([],arguments)}function lS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function l_(n){return/^[\s\xa0]*$/.test(n)}var vo,Qk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Js(n,e){return-1!=n.indexOf(e)}function Qg(n,e){return n<e?-1:n>e?1:0}e:{var Ky=Rn.navigator;if(Ky){var Yy=Ky.userAgent;if(Yy){vo=Yy;break e}}vo=""}function cS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uS(n){const e={};for(const t in n)e[t]=n[t];return e}var dS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hS(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<dS.length;s++)t=dS[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Qx(n){return Qx[" "](n),n}Qx[" "]=Wy;var Jx,n,TL=Js(vo,"Opera"),Xg=Js(vo,"Trident")||Js(vo,"MSIE"),Xk=Js(vo,"Edge"),Qy=Xk||Xg,Xx=Js(vo,"Gecko")&&!(Js(vo.toLowerCase(),"webkit")&&!Js(vo,"Edge"))&&!(Js(vo,"Trident")||Js(vo,"MSIE"))&&!Js(vo,"Edge"),Jk=Js(vo.toLowerCase(),"webkit")&&!Js(vo,"Edge");function Xy(){var n=Rn.document;return n?n.documentMode:void 0}e:{var pS="",gS=(n=vo,Xx?/rv:([^\);]+)(\)|;)/.exec(n):Xk?/Edge\/([\d\.]+)/.exec(n):Xg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jk?/WebKit\/(\S+)/.exec(n):TL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(gS&&(pS=gS?gS[1]:""),Xg){var mS=Xy();if(null!=mS&&mS>parseFloat(pS)){Jx=String(mS);break e}}Jx=pS}var CL={};var AL=Rn.document&&Xg&&(Xy()||parseInt(Jx,10))||void 0,IL=function(){if(!Rn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rn.addEventListener("test",Wy,e),Rn.removeEventListener("test",Wy,e)}catch(t){}return n}();function ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ap(n,e){if(ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xx){e:{try{Qx(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ap.Z.h.call(this)}}ki.prototype.h=function(){this.defaultPrevented=!0},qr(ap,ki);var tP={2:"touch",3:"pen",4:"mouse"};ap.prototype.h=function(){ap.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jg="closure_listenable_"+(1e6*Math.random()|0),eE=0;function vS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++eE,this.ca=this.fa=!1}function e0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Jy(n){this.src=n,this.g={},this.h=0}function Mu(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Ou(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(e0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function e1(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Jy.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=e1(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new vS(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var tE="closure_lm_"+(1e6*Math.random()|0),c_={};function yS(n,e,t,r,i){if(r&&r.once)return wS(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yS(n,e[s],t,r,i);return null}return t=rE(t),n&&n[Jg]?n.N(e,t,a_(r)?!!r.capture:!!r,i):nE(n,e,t,!1,r,i)}function nE(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=a_(i)?!!i.capture:!!i,u=lp(n);if(u||(n[tE]=u=new Jy(n)),(t=u.add(e,t,r,o,s)).proxy)return t;if(r=function nP(){var e=n0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)IL||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(t1(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wS(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wS(n,e[s],t,r,i);return null}return t=rE(t),n&&n[Jg]?n.O(e,t,a_(r)?!!r.capture:!!r,i):nE(n,e,t,!0,r,i)}function t0(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)t0(n,e[s],t,r,i);else r=a_(r)?!!r.capture:!!r,t=rE(t),n&&n[Jg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=e1(s=n.g[e],t,r,i))&&(e0(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=lp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=e1(e,t,r,i)),(t=-1<n?e[n]:null)&&$h(t))}function $h(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Jg])Mu(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(t1(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=lp(e))?(Mu(t,n),0==t.h&&(t.src=null,e[tE]=null)):e0(n)}}}function t1(n){return n in c_?c_[n]:c_[n]="on"+n}function n0(n,e){if(n.ca)n=!0;else{e=new ap(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$h(n),n=t.call(r,e)}return n}function lp(n){return(n=n[tE])instanceof Jy?n:null}var Wh="__closure_events_fn_"+(1e9*Math.random()>>>0);function rE(n){return"function"==typeof n?n:(n[Wh]||(n[Wh]=function(e){return n.handleEvent(e)}),n[Wh])}function Ns(){Fd.call(this),this.i=new Jy(this),this.P=this,this.I=null}function eo(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ki(e,n);else if(e instanceof ki)e.target=e.target||n;else{var i=e;hS(e=new ki(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=r0(o,r,!0,e)&&i}if(i=r0(o=e.g=n,r,!0,e)&&i,i=r0(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=r0(o=e.g=t[s],r,!1,e)&&i}function r0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var u=o.listener,h=o.ia||o.src;o.fa&&Mu(n.i,o),i=!1!==u.call(h,r)&&i}}return i&&!r.defaultPrevented}qr(Ns,Fd),Ns.prototype[Jg]=!0,Ns.prototype.removeEventListener=function(n,e,t,r){t0(this,n,e,t,r)},Ns.prototype.M=function(){if(Ns.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)e0(t[r]);delete n.g[e],n.h--}}this.I=null},Ns.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ns.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var u_=Rn.JSON.stringify;function xS(){var n=TS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var i1,ES=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bS,n=>n.reset());class bS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DL(n){Rn.setTimeout(()=>{throw n},0)}function r1(n,e){i1||function rP(){var n=Rn.Promise.resolve(void 0);i1=function(){n.then(iP)}}(),s1||(i1(),s1=!0),TS.add(n,e)}var s1=!1,TS=new class n1{constructor(){this.h=this.g=null}add(e,t){const r=ES.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function iP(){for(var n;n=xS();){try{n.h.call(n.g)}catch(t){DL(t)}var e=ES;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}s1=!1}function Bo(n,e){Ns.call(this),this.h=n||1,this.g=e||Rn,this.j=Xs(this.kb,this),this.l=Date.now()}function iE(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function sE(n,e,t){if("function"==typeof n)t&&(n=Xs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rn.setTimeout(n,e||0)}function sP(n){n.g=sE(()=>{n.g=null,n.i&&(n.i=!1,sP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(Bo,Ns),(dn=Bo.prototype).da=!1,dn.S=null,dn.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),eo(this,"tick"),this.da&&(iE(this),this.start()))}},dn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dn.M=function(){Bo.Z.M.call(this),iE(this),delete this.g};class kL extends Fd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sP(this)}M(){super.M(),this.g&&(Rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function s0(n){Fd.call(this),this.h=n,this.g={}}qr(s0,Fd);var oP=[];function CS(n,e,t,r){Array.isArray(t)||(t&&(oP[0]=t.toString()),t=oP);for(var i=0;i<t.length;i++){var s=yS(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function o1(n){cS(n.g,function(e,t){this.g.hasOwnProperty(t)&&$h(e)},n),n.g={}}function d_(){this.g=!0}function o0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cP(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return u_(t)}catch(u){return e}}(n,t)+(r?" "+r:"")})}s0.prototype.M=function(){s0.Z.M.call(this),o1(this)},s0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},d_.prototype.Aa=function(){this.g=!1},d_.prototype.info=function(){};var qh={},AS=null;function a1(){return AS=AS||new Ns}function oE(n){ki.call(this,qh.Ma,n)}function a0(n){const e=a1();eo(e,new oE(e,n))}function IS(n,e){ki.call(this,qh.STAT_EVENT,n),this.stat=e}function xi(n){const e=a1();eo(e,new IS(e,n))}function l1(n,e){ki.call(this,qh.Na,n),this.size=e}function h_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rn.setTimeout(function(){n()},e)}qh.Ma="serverreachability",qr(oE,ki),qh.STAT_EVENT="statevent",qr(IS,ki),qh.Na="timingevent",qr(l1,ki);var c1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function u1(){}function kS(){}u1.prototype.h=null;var lE,f_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function p_(){ki.call(this,"d")}function aE(){ki.call(this,"c")}function cp(){}function up(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new s0(this),this.P=cE,this.W=new Bo(n=Qy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new PS}function PS(){this.i=null,this.g="",this.h=!1}qr(p_,ki),qr(aE,ki),qr(cp,u1),cp.prototype.g=function(){return new XMLHttpRequest},cp.prototype.i=function(){return{}},lE=new cp;var cE=45e3,g_={},m_={};function OS(n,e,t){n.K=1,n.v=h0(Rd(e)),n.s=t,n.U=!0,dP(n,null)}function dP(n,e){n.F=Date.now(),l0(n),n.A=Rd(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),gE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new PS,n.g=vp(n.l,t?e:null,!n.s),0<n.O&&(n.L=new kL(Xs(n.Ia,n,n.g),n.O)),CS(n.V,n.g,"readystatechange",n.gb),e=n.H?uS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),a0(1),function aP(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",u=s.split("&"),h=0;h<u.length;h++){var p=u[h].split("=");if(1<p.length){var _=p[0];p=p[1];var w=_.split("_");o=2<=w.length&&"type"==w[1]?o+(_+"=")+p+"&":o+(_+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function d1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function hP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=fP(n,t),i==m_){4==e&&(n.o=4,xi(14),r=!1),o0(n.j,n.m,null,"[Incomplete Response]");break}if(i==g_){n.o=4,xi(15),o0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}o0(n.j,n.m,i,null),Rc(n,i)}d1(n)&&i!=m_&&i!=g_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Kh(e),e.L=!0,xi(11))):(o0(n.j,n.m,t,"[Invalid Chunked Response]"),zh(n),c0(n))}function fP(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?m_:(t=Number(e.substring(t,r)),isNaN(t)?g_:(r+=1)+t>e.length?m_:(e=e.substr(r,t),n.C=r+t,e))}function l0(n){n.Y=Date.now()+n.P,uE(n,n.P)}function uE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=h_(Xs(n.eb,n),e)}function __(n){n.B&&(Rn.clearTimeout(n.B),n.B=null)}function c0(n){0==n.l.G||n.I||pp(n.l,n)}function zh(n){__(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,iE(n.W),o1(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Rc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||p1(t.i,n)))if(t.I=n.N,!n.J&&p1(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(p){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=h_(Xs(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Bd(t),w1(t)}C_(t),xi(18)}if(1>=VS(t.i)&&t.ka){try{t.ka()}catch(p){}t.ka=void 0}}else rc(t,11)}else if((n.J||t.g==n)&&Bd(t),!l_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let p=i[e];if(t.U=p[0],p=p[1],2==t.G)if("c"==p[0]){t.J=p[1],t.la=p[2];const _=p[3];null!=_&&(t.ma=_,t.h.info("VER="+t.ma));const w=p[4];null!=w&&(t.za=w,t.h.info("SVER="+t.za));const E=p[5];null!=E&&"number"==typeof E&&0<E&&(t.K=r=1.5*E,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const C=n.g;if(C){const I=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=r.i;!s.g&&(Js(I,"spdy")||Js(I,"quic")||Js(I,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(HS(s,s.h),s.h=null))}if(r.D){const D=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.sa=D,Ei(r.F,r.D,D))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=_p(r,r.H?r.la:null,r.W),o.J){mE(r.i,o);var u=o,h=r.K;h&&u.setTimeout(h),u.B&&(__(u),l0(u)),r.g=o}else hl(r);0<t.l.length&&dl(t)}else"stop"!=p[0]&&"close"!=p[0]||rc(t,7);else 3==t.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?rc(t,7):hp(t):"noop"!=p[0]&&t.j&&t.j.wa(p),t.A=0)}a0(4)}catch(p){}}function dE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qy(n)||"string"==typeof n)zy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(qy(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function h1(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(qy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function u0(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof u0)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function MS(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Nd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Nd(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Nd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dn=up.prototype).setTimeout=function(n){this.P=n},dn.gb=function(n){n=n.target;const e=this.L;e&&3==Ld(n)?e.l():this.Ia(n)},dn.Ia=function(n){try{if(n==this.g)e:{const _=Ld(this.g);var e=this.g.Da();const w=this.g.ba();if(!(3>_)&&(3!=_||Qy||this.g&&(this.h.h||this.g.ga()||KS(this.g)))){this.I||4!=_||7==e||a0(8==e||0>=w?3:2),__(this);var t=this.g.ba();this.N=t;t:if(d1(this)){var r=KS(this.g);n="";var i=r.length,s=4==Ld(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zh(this),c0(this);var o="";break t}this.h.i=new Rn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function lP(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,_,t),this.i){if(this.$&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!l_(u)){var p=u;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,xi(12),zh(this),c0(this);break e}o0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rc(this,t)}this.U?(hP(this,_,o),Qy&&this.i&&3==_&&(CS(this.V,this.W,"tick",this.fb),this.W.start())):(o0(this.j,this.m,o,null),Rc(this,o)),4==_&&zh(this),this.i&&!this.I&&(4==_?pp(this.l,this):(this.i=!1,l0(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),zh(this),c0(this)}}}catch(_){}},dn.fb=function(){if(this.g){var n=Ld(this.g),e=this.g.ga();this.C<e.length&&(__(this),hP(this,n,e),this.i&&4!=n&&l0(this))}},dn.cancel=function(){this.I=!0,zh(this)},dn.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(a0(3),xi(17)),zh(this),this.o=2,c0(this)):uE(this,this.Y-n)},(dn=u0.prototype).R=function(){MS(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dn.T=function(){return MS(this),this.g.concat()},dn.get=function(n,e){return Nd(this.h,n)?this.h[n]:e},dn.set=function(n,e){Nd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dn.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var hE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Lc){this.g=void 0!==e?e:n.g,d0(this,n.j),this.s=n.s,v_(this,n.i),y_(this,n.m),this.l=n.l,e=n.h;var t=new w_;t.i=e.i,e.g&&(t.g=new u0(e.g),t.h=e.h),pE(this,t),this.o=n.o}else n&&(t=String(n).match(hE))?(this.g=!!e,d0(this,t[1]||"",!0),this.s=f0(t[2]||""),v_(this,t[3]||"",!0),y_(this,t[4]),this.l=f0(t[5]||"",!0),pE(this,t[6]||"",!0),this.o=f0(t[7]||"")):(this.g=!!e,this.h=new w_(null,this.g))}function Rd(n){return new Lc(n)}function d0(n,e,t){n.j=t?f0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function v_(n,e,t){n.i=t?f0(e,!0):e}function y_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pE(n,e,t){e instanceof w_?(n.h=e,function RS(n,e){e&&!n.j&&(Zh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Bc(this,r),gE(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Fu(e,_P)),n.h=new w_(e,n.g))}function Ei(n,e,t){n.h.set(e,t)}function h0(n){return Ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function f0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Fu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Fu(e,NS,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Fu(e,NS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Fu(t,"/"==t.charAt(0)?p0:mP,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Fu(t,vP)),n.join("")};var NS=/[#\/\?@]/g,mP=/[#\?:]/g,p0=/[#\?]/g,_P=/[#\?@]/g,vP=/#/g;function w_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zh(n){n.g||(n.g=new u0,n.h=0,n.i&&function fE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Bc(n,e){Zh(n),e=dp(n,e),Nd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Nd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&MS(n)))}function f1(n,e){return Zh(n),e=dp(n,e),Nd(n.g.h,e)}function gE(n,e,t){Bc(n,e),0<t.length&&(n.i=null,n.g.set(dp(n,e),lS(t)),n.h+=t.length)}function dp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BS(n){this.l=n||yP,n=Rn.PerformanceNavigationTiming?0<(n=Rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rn.g&&Rn.g.Ea&&Rn.g.Ea()&&Rn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dn=w_.prototype).add=function(n,e){Zh(this),this.i=null,n=dp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dn.forEach=function(n,e){Zh(this),this.g.forEach(function(t,r){zy(t,function(i){n.call(e,i,r,this)},this)},this)},dn.T=function(){Zh(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},dn.R=function(n){Zh(this);var e=[];if("string"==typeof n)f1(this,n)&&(e=Zy(e,this.g.get(dp(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Zy(e,n[t])}return e},dn.set=function(n,e){return Zh(this),this.i=null,f1(this,n=dp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dn.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var yP=10;function US(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VS(n){return n.h?1:n.g?n.g.size:0}function p1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function HS(n,e){n.g?n.g.add(e):n.h=e}function mE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return lS(n.i)}function _E(){}function PL(){this.g=new _E}function OL(n,e,t){const r=t||"";try{dE(n,function(i,s){let o=i;a_(i)&&(o=u_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function g1(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function g0(n){this.l=n.$b||null,this.j=n.ib||!1}function x_(n,e){Ns.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=GS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BS.prototype.cancel=function(){if(this.i=jS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_E.prototype.stringify=function(n){return Rn.JSON.stringify(n,void 0)},_E.prototype.parse=function(n){return Rn.JSON.parse(n,void 0)},qr(g0,u1),g0.prototype.g=function(){return new x_(this.l,this.j)},g0.prototype.i=function(n){return function(){return n}}({}),qr(x_,Ns);var GS=0;function nc(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function m1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_1(n)}function _1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dn=x_.prototype).open=function(n,e){if(this.readyState!=GS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_1(this)},dn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,m1(this)),this.readyState=GS},dn.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_1(this)),this.g&&(this.readyState=3,_1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nc(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dn.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?m1(this):_1(this),3==this.readyState&&nc(this)}},dn.Ua=function(n){this.g&&(this.response=this.responseText=n,m1(this))},dn.Ta=function(n){this.g&&(this.response=n,m1(this))},dn.ha=function(){this.g&&m1(this)},dn.setRequestHeader=function(n,e){this.v.append(n,e)},dn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(x_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $S=Rn.JSON.parse;function es(n){Ns.call(this),this.headers=new u0,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yE,this.K=this.L=!1}qr(es,Ns);var yE="",wP=/^https?$/i,ML=["POST","PUT"];function wE(n){return"content-type"==n.toLowerCase()}function qS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,v1(n),y1(n)}function v1(n){n.D||(n.D=!0,eo(n,"complete"),eo(n,"error"))}function zS(n){if(n.h&&void 0!==Zx&&(!n.C[1]||4!=Ld(n)||2!=n.ba()))if(n.v&&4==Ld(n))sE(n.Fa,0,n);else if(eo(n,"readystatechange"),4==Ld(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.H).match(hE)[1]||null;if(!i&&Rn.self&&Rn.self.location){var s=Rn.self.location.protocol;i=s.substr(0,s.length-1)}r=!wP.test(i?i.toLowerCase():"")}t=r}if(t)eo(n,"complete"),eo(n,"success");else{n.m=6;try{var o=2<Ld(n)?n.g.statusText:""}catch(h){o=""}n.j=o+" ["+n.ba()+"]",v1(n)}}finally{y1(n)}}}function y1(n,e){if(n.g){ZS(n);const t=n.g,r=n.C[0]?Wy:null;n.g=null,n.C=null,e||eo(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function ZS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rn.clearTimeout(n.A),n.A=null)}function Ld(n){return n.g?n.g.readyState:0}function KS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case yE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function m0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function xP(n){let e="";return cS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ei(n,e,t))}function Nu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YS(n){this.za=0,this.l=[],this.h=new d_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nu("baseRetryDelayMs",5e3,n),this.$a=Nu("retryDelaySeedMs",1e4,n),this.Ya=Nu("forwardChannelMaxRetries",2,n),this.ra=Nu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new BS(n&&n.concurrentRequestLimit),this.Ca=new PL,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function hp(n){if(QS(n),3==n.G){var e=n.V++,t=Rd(n.F);Ei(t,"SID",n.J),Ei(t,"RID",e),Ei(t,"TYPE","terminate"),Uc(n,t),(e=new up(n,n.h,e,void 0)).K=2,e.v=h0(Rd(t)),t=!1,Rn.navigator&&Rn.navigator.sendBeacon&&(t=Rn.navigator.sendBeacon(e.v.toString(),"")),!t&&Rn.Image&&((new Image).src=e.v,t=!0),t||(e.g=vp(e.l,null),e.g.ea(e.v)),e.F=Date.now(),l0(e)}mp(n)}function w1(n){n.g&&(Kh(n),n.g.cancel(),n.g=null)}function QS(n){w1(n),n.u&&(Rn.clearTimeout(n.u),n.u=null),Bd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rn.clearTimeout(n.m),n.m=null)}function E_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&dl(n)}function dl(n){US(n.i)||n.m||(n.m=!0,r1(n.Ha,n),n.C=0)}function yo(n,e){var t;t=e?e.m:n.V++;const r=Rd(n.F);Ei(r,"SID",n.J),Ei(r,"RID",t),Ei(r,"AID",n.U),Uc(n,r),n.o&&n.s&&m0(r,n.o,n.s),t=new up(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=T_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),HS(n.i,t),OS(t,r,e)}function Uc(n,e){n.j&&dE({},function(t,r){Ei(e,r,t)})}function T_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Xs(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let h=0;h<t;h++){let p=i[h].h;const _=i[h].g;if(p-=s,0>p)s=Math.max(0,i[h].h-100),u=!1;else try{OL(_,o,"req"+p+"_")}catch(w){r&&r(_)}}if(u){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function hl(n){n.g||n.u||(n.Y=1,r1(n.Ga,n),n.A=0)}function C_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=h_(Xs(n.Ga,n),gp(n,n.A)),n.A++,0))}function Kh(n){null!=n.B&&(Rn.clearTimeout(n.B),n.B=null)}function fp(n){n.g=new up(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Rd(n.oa);Ei(e,"RID","rpc"),Ei(e,"SID",n.J),Ei(e,"CI",n.N?"0":"1"),Ei(e,"AID",n.U),Uc(n,e),Ei(e,"TYPE","xmlhttp"),n.o&&n.s&&m0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=h0(Rd(e)),t.s=null,t.U=!0,dP(t,n)}function Bd(n){null!=n.v&&(Rn.clearTimeout(n.v),n.v=null)}function pp(n,e){var t=null;if(n.g==e){Bd(n),Kh(n),n.g=null;var r=2}else{if(!p1(n.i,e))return;t=e.D,mE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;eo(r=a1(),new l1(r,t,e,i)),dl(n)}else hl(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function b_(n,e){return!(VS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=h_(Xs(n.Ha,n,e),gp(n,n.C)),n.C++,0)))}(n,e)||2==r&&C_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:rc(n,5);break;case 4:rc(n,10);break;case 3:rc(n,6);break;default:rc(n,2)}}function gp(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function rc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Xs(n.jb,n);t||(t=new Lc("//www.google.com/images/cleardot.gif"),Rn.location&&"http"==Rn.location.protocol||d0(t,"https"),h0(t)),function vE(n,e){const t=new d_;if(Rn.Image){const r=new Image;r.onload=op(g1,t,r,"TestLoadImage: loaded",!0,e),r.onerror=op(g1,t,r,"TestLoadImage: error",!1,e),r.onabort=op(g1,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=op(g1,t,r,"TestLoadImage: timeout",!1,e),Rn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xi(2);n.G=0,n.j&&n.j.va(e),mp(n),QS(n)}function mp(n){n.G=0,n.I=-1,n.j&&((0!=jS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,lS(n.l),n.l.length=0),n.j.ua())}function _p(n,e,t){let r=function pP(n){return n instanceof Lc?Rd(n):new Lc(n,void 0)}(t);if(""!=r.i)e&&v_(r,e+"."+r.i),y_(r,r.m);else{const i=Rn.location;r=function gP(n,e,t,r){var i=new Lc(null,void 0);return n&&d0(i,n),e&&v_(i,e),t&&y_(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&cS(n.aa,function(i,s){Ei(r,s,i)}),t=n.sa,(e=n.D)&&t&&Ei(r,e,t),Ei(r,"VER",n.ma),Uc(n,r),r}function vp(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new es(t&&n.Ba&&!n.qa?new g0({ib:!0}):n.qa)).L=n.H,e}function xE(){}function S_(){if(Xg&&!(10<=Number(AL)))throw Error("Environmental error: no available transport.")}function Aa(n,e){Ns.call(this),this.g=new YS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!l_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!l_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yp(this)}function EE(n){p_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bE(){aE.call(this),this.status=1}function yp(n){this.g=n}(dn=es.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lE.g(),this.C=function DS(n){return n.h||(n.h=n.i())}(this.u?this.u:lE),this.g.onreadystatechange=Xs(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void qS(this,s)}n=t||"";const i=new u0(this.headers);r&&dE(r,function(s,o){i.set(o,s)}),r=function aS(n){e:{var e=wE;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Rn.FormData&&n instanceof Rn.FormData,!(0<=Ou(ML,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ZS(this),0<this.B&&((this.K=function WS(n){return Xg&&function SL(){return function fS(n){var e=CL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Qk(String(Jx)).split("."),t=Qk("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Qg(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Qg(0==i[2].length,0==s[2].length)||Qg(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xs(this.pa,this)):this.A=sE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){qS(this,s)}},dn.pa=function(){void 0!==Zx&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eo(this,"timeout"),this.abort(8))},dn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,eo(this,"complete"),eo(this,"abort"),y1(this))},dn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),y1(this,!0)),es.Z.M.call(this)},dn.Fa=function(){this.s||(this.F||this.v||this.l?zS(this):this.cb())},dn.cb=function(){zS(this)},dn.ba=function(){try{return 2<Ld(this)?this.g.status:-1}catch(n){return-1}},dn.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dn.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$S(e)}},dn.Da=function(){return this.m},dn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dn=YS.prototype).ma=8,dn.G=1,dn.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dn.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new up(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=uS(s),hS(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=T_(this,i,e),Ei(t=Rd(this.F),"RID",n),Ei(t,"CVER",22),this.D&&Ei(t,"X-HTTP-Session-Id",this.D),Uc(this,t),this.o&&s&&m0(t,this.o,s),HS(this.i,i),this.Ra&&Ei(t,"TYPE","init"),this.ja?(Ei(t,"$req",e),Ei(t,"SID","null"),i.$=!0,OS(i,t,null)):OS(i,t,e),this.G=2}}else 3==this.G&&(n?yo(this,n):0==this.l.length||US(this.i)||yo(this))},dn.Ga=function(){if(this.u=null,fp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=h_(Xs(this.bb,this),n)}},dn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xi(10),w1(this),fp(this))},dn.ab=function(){null!=this.v&&(this.v=null,w1(this),C_(this),xi(19))},dn.jb=function(n){n?(this.h.info("Successfully pinged google.com"),xi(2)):(this.h.info("Failed to ping google.com"),xi(1))},(dn=xE.prototype).xa=function(){},dn.wa=function(){},dn.va=function(){},dn.ua=function(){},dn.Oa=function(){},S_.prototype.g=function(n,e){return new Aa(n,e)},qr(Aa,Ns),Aa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),r1(Xs(n.hb,n,e))),xi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=_p(n,null,n.W),dl(n)},Aa.prototype.close=function(){hp(this.g)},Aa.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,E_(this.g,e)}else this.v?((e={}).__data__=u_(n),E_(this.g,e)):E_(this.g,n)},Aa.prototype.M=function(){this.g.j=null,delete this.j,hp(this.g),delete this.g,Aa.Z.M.call(this)},qr(EE,p_),qr(bE,aE),qr(yp,xE),yp.prototype.xa=function(){eo(this.g,"a")},yp.prototype.wa=function(n){eo(this.g,new EE(n))},yp.prototype.va=function(n){eo(this.g,new bE(n))},yp.prototype.ua=function(){eo(this.g,"b")},S_.prototype.createWebChannel=S_.prototype.g,Aa.prototype.send=Aa.prototype.u,Aa.prototype.open=Aa.prototype.m,Aa.prototype.close=Aa.prototype.close,c1.NO_ERROR=0,c1.TIMEOUT=8,c1.HTTP_ERROR=6,uP.COMPLETE="complete",kS.EventType=f_,f_.OPEN="a",f_.CLOSE="b",f_.ERROR="c",f_.MESSAGE="d",Ns.prototype.listen=Ns.prototype.N,es.prototype.listenOnce=es.prototype.O,es.prototype.getLastError=es.prototype.La,es.prototype.getLastErrorCode=es.prototype.Da,es.prototype.getStatus=es.prototype.ba,es.prototype.getResponseJson=es.prototype.Qa,es.prototype.getResponseText=es.prototype.ga,es.prototype.send=es.prototype.ea;var XS=Pu.createWebChannelTransport=function(){return new S_},JS=Pu.getStatEventTarget=function(){return a1()},x1=Pu.ErrorCode=c1,EP=Pu.EventType=uP,eA=Pu.Event=qh,tA=Pu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nA=Pu.FetchXmlHttpFactory=g0,A_=Pu.WebChannel=kS,bP=Pu.XhrIo=es;const rA="@firebase/firestore";class to{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}to.UNAUTHENTICATED=new to(null),to.GOOGLE_CREDENTIALS=new to("google-credentials-uid"),to.FIRST_PARTY=new to("first-party-uid"),to.MOCK_USER=new to("mock-user");let _0="9.8.0";const Ud=new Nc.Yd("@firebase/firestore");function TE(){return Ud.logLevel}function Ct(n,...e){if(Ud.logLevel<=Nc.in.DEBUG){const t=e.map(I_);Ud.debug(`Firestore (${_0}): ${n}`,...t)}}function _s(n,...e){if(Ud.logLevel<=Nc.in.ERROR){const t=e.map(I_);Ud.error(`Firestore (${_0}): ${n}`,...t)}}function wp(n,...e){if(Ud.logLevel<=Nc.in.WARN){const t=e.map(I_);Ud.warn(`Firestore (${_0}): ${n}`,...t)}}function I_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function gn(n="Unexpected state"){const e=`FIRESTORE (${_0}) INTERNAL ASSERTION FAILED: `+n;throw _s(e),new Error(e)}function Fn(n,e){n||gn()}function tn(n,e){return n}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Z.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(to.UNAUTHENTICATED))}shutdown(){}}class CP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sA{constructor(e){this.t=e,this.currentUser=to.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let o=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=o;e.enqueueRetryable((0,et.Z)(function*(){yield p.promise,yield s(r.currentUser)}))},h=p=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wo)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fn("string"==typeof r.accessToken),new iA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fn(null===e||"string"==typeof e),new to(e)}}class SP{constructor(e,t,r){this.type="FirstParty",this.user=to.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class oA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new SP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(to.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AP{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,Ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fn("string"==typeof t.token),this.p=t.token,new D_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class fl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function DP(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}fl.A=-1;class aA{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Wn(n,e){return n<e?-1:n>e?1:0}function y0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function CE(n){return n+"\0"}class ts{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ts.fromMillis(Date.now())}static fromDate(e){return ts.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ts(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wn(this.nanoseconds,e.nanoseconds):Wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new ts(0,0))}static max(){return new Pn(new ts(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function SE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class xp{constructor(e,t,r){void 0===t?t=0:t>e.length&&gn(),void 0===r?r=e.length-t:r>e.length-t&&gn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends xp{construct(e,t,r){return new pr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new wt(ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const NL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends xp{construct(e,t,r){return new Pi(e,t,r)}static isValidIdentifier(e){return NL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new wt(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if("\\"===u){if(i+1===e.length)throw new wt(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new wt(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new wt(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(t)}static emptyPath(){return new Pi([])}}class Ep{constructor(e){this.fields=e,e.sort(Pi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return y0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ns(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const PP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vc(n){if(Fn(!!n),"string"==typeof n){let e=0;const t=PP.exec(n);if(Fn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ui(n.seconds),nanos:ui(n.nanos)}}function ui(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hd(n){return"string"==typeof n?ns.fromBase64String(n):ns.fromUint8Array(n)}function lA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cA(n){const e=n.mapValue.fields.__previous_value__;return lA(e)?cA(e):e}function Yh(n){const e=Vc(n.mapValue.fields.__local_write_time__.timestampValue);return new ts(e.seconds,e.nanos)}class E1{constructor(e,t,r,i,s,o,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class Hc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}function w0(n){return null==n}function bp(n){return 0===n&&1/n==-1/0}function IE(n){return"number"==typeof n&&Number.isInteger(n)&&!bp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(pr.fromString(e))}static fromName(e){return new Zt(pr.fromString(e).popFirst(5))}static empty(){return new Zt(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new pr(e.slice()))}}const Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},k_={nullValue:"NULL_VALUE"};function Tp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lA(n)?4:OE(n)?9007199254740991:10:gn()}function jc(n,e){if(n===e)return!0;const t=Tp(n);if(t!==Tp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yh(n).isEqual(Yh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vc(r.timestampValue),o=Vc(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Hd(n.bytesValue).isEqual(Hd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ui(r.geoPointValue.latitude)===ui(i.geoPointValue.latitude)&&ui(r.geoPointValue.longitude)===ui(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ui(r.integerValue)===ui(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ui(r.doubleValue),o=ui(i.doubleValue);return s===o?bp(s)===bp(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return y0(n.arrayValue.values||[],e.arrayValue.values||[],jc);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(SE(s)!==SE(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===o[u]||!jc(s[u],o[u])))return!1;return!0}(n,e);default:return gn()}var i}function x0(n,e){return void 0!==(n.values||[]).find(t=>jc(t,e))}function Lu(n,e){if(n===e)return 0;const t=Tp(n),r=Tp(e);if(t!==r)return Wn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ui(i.integerValue||i.doubleValue),u=ui(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(n,e);case 3:return DE(n.timestampValue,e.timestampValue);case 4:return DE(Yh(n),Yh(e));case 5:return Wn(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Hd(i),u=Hd(s);return o.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const p=Wn(o[h],u[h]);if(0!==p)return p}return Wn(o.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Wn(ui(i.latitude),ui(s.latitude));return 0!==o?o:Wn(ui(i.longitude),ui(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let h=0;h<o.length&&h<u.length;++h){const p=Lu(o[h],u[h]);if(p)return p}return Wn(o.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ru.mapValue&&s===Ru.mapValue)return 0;if(i===Ru.mapValue)return 1;if(s===Ru.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),h=s.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let _=0;_<u.length&&_<p.length;++_){const w=Wn(u[_],p[_]);if(0!==w)return w;const E=Lu(o[u[_]],h[p[_]]);if(0!==E)return E}return Wn(u.length,p.length)}(n.mapValue,e.mapValue);default:throw gn()}}function DE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wn(n,e);const t=Vc(n),r=Vc(e),i=Wn(t.seconds,r.seconds);return 0!==i?i:Wn(t.nanos,r.nanos)}function E0(n){return b1(n)}function b1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Vc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hd(n.bytesValue).toBase64():"referenceValue"in n?Zt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=b1(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${b1(r.fields[u])}`;return s+"}"}(n.mapValue):gn();var e}function Qh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function P_(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function kE(n){return!!n&&"nullValue"in n}function PE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function O_(n){return!!n&&"mapValue"in n}function b0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=b0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=b0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uA(n){return"nullValue"in n?k_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qh(Hc.empty(),Zt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gn()}function dA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qh(Hc.empty(),Zt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ru:gn()}function ME(n,e){const t=Lu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function OP(n,e){const t=Lu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Uo{constructor(e){this.value=e}static empty(){return new Uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!O_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=b0(t)}setAll(e){let t=Pi.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}o?r[u.lastSegment()]=b0(o):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());O_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];O_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vd(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Uo(b0(this.value))}}function hA(n){const e=[];return Vd(n.fields,(t,r)=>{const i=new Pi([t]);if(O_(r)){const s=hA(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ep(e)}class ni{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ni(e,0,Pn.min(),Pn.min(),Uo.empty(),0)}static newFoundDocument(e,t,r){return new ni(e,1,t,Pn.min(),r,0)}static newNoDocument(e,t){return new ni(e,2,t,Pn.min(),Uo.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,Pn.min(),Uo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class T1{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function rs(n){return n.fields.find(e=>2===e.kind)}function Xh(n){return n.fields.filter(e=>2!==e.kind)}T1.UNKNOWN_ID=-1;class C1{constructor(e,t){this.fieldPath=e,this.kind=t}}class M_{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new M_(0,ic.min())}}function FE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pn.fromTimestamp(1e9===r?new ts(t+1,0):new ts(t,r));return new ic(i,Zt.empty(),e)}function MP(n){return new ic(n.readTime,n.key,-1)}class ic{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ic(Pn.min(),Zt.empty(),-1)}static max(){return new ic(Pn.max(),Zt.empty(),-1)}}function NE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Zt.comparator(n.documentKey,e.documentKey),0!==t?t:Wn(n.largestBatchId,e.largestBatchId))}class ri{constructor(e,t){this.comparator=e,this.root=t||xo.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new S1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new S1(this.root,e,this.comparator,!1)}getReverseIterator(){return new S1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new S1(this.root,e,this.comparator,!0)}}class S1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:xo.RED,this.left=null!=i?i:xo.EMPTY,this.right=null!=s?s:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new xo(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zr{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fA(this.data.getIterator())}getIteratorFrom(e){return new fA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zr(this.comparator);return t.data=e,t}}class fA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sp(n){return n.hasNext()?n.getNext():void 0}class RL{constructor(e,t=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.P=null}}function A1(n,e=null,t=[],r=[],i=null,s=null,o=null){return new RL(n,e,t,r,i,s,o)}function jd(n){const e=tn(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+E0(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),w0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>E0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>E0(r)).join(",")),e.P=t}return e.P}function F_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!mA(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!jc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L_(n.startAt,e.startAt)&&L_(n.endAt,e.endAt)}function N_(n){return Zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pl(n,e){return n.filters.filter(t=>t instanceof no&&t.field.isEqual(e))}function sc(n,e,t){let r=k_,i=!0;for(const s of pl(n,e)){let o=k_,u=!0;switch(s.op){case"<":case"<=":o=uA(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,u=!1;break;case"!=":case"not-in":o=k_}ME({value:r,inclusive:i},{value:o,inclusive:u})<0&&(r=o,i=u)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];ME({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function oc(n,e,t){let r=Ru,i=!0;for(const s of pl(n,e)){let o=Ru,u=!0;switch(s.op){case">=":case">":o=dA(s.value),u=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,u=!1;break;case"!=":case"not-in":o=Ru}OP({value:r,inclusive:i},{value:o,inclusive:u})>0&&(r=o,i=u)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];OP({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class no extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new pA(e,t,r):"array-contains"===t?new RP(e,r):"in"===t?new RE(e,r):"not-in"===t?new R_(e,r):"array-contains-any"===t?new LP(e,r):new no(e,t,r)}static V(e,t,r){return"in"===t?new FP(e,r):new NP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Lu(t,this.value)):null!==t&&Tp(this.value)===Tp(t)&&this.v(Lu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pA extends no{constructor(e,t,r){super(e,t,r),this.key=Zt.fromName(r.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.v(t)}}class FP extends no{constructor(e,t){super(e,"in",t),this.keys=gA(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NP extends no{constructor(e,t){super(e,"not-in",t),this.keys=gA(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gA(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Zt.fromName(r.referenceValue))}class RP extends no{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&x0(t.arrayValue,this.value)}}class RE extends no{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&x0(this.value.arrayValue,t)}}class R_ extends no{constructor(e,t){super(e,"not-in",t)}matches(e){if(x0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!x0(this.value.arrayValue,t)}}class LP extends no{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>x0(this.value.arrayValue,r))}}class Gd{constructor(e,t){this.position=e,this.inclusive=t}}class T0{constructor(e,t="asc"){this.field=e,this.dir=t}}function mA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function LE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Zt.comparator(Zt.fromName(o.referenceValue),t.key):Lu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function L_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jc(n.position[t],e.position[t]))return!1;return!0}class $d{constructor(e,t=null,r=[],i=[],s=null,o="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=h,this.D=null,this.C=null}}function BE(n,e,t,r,i,s,o,u){return new $d(n,e,t,r,i,s,o,u)}function Ap(n){return new $d(n)}function C0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function B_(n){for(const e of n.filters)if(e.S())return e.field;return null}function I1(n){return null!==n.collectionGroup}function Ip(n){const e=tn(n);if(null===e.D){e.D=[];const t=B_(e),r=C0(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new T0(t)),e.D.push(new T0(Pi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new T0(Pi.keyField(),s))}}}return e.D}function gl(n){const e=tn(n);if(!e.C)if("F"===e.limitType)e.C=A1(e.path,e.collectionGroup,Ip(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ip(e))t.push(new T0(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Gd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gd(e.startAt.position,e.startAt.inclusive):null;e.C=A1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function VE(n,e,t){return new $d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function S0(n,e){return F_(gl(n),gl(e))&&n.limitType===e.limitType}function HE(n){return`${jd(gl(n))}|lt:${n.limitType}`}function D1(n){return`Query(target=${function Bu(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${E0(r.value)}`;var r}).join(", ")}]`),w0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>E0(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>E0(t)).join(",")),`Target(${e})`}(gl(n))}; limitType=${n.limitType})`}function jE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Zt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const u=LE(i,s,o);return i.inclusive?u<=0:u<0}(t.startAt,Ip(t),r)||t.endAt&&!function(i,s,o){const u=LE(i,s,o);return i.inclusive?u>=0:u>0}(t.endAt,Ip(t),r)));var t,r}function _A(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vA(n){return(e,t)=>{let r=!1;for(const i of Ip(n)){const s=BP(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function BP(n,e,t){const r=n.field.isKeyField()?Zt.comparator(e.key,t.key):function(i,s,o){const u=s.data.field(i),h=o.data.field(i);return null!==u&&null!==h?Lu(u,h):gn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gn()}}function yA(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function wA(n){return{integerValue:""+n}}function xA(n,e){return IE(e)?wA(e):yA(n,e)}class k1{constructor(){this._=void 0}}function UP(n,e,t){return n instanceof A0?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Dp?bA(n,e):n instanceof kp?TA(n,e):function(r,i){const s=EA(r,i),o=CA(s)+CA(r.k);return P_(s)&&P_(r.k)?wA(o):yA(r.M,o)}(n,e)}function VP(n,e,t){return n instanceof Dp?bA(n,e):n instanceof kp?TA(n,e):t}function EA(n,e){return n instanceof I0?P_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class A0 extends k1{}class Dp extends k1{constructor(e){super(),this.elements=e}}function bA(n,e){const t=GE(e);for(const r of n.elements)t.some(i=>jc(i,r))||t.push(r);return{arrayValue:{values:t}}}class kp extends k1{constructor(e){super(),this.elements=e}}function TA(n,e){let t=GE(e);for(const r of n.elements)t=t.filter(i=>!jc(i,r));return{arrayValue:{values:t}}}class I0 extends k1{constructor(e,t){super(),this.M=e,this.k=t}}function CA(n){return ui(n.integerValue||n.doubleValue)}function GE(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class D0{constructor(e,t){this.field=e,this.transform=t}}class AA{constructor(e,t){this.version=e,this.transformResults=t}}class is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function U_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class V_{}function IA(n,e,t){n instanceof H_?function(r,i,s){const o=r.value.clone(),u=HP(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Pp?function(r,i,s){if(!U_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=HP(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(Op(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function P1(n,e,t){var i;n instanceof H_?function(r,i,s){if(!U_(r.precondition,i))return;const o=r.value.clone(),u=M1(r.fieldTransforms,s,i);o.setAll(u),i.convertToFoundDocument(Jh(i),o).setHasLocalMutations()}(n,e,t):n instanceof Pp?function(r,i,s){if(!U_(r.precondition,i))return;const o=M1(r.fieldTransforms,s,i),u=i.data;u.setAll(Op(r)),u.setAll(o),i.convertToFoundDocument(Jh(i),u).setHasLocalMutations()}(n,e,t):U_(n.precondition,i=e)&&i.convertToNoDocument(Pn.min())}function DA(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=EA(r.transform,i||null);null!=s&&(null==t&&(t=Uo.empty()),t.set(r.field,s))}return t||null}function O1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&y0(t,r,(i,s)=>function SA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Dp&&r instanceof Dp||t instanceof kp&&r instanceof kp?y0(t.elements,r.elements,jc):t instanceof I0&&r instanceof I0?jc(t.k,r.k):t instanceof A0&&r instanceof A0);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Jh(n){return n.isFoundDocument()?n.version:Pn.min()}class H_ extends V_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Pp extends V_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Op(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function HP(n,e,t){const r=new Map;Fn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,VP(o,u,t[i]))}return r}function M1(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,UP(s,o,e))}return r}class F1 extends V_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class N1 extends V_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kA{constructor(e){this.count=e}}var Rs,Rt;function PA(n){switch(n){default:return gn();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function OA(n){if(void 0===n)return _s("GRPC error has no .code"),ze.UNKNOWN;switch(n){case Rs.OK:return ze.OK;case Rs.CANCELLED:return ze.CANCELLED;case Rs.UNKNOWN:return ze.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return ze.INTERNAL;case Rs.UNAVAILABLE:return ze.UNAVAILABLE;case Rs.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case Rs.NOT_FOUND:return ze.NOT_FOUND;case Rs.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case Rs.ABORTED:return ze.ABORTED;case Rs.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case Rs.DATA_LOSS:return ze.DATA_LOSS;default:return gn()}}(Rt=Rs||(Rs={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";class ef{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vd(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kP(this.inner)}size(){return this.innerSize}}const R1=new ri(Zt.comparator);function ac(){return R1}const L1=new ri(Zt.comparator);function k0(...n){let e=L1;for(const t of n)e=e.insert(t.key,t);return e}function ii(){return new ef(n=>n.toString(),(n,e)=>n.isEqual(e))}const LL=new ri(Zt.comparator),MA=new zr(Zt.comparator);function kr(...n){let e=MA;for(const t of n)e=e.add(t);return e}const jP=new zr(Wn);function j_(){return jP}class P0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,O0.createSynthesizedTargetChangeForCurrentChange(e,t)),new P0(Pn.min(),r,j_(),ac(),kr())}}class O0{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new O0(ns.EMPTY_BYTE_STRING,t,kr(),kr(),kr())}}class G_{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class FA{constructor(e,t){this.targetId=e,this.$=t}}class NA{constructor(e,t,r=ns.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RA{constructor(){this.B=0,this.L=BA(),this.U=ns.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=kr(),t=kr(),r=kr();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gn()}}),new O0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=BA()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class $_{constructor(e){this.nt=e,this.st=new Map,this.it=ac(),this.rt=LA(),this.ot=new zr(Wn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:gn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(N_(s))if(0===r){const o=new Zt(s.path);this.ct(t,o,ni.newNoDocument(o,Pn.min()))}else Fn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,o)=>{const u=this.wt(o);if(u){if(s.current&&N_(u.target)){const h=new Zt(u.target.path);null!==this.it.get(h)||this.It(o,h)||this.ct(o,h,ni.newNoDocument(h,e))}s.j&&(t.set(o,s.H()),s.J())}});let r=kr();this.rt.forEach((s,o)=>{let u=!0;o.forEachWhile(h=>{const p=this.wt(h);return!p||2===p.purpose||(u=!1,!1)}),u&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new P0(e,t,this.ot,this.it,r);return this.it=ac(),this.rt=LA(),this.ot=new zr(Wn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new RA,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new zr(Wn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new RA),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function LA(){return new ri(Zt.comparator)}function BA(){return new ri(Zt.comparator)}const GP={asc:"ASCENDING",desc:"DESCENDING"},B1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class UA{constructor(e,t){this.databaseId=e,this.N=t}}function M0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $E(n,e){return n.N?e.toBase64():e.toUint8Array()}function $P(n,e){return M0(n,e.toTimestamp())}function ji(n){return Fn(!!n),Pn.fromTimestamp(function(e){const t=Vc(e);return new ts(t.seconds,t.nanos)}(n))}function Mp(n,e){return(t=n,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function VA(n){const e=pr.fromString(n);return Fn(qA(e)),e}function W_(n,e){return Mp(n.databaseId,e.path)}function Uu(n,e){const t=VA(e);if(t.get(1)!==n.databaseId.projectId)throw new wt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new wt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Zt(HA(t))}function U1(n,e){return Mp(n.databaseId,e)}function WE(n){const e=VA(n);return 4===e.length?pr.emptyPath():HA(e)}function F0(n){return new pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return Fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qE(n,e,t){return{name:W_(n,e),fields:t.value.mapValue.fields}}function jA(n,e,t){const r=Uu(n,e.name),i=ji(e.updateTime),s=new Uo({mapValue:{fields:e.fields}}),o=ni.newFoundDocument(r,i,s);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function V1(n,e){let t;if(e instanceof H_)t={update:qE(n,e.key,e.value)};else if(e instanceof F1)t={delete:W_(n,e.key)};else if(e instanceof Pp)t={update:qE(n,e.key,e.data),updateMask:WA(e.fieldMask)};else{if(!(e instanceof N1))return gn();t={verify:W_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof A0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof kp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof I0)return{fieldPath:s.field.canonicalString(),increment:o.k};throw gn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:$P(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gn()),t;var i}function GA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?is.updateTime(ji(i.updateTime)):void 0!==i.exists?is.exists(i.exists):is.none():is.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let u=null;"setToServerValue"in o?(Fn("REQUEST_TIME"===o.setToServerValue),u=new A0):"appendMissingElements"in o?u=new Dp(o.appendMissingElements.values||[]):"removeAllFromArray"in o?u=new kp(o.removeAllFromArray.values||[]):"increment"in o?u=new I0(s,o.increment):gn();const h=Pi.fromServerFormat(o.fieldPath);return new D0(h,u)}(n,i)):[];var i;if(e.update){const i=Uu(n,e.update.name),s=new Uo({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ep((e.updateMask.fieldPaths||[]).map(p=>Pi.fromServerFormat(p)));return new Pp(i,s,o,t,r)}return new H_(i,s,t,r)}if(e.delete){const i=Uu(n,e.delete);return new F1(i,t)}if(e.verify){const i=Uu(n,e.verify);return new N1(i,t)}return gn()}function zE(n,e){return{documents:[U1(n,e.path)]}}function q_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=U1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=U1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(0===h.length)return;const p=h.map(_=>function(w){if("=="===w.op){if(PE(w.value))return{unaryFilter:{field:N0(w.field),op:"IS_NAN"}};if(kE(w.value))return{unaryFilter:{field:N0(w.field),op:"IS_NULL"}}}else if("!="===w.op){if(PE(w.value))return{unaryFilter:{field:N0(w.field),op:"IS_NOT_NAN"}};if(kE(w.value))return{unaryFilter:{field:N0(w.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:N0(w.field),op:zP(w.op),value:w.value}}}(_));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:N0((_=p).field),direction:z_(_.dir)};var _})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(p=e.limit,n.N||w0(p)?p:{value:p});var p,u,h;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(h=e.endAt).inclusive,values:h.position}),t}function $A(n){let e=WE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Fn(1===r);const _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let s=[];t.where&&(s=ZE(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(_=>{return new T0(R0((w=_).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let u=null;t.limit&&(u=function(_){let w;return w="object"==typeof _?_.value:_,w0(w)?null:w}(t.limit));let h=null;var _;t.startAt&&(h=new Gd((_=t.startAt).values||[],!!_.before));let p=null;return t.endAt&&(p=function(_){return new Gd(_.values||[],!_.before)}(t.endAt)),BE(e,i,o,s,u,"F",h,p)}function ZE(n){return n?void 0!==n.unaryFilter?[KP(n)]:void 0!==n.fieldFilter?[ZP(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ZE(e)).reduce((e,t)=>e.concat(t)):gn():[]}function z_(n){return GP[n]}function zP(n){return B1[n]}function N0(n){return{fieldPath:n.canonicalString()}}function R0(n){return Pi.fromServerFormat(n.fieldPath)}function ZP(n){return no.create(R0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(n.fieldFilter.op),n.fieldFilter.value)}function KP(n){switch(n.unaryFilter.op){case"IS_NAN":const e=R0(n.unaryFilter.field);return no.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=R0(n.unaryFilter.field);return no.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=R0(n.unaryFilter.field);return no.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=R0(n.unaryFilter.field);return no.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}function WA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function aa(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zA(e)),e=L0(n.get(t),e);return zA(e)}function L0(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function zA(n){return n+"\x01\x01"}function Gc(n){const e=n.length;if(Fn(e>=2),2===e)return Fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pr.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&gn(),n.charAt(o+1)){case"\x01":const u=n.substring(s,o);let h;0===i.length?h=u:(i+=u,h=i,i=""),r.push(h);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:gn()}s=o+2}return new pr(r)}const ZA=["userId","batchId"];function Z_(n,e){return[n,aa(e)]}function KA(n,e,t){return[n,aa(e),t]}const YA={},YP=["prefixPath","collectionGroup","readTime","documentId"],KE=["prefixPath","collectionGroup","documentId"],QP=["collectionGroup","readTime","prefixPath","documentId"],QA=["canonicalId","targetId"],XA=["targetId","path"],XP=["path","targetId"],JP=["collectionId","parent"],eO=["indexId","uid"],YE=["uid","sequenceNumber"],tO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JA=["indexId","uid","orderedDocumentKey"],nO=["userId","collectionPath","documentId"],rO=["userId","collectionPath","largestBatchId"],iO=["userId","collectionGroup","largestBatchId"],eI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sO=[...eI,"documentOverlays"],tI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oO=[...tI,"indexConfiguration","indexState","indexEntries"],nI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.reject(t)}static resolve(e){return new Ze((t,r)=>{t(e)})}static reject(e){return new Ze((t,r)=>{r(e)})}static waitFor(e){return new Ze((t,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&t()},h=>r(h))}),o=!0,s===i&&t()})}static or(e){let t=Ze.resolve(!1);for(const r of e)t=t.next(i=>i?Ze.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}class H1{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new wo,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new K_(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=G1(r.target.error);this.At.reject(new K_(e,i))}}static open(e,t,r,i){try{return new H1(t,e.transaction(i,r))}catch(s){throw new K_(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new aO(t)}}class $c{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===$c.Vt((0,Z.z$)())&&_s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ct("SimpleDb","Removing database:",e),Wd(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Z.hl)())return!1;if($c.St())return!0;const e=(0,Z.z$)(),t=$c.Vt(e),r=0<t&&t<10,i=$c.Dt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,et.Z)(function*(){return t.db||(Ct("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new K_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;i("VersionError"===u.name?new wt(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new wt(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new K_(e,u))},s.onupgradeneeded=o=>{Ct("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.Pt.kt(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,et.Z)(function*(){const o="readonly"===t;let u=0;for(;;){++u;try{s.db=yield s.Nt(e);const h=H1.open(s.db,e,o?"readonly":"readwrite",r),p=i(h).next(_=>(h.bt(),_)).catch(_=>(h.abort(_),Ze.reject(_))).toPromise();return p.catch(()=>{}),yield h.Rt,p}catch(h){const p="FirebaseError"!==h.name&&u<3;if(Ct("SimpleDb","Transaction failed with error:",h.message,"Retrying:",p),s.close(),!p)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rI{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Wd(this.Ft.delete())}}class K_ extends wt{constructor(e,t){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fp(n){return"IndexedDbTransactionError"===n.name}class aO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ct("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wd(r)}add(e){return Ct("SimpleDb","ADD",this.store.name,e,e),Wd(this.store.add(e))}get(e){return Wd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ct("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ct("SimpleDb","DELETE",this.store.name,e),Wd(this.store.delete(e))}count(){return Ct("SimpleDb","COUNT",this.store.name),Wd(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.Kt(i,(o,u)=>{s.push(u)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Ze((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ze((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Qt(e,t){Ct("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(s,o,u)=>u.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Ze((r,i)=>{t.onerror=s=>{const o=G1(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(u=>{u?o.continue():r()}):r()}})}Kt(e,t){const r=[];return new Ze((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void i();const h=new rI(u),p=t(u.primaryKey,u.value,h);if(p instanceof Ze){const _=p.catch(w=>(h.done(),Ze.reject(w)));r.push(_)}h.isDone?i():null===h.Lt?u.continue():u.continue(h.Lt)}}).next(()=>Ze.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wd(n){return new Ze((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=G1(r.target.error);t(i)}})}let j1=!1;function G1(n){const e=$c.Vt((0,Z.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return j1||(j1=!0,setTimeout(()=>{throw r},0)),r}}return n}class $1 extends QE{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ro(n,e){const t=tn(n);return $c.xt(t.Ht,e)}class XE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IA(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&P1(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&P1(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kr())}isEqual(e){return this.batchId===e.batchId&&y0(this.mutations,e.mutations,(t,r)=>O1(t,r))&&y0(this.baseMutations,e.baseMutations,(t,r)=>O1(t,r))}}class Y_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fn(e.mutations.length===r.length);let i=LL;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Y_(e,t,r,i)}}class JE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qd{constructor(e,t,r,i,s=Pn.min(),o=Pn.min(),u=ns.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}withSequenceNumber(e){return new qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class iI{constructor(e){this.Jt=e}}function oI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Q_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:W_(i=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:M0(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:B0(e.version)};else{if(!e.isUnknownDocument())return gn();r.unknownDocument={path:t.path.toArray(),version:B0(e.version)}}var i,s;return r}function Q_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function B0(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Np(n){const e=new ts(n.seconds,n.nanoseconds);return Pn.fromTimestamp(e)}function zd(n,e){const t=(e.baseMutations||[]).map(s=>GA(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>GA(n.Jt,s)),i=ts.fromMillis(e.localWriteTimeMs);return new XE(e.batchId,i,t,r)}function X_(n){const e=Np(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Np(n.lastLimboFreeSnapshotVersion):Pn.min();let r;var i;return void 0!==n.query.documents?(Fn(1===(i=n.query).documents.length),r=gl(Ap(WE(i.documents[0])))):r=gl($A(n.query)),new qd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ns.fromBase64String(n.resumeToken))}function Rp(n,e){const t=B0(e.snapshotVersion),r=B0(e.lastLimboFreeSnapshotVersion);let i;i=N_(e.target)?zE(n.Jt,e.target):q_(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jd(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Lp(n){const e=$A({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?VE(e,e.limit,"L"):e}function eb(n,e){return new JE(e.largestBatchId,GA(n.Jt,e.overlayMutation))}function lO(n,e){const t=e.path.lastSegment();return[n,aa(e.path.popLast()),t]}class aI{getBundleMetadata(e,t){return lI(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Np(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return lI(e).put({bundleId:(r=t).id,createTime:B0(ji(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return cI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Lp(i.bundledQuery),readTime:Np(i.readTime)};var i})}saveNamedQuery(e,t){return cI(e).put({name:(r=t).name,readTime:B0(ji(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lI(n){return ro(n,"bundles")}function cI(n){return ro(n,"namedQueries")}class tb{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new tb(e,t.uid||"")}getOverlay(e,t){return J_(e).get(lO(this.userId,t)).next(r=>r?eb(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const u=new JE(t,o);i.push(this.Xt(e,u))}),Ze.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(aa(o.getCollectionPath())));const s=[];return i.forEach(o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(J_(e).Qt("collectionPathOverlayIndex",u))}),Ze.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ii(),s=aa(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return J_(e).qt("collectionPathOverlayIndex",o).next(u=>{for(const h of u){const p=eb(this.M,h);i.set(p.getKey(),p)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=ii();let o;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return J_(e).Wt({index:"collectionGroupOverlayIndex",range:u},(h,p,_)=>{const w=eb(this.M,p);s.size()<i||w.largestBatchId===o?(s.set(w.getKey(),w),o=w.largestBatchId):_.done()}).next(()=>s)}Xt(e,t){return J_(e).put(function(r,i,s){const[o,u,h]=lO(i,s.mutation.key);return{userId:i,collectionPath:u,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:V1(r.Jt,s.mutation)}}(this.M,this.userId,t))}}function J_(n){return ro(n,"documentOverlays")}class tf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ui(e.integerValue));else if("doubleValue"in e){const r=ui(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),bp(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Hd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?OE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Zt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function uI(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function W1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=uI(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}tf.fe=new tf;class q1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=W1(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=W1(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ev{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class cO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class U0{constructor(){this.De=new q1,this.Ce=new ev(this.De),this.xe=new cO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class nf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new nf(this.indexId,this.documentKey,this.arrayValue,r)}}function Bp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=dI(n.arrayValue,e.arrayValue),0!==t?t:(t=dI(n.directionalValue,e.directionalValue),0!==t?t:Zt.comparator(n.documentKey,e.documentKey)))}function dI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class nb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=rs(e);if(void 0!==t&&!this.Be(t))return!1;const r=Xh(e);let i=0,s=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const o=r[i];if(!this.Le(this.Fe,o)||!this.Ue(this.Me[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],o))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class uO{constructor(){this.qe=new hI}addToCollectionParentIndex(e,t){return this.qe.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(ic.min())}updateCollectionGroup(e,t,r){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class hI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zr(pr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zr(pr.comparator)).toArray()}}const z1=new Uint8Array(0);class dO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new hI,this.Ge=new ef(r=>jd(r),(r,i)=>F_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:r,parent:aa(i)};return Up(e).put(s)}return Ze.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[CE(t),""],!1,!0);return Up(e).qt(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Gc(o.parent))}return r})}addFieldIndex(e,t){const r=Zd(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(o=>[o.fieldPath.canonicalString(),o.kind])};var s;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Zd(e),i=rb(e),s=V0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=V0(e);let i=!0;const s=new Map;return Ze.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{i&&(i=!!u),s.set(o,u)})).next(()=>{if(i){let o=kr();const u=[];return Ze.forEach(s,(h,p)=>{var _;Ct("IndexedDbIndexManager",`Using index ${_=h,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`} to execute ${jd(t)}`);const w=function(V,oe){const be=rs(oe);if(void 0===be)return null;for(const Ie of pl(V,be.fieldPath))switch(Ie.op){case"array-contains-any":return Ie.value.arrayValue.values||[];case"array-contains":return[Ie.value]}return null}(p,h),E=function(V,oe){const be=new Map;for(const Ie of Xh(oe))for(const re of pl(V,Ie.fieldPath))switch(re.op){case"==":case"in":be.set(Ie.fieldPath.canonicalString(),re.value);break;case"not-in":case"!=":return be.set(Ie.fieldPath.canonicalString(),re.value),Array.from(be.values())}return null}(p,h),C=function(V,oe){const be=[];let Ie=!0;for(const re of Xh(oe)){const Ae=0===re.kind?sc(V,re.fieldPath,V.startAt):oc(V,re.fieldPath,V.startAt);be.push(Ae.value),Ie&&(Ie=Ae.inclusive)}return new Gd(be,Ie)}(p,h),I=function(V,oe){const be=[];let Ie=!0;for(const re of Xh(oe)){const Ae=0===re.kind?oc(V,re.fieldPath,V.endAt):sc(V,re.fieldPath,V.endAt);be.push(Ae.value),Ie&&(Ie=Ae.inclusive)}return new Gd(be,Ie)}(p,h),D=this.We(h,p,C),M=this.We(h,p,I),j=this.ze(h,p,E),z=this.He(h.indexId,w,D,C.inclusive,M,I.inclusive,j);return Ze.forEach(z,V=>r.Gt(V,t.limit).next(oe=>{oe.forEach(be=>{const Ie=Zt.fromSegments(be.documentKey);o.has(Ie)||(o=o.add(Ie),u.push(Ie))})}))}).next(()=>u)}return Ze.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,s,o,u){const h=(null!=t?t.length:1)*Math.max(r.length,s.length),p=h/(null!=t?t.length:1),_=[];for(let w=0;w<h;++w){const E=t?this.Je(t[w/p]):z1,C=this.Ye(e,E,r[w%p],i),I=this.Xe(e,E,s[w%p],o),D=u.map(M=>this.Ye(e,E,M,!0));_.push(...this.createRange(C,I,D))}return _}Ye(e,t,r,i){const s=new nf(e,Zt.empty(),t,r);return i?s:s.ke()}Xe(e,t,r,i){const s=new nf(e,Zt.empty(),t,r);return i?s.ke():s}je(e,t){const r=new nb(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const u of s)r.$e(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o})}getIndexType(e,t){let r=2;return Ze.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?0!==r&&s.fields.length<function(o){let u=new zr(Pi.comparator),h=!1;for(const p of o.filters){const _=p;_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?h=!0:u=u.add(_.field))}for(const p of o.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new U0;for(const i of Xh(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Ne(i.kind);tf.fe.Zt(s,o)}return r.Se()}Je(e){const t=new U0;return tf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new U0;return tf.fe.Zt(Qh(this.databaseId,t),r.Ne(function(i){const s=Xh(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new U0);let s=0;for(const o of Xh(e)){const u=r[s++];for(const h of i)if(this.en(t,o.fieldPath)&&Cp(u))i=this.nn(i,o,u);else{const p=h.Ne(o.kind);tf.fe.Zt(u,p)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const u of i){const h=new U0;h.seed(u.Se()),tf.fe.Zt(o,h.Ne(t.kind)),s.push(h)}return s}en(e,t){return!!e.filters.find(r=>r instanceof no&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Zd(e),i=rb(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(s=>{const o=[];return Ze.forEach(s,u=>i.get([u.indexId,this.uid]).next(h=>{o.push(function(p,_){const w=_?new M_(_.sequenceNumber,new ic(Np(_.readTime),new Zt(Gc(_.documentKey)),_.largestBatchId)):M_.empty(),E=p.fields.map(([C,I])=>new C1(Pi.fromServerFormat(C),I));return new T1(p.indexId,p.collectionGroup,E,w)}(u,h))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Wn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Zd(e),s=rb(e);return this.rn(e).next(o=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>Ze.forEach(u,h=>{return s.put({indexId:h.indexId,uid:this.user.uid||"",sequenceNumber:o,readTime:B0((E=r).readTime),documentKey:aa(E.documentKey.path),largestBatchId:E.largestBatchId});var E})))}updateIndexEntries(e,t){const r=new Map;return Ze.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Ze.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),Ze.forEach(u,h=>this.on(e,i,h).next(p=>{const _=this.un(s,h);return p.isEqual(_)?Ze.resolve():this.an(e,s,h,p,_)}))))})}cn(e,t,r,i){return V0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return V0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=V0(e);let s=new zr(Bp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(o,u)=>{s=s.add(new nf(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}un(e,t){let r=new zr(Bp);const i=this.Ze(t,e);if(null==i)return r;const s=rs(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Cp(o))for(const u of o.arrayValue.values||[])r=r.add(new nf(t.indexId,e.key,this.Je(u),i))}else r=r.add(new nf(t.indexId,e.key,z1,i));return r}an(e,t,r,i,s){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(u,h,p,_,w){const E=u.getIterator(),C=h.getIterator();let I=Sp(E),D=Sp(C);for(;I||D;){let M=!1,j=!1;if(I&&D){const z=p(I,D);z<0?j=!0:z>0&&(M=!0)}else null!=I?j=!0:M=!0;M?(_(D),D=Sp(C)):j?(w(I),I=Sp(E)):(I=Sp(E),D=Sp(C))}}(i,s,Bp,u=>{o.push(this.cn(e,t,r,u))},u=>{o.push(this.hn(e,t,r,u))}),Ze.waitFor(o)}rn(e){let t=1;return rb(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,u)=>Bp(o,u)).filter((o,u,h)=>!u||0!==Bp(o,h[u-1]));const i=[];i.push(e);for(const o of r){const u=Bp(o,e),h=Bp(o,t);if(0===u)i[0]=e.ke();else if(u>0&&h<0)i.push(o),i.push(o.ke());else if(h>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,z1,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,z1,[]]));return s}getMinOffset(e,t){let r;return Ze.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?(!r||NE(s.indexState.offset,r)<0)&&(r=s.indexState.offset):r=ic.min()})).next(()=>r)}}function Up(n){return ro(n,"collectionParents")}function V0(n){return ro(n,"indexEntries")}function Zd(n){return ro(n,"indexConfiguration")}function rb(n){return ro(n,"indexState")}const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ia{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hO(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let u=0;const h=r.Wt({range:o},(_,w,E)=>(u++,E.delete()));s.push(h.next(()=>{Fn(1===u)}));const p=[];for(const _ of t.mutations){const w=KA(e,_.key.path,t.batchId);s.push(i.delete(w)),p.push(_.key)}return Ze.waitFor(s).next(()=>p)}function tv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gn();e=n.noDocument}return JSON.stringify(e).length}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class fI{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Fn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new fI(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).Wt({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=H0(e),o=Vu(e);return o.add({}).next(u=>{Fn("number"==typeof u);const h=new XE(u,t,r,i),p=function(E,C,I){const D=I.baseMutations.map(j=>V1(E.Jt,j)),M=I.mutations.map(j=>V1(E.Jt,j));return{userId:C,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:D,mutations:M}}(this.M,this.userId,h),_=[];let w=new zr((E,C)=>Wn(E.canonicalString(),C.canonicalString()));for(const E of i){const C=KA(this.userId,E.key.path,u);w=w.add(E.key.path.popLast()),_.push(o.put(p)),_.push(s.put(C,YA))}return w.forEach(E=>{_.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.ln[u]=h.keys()}),Ze.waitFor(_).next(()=>h)})}lookupMutationBatch(e,t){return Vu(e).get(t).next(r=>r?(Fn(r.userId===this.userId),zd(this.M,r)):null)}fn(e,t){return this.ln[t]?Ze.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Vu(e).Wt({index:"userMutationsIndex",range:i},(o,u,h)=>{u.userId===this.userId&&(Fn(u.batchId>=r),s=zd(this.M,u)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).qt("userMutationsIndex",t).next(r=>r.map(i=>zd(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Z_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return H0(e).Wt({range:i},(o,u,h)=>{const[p,_,w]=o,E=Gc(_);if(p===this.userId&&t.path.isEqual(E))return Vu(e).get(w).next(C=>{if(!C)throw gn();Fn(C.userId===this.userId),s.push(zd(this.M,C))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zr(Wn);const i=[];return t.forEach(s=>{const o=Z_(this.userId,s.path),u=IDBKeyRange.lowerBound(o),h=H0(e).Wt({range:u},(p,_,w)=>{const[E,C,I]=p,D=Gc(C);E===this.userId&&s.path.isEqual(D)?r=r.add(I):w.done()});i.push(h)}),Ze.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Z_(this.userId,r),o=IDBKeyRange.lowerBound(s);let u=new zr(Wn);return H0(e).Wt({range:o},(h,p,_)=>{const[w,E,C]=h,I=Gc(E);w===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(C)):_.done()}).next(()=>this.dn(e,u))}dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Vu(e).get(s).next(o=>{if(null===o)throw gn();Fn(o.userId===this.userId),r.push(zd(this.M,o))}))}),Ze.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return hO(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ze.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ze.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return H0(e).Wt({range:r},(s,o,u)=>{if(s[0]===this.userId){const h=Gc(s[1]);i.push(h)}else u.done()}).next(()=>{Fn(0===i.length)})})}containsKey(e,t){return sb(e,this.userId,t)}wn(e){return ob(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sb(n,e,t){const r=Z_(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return H0(n).Wt({range:s,jt:!0},(u,h,p)=>{const[_,w,E]=u;_===e&&w===i&&(o=!0),p.done()}).next(()=>o)}function Vu(n){return ro(n,"mutations")}function H0(n){return ro(n,"documentMutations")}function ob(n){return ro(n,"mutationQueues")}class rf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new rf(0)}static yn(){return new rf(-1)}}class pI{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new rf(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Pn.fromTimestamp(new ts(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vp(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Fn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Vp(e).Wt((o,u)=>{const h=X_(u);h.sequenceNumber<=t&&null===r.get(h.targetId)&&(i++,s.push(this.removeTargetData(e,h)))}).next(()=>Ze.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Vp(e).Wt((r,i)=>{const s=X_(i);t(s)})}pn(e){return gI(e).get("targetGlobalKey").next(t=>(Fn(null!==t),t))}In(e,t){return gI(e).put("targetGlobalKey",t)}Tn(e,t){return Vp(e).put(Rp(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vp(e).Wt({range:i,index:"queryTargetsIndex"},(o,u,h)=>{const p=X_(u);F_(t,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=sf(e);return t.forEach(o=>{const u=aa(o.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,o))}),Ze.waitFor(i)}removeMatchingKeys(e,t,r){const i=sf(e);return Ze.forEach(t,s=>{const o=aa(s.path);return Ze.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=sf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=sf(e);let s=kr();return i.Wt({range:r,jt:!0},(o,u,h)=>{const p=Gc(o[1]),_=new Zt(p);s=s.add(_)}).next(()=>s)}containsKey(e,t){const r=aa(t.path),i=IDBKeyRange.bound([r],[CE(r)],!1,!0);let s=0;return sf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([o,u],h,p)=>{0!==o&&(s++,p.done())}).next(()=>s>0)}Et(e,t){return Vp(e).get(t).next(r=>r?X_(r):null)}}function Vp(n){return ro(n,"targets")}function gI(n){return ro(n,"targetGlobal")}function sf(n){return ro(n,"targetDocuments")}function Hp(n){return ab.apply(this,arguments)}function ab(){return ab=(0,et.Z)(function*(n){if(n.code!==ze.FAILED_PRECONDITION||n.message!==nI)throw n;Ct("LocalStore","Unexpectedly lost primary lease")}),ab.apply(this,arguments)}function mI([n,e],[t,r]){const i=Wn(n,t);return 0===i?Wn(e,r):i}class nv{constructor(e){this.An=e,this.buffer=new zr(mI),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _I{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ct("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,et.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Fp(i)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Hp(i)}yield t.Sn(e)}))}}class vI{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ze.resolve(fl.A);const r=new nv(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(ib)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,s,o,u,h,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,o=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,u=Date.now(),this.removeTargets(e,r,t))).next(w=>(s=w,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),TE()<=Nc.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-_}ms\n\tDetermined least recently used ${i} in `+(u-o)+`ms\n\tRemoved ${s} targets in `+(h-u)+`ms\n\tRemoved ${w} documents in `+(p-h)+`ms\nTotal Duration: ${p-_}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w})))}}class yI{constructor(e,t){this.db=e,this.garbageCollector=new vI(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return rv(e,r)}removeReference(e,t,r){return rv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rv(e,t)}On(e,t){return function(r,i){let s=!1;return ob(r).zt(o=>sb(r,o,i).next(u=>(u&&(s=!0),Ze.resolve(!u)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Mn(e,(o,u)=>{if(u<=t){const h=this.On(e,o).next(p=>{if(!p)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Pn.min()),sf(e).delete([0,aa(o.path)])))});i.push(h)}}).next(()=>Ze.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rv(e,t)}Mn(e,t){const r=sf(e);let i,s=fl.A;return r.Wt({index:"documentTargetsIndex"},([o,u],{path:h,sequenceNumber:p})=>{0===o?(s!==fl.A&&t(new Zt(Gc(i)),s),s=p,i=h):s=fl.A}).next(()=>{s!==fl.A&&t(new Zt(Gc(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rv(n,e){return sf(n).put((r=n.currentSequenceNumber,{targetId:0,path:aa(e.path),sequenceNumber:r}));var r}class lb{constructor(){this.changes=new ef(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ze.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wI{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return af(e).put(r)}removeEntry(e,t,r){return af(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Q_(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=ni.newInvalidDocument(t);return af(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(iv(t))},(i,s)=>{r=this.$n(t,s)}).next(()=>r)}Bn(e,t){let r={size:0,document:ni.newInvalidDocument(t)};return af(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(iv(t))},(i,s)=>{r={document:this.$n(t,s),size:tv(s)}}).next(()=>r)}getEntries(e,t){let r=ac();return this.Ln(e,t,(i,s)=>{const o=this.$n(i,s);r=r.insert(i,o)}).next(()=>r)}Un(e,t){let r=ac(),i=new ri(Zt.comparator);return this.Ln(e,t,(s,o)=>{const u=this.$n(s,o);r=r.insert(s,u),i=i.insert(s,tv(o))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Ze.resolve();let i=new zr(EI);t.forEach(h=>i=i.add(h));const s=IDBKeyRange.bound(iv(i.first()),iv(i.last())),o=i.getIterator();let u=o.getNext();return af(e).Wt({index:"documentKeyIndex",range:s},(h,p,_)=>{const w=Zt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&EI(u,w)<0;)r(u,null),u=o.getNext();u&&u.isEqual(w)&&(r(u,p),u=o.hasNext()?o.getNext():null),u?_.Ut(iv(u)):_.done()}).next(()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Q_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return af(e).qt(IDBKeyRange.bound(i,s,!0)).next(o=>{let u=ac();for(const h of o){const p=this.$n(Zt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);u=u.insert(p.key,p)}return u})}getAllFromCollectionGroup(e,t,r,i){let s=ac();const o=xI(t,r),u=xI(t,ic.max());return af(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(h,p,_)=>{const w=this.$n(Zt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(w.key,w),s.size===i&&_.done()}).next(()=>s)}newChangeBuffer(e){return new fO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cb(e).get("remoteDocumentGlobalKey").next(t=>(Fn(!!t),t))}Fn(e,t){return cb(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function sI(n,e){let t;if(e.document)t=jA(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Zt.fromSegments(e.noDocument.path),i=Np(e.noDocument.readTime);t=ni.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gn();{const r=Zt.fromSegments(e.unknownDocument.path),i=Np(e.unknownDocument.version);t=ni.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ts(r[0],r[1]);return Pn.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Pn.min()))return r}return ni.newInvalidDocument(e)}}class fO extends lb{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ef(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new zr((s,o)=>Wn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const u=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,u.readTime)),o.isValidDocument()){const h=oI(this.Kn.M,o);i=i.add(s.path.popLast()),r+=tv(h)-u.size,t.push(this.Kn.addEntry(e,s,h))}else if(r-=u.size,this.trackRemovals){const h=oI(this.Kn.M,o.convertToNoDocument(Pn.min()));t.push(this.Kn.addEntry(e,s,h))}}),i.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,r)),Ze.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((s,o)=>{this.Gn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function cb(n){return ro(n,"remoteDocumentGlobal")}function af(n){return ro(n,"remoteDocumentsV14")}function iv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xI(n,e){const t=e.documentKey.path.toArray();return[n,Q_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function EI(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Wn(t[s],r[s]),i)return i;return i=Wn(t.length,r.length),i||(i=Wn(t[t.length-2],r[r.length-2]),i||Wn(t[t.length-1],r[r.length-1]))}class sv{constructor(e){this.M=e}kt(e,t,r,i){const s=new H1("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZA,{unique:!0}),u.createObjectStore("documentMutations"),bI(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=Ze.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),bI(e)),o=o.next(()=>function(u){const h=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pn.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,h){return h.store("mutations").qt().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZA,{unique:!0});const _=h.store("mutations"),w=p.map(E=>_.put(E));return Ze.waitFor(w)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Qn(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),r<7&&i>=7&&(o=o.next(()=>this.Wn(s))),r<8&&i>=8&&(o=o.next(()=>this.zn(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.Hn(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:nO});h.createIndex("collectionPathOverlayIndex",rO,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",iO,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:YP});h.createIndex("documentKeyIndex",KE),h.createIndex("collectionGroupIndex",QP)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>{!function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:eO}).createIndex("sequenceNumberIndex",YE,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:tO}).createIndex("documentKeyIndex",JA,{unique:!1})}(e)})),o}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=tv(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Ze.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",o).next(u=>Ze.forEach(u,h=>{Fn(h.userId===s.userId);const p=zd(this.M,h);return hO(e,s.userId,p).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Wt((o,u)=>{const h=new pr(o),p=[0,aa(h)];s.push(t.get(p).next(_=>_?Ze.resolve():t.put({targetId:0,path:aa(h),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ze.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:JP});const r=t.store("collectionParents"),i=new hI,s=o=>{if(i.add(o)){const u=o.lastSegment(),h=o.popLast();return r.put({collectionId:u,parent:aa(h)})}};return t.store("remoteDocuments").Wt({jt:!0},(o,u)=>{const h=new pr(o);return s(h.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([o,u,h],p)=>{const _=Gc(u);return s(_.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const s=X_(i),o=Rp(this.M,s);return t.put(o)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((s,o)=>{const u=t.store("remoteDocumentsV14"),h=(p=o,p.document?new Zt(pr.fromString(p.document.name).popFirst(5)):p.noDocument?Zt.fromSegments(p.noDocument.path):p.unknownDocument?Zt.fromSegments(p.unknownDocument.path):gn()).path.toArray();var p;const _={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(u.put(_))}).next(()=>Ze.waitFor(i))}}function bI(n){n.createObjectStore("targetDocuments",{keyPath:XA}).createIndex("documentTargetsIndex",XP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QA,{unique:!0}),n.createObjectStore("targetGlobal")}const ov="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lc{constructor(e,t,r,i,s,o,u,h,p,_,w=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=s,this.window=o,this.document=u,this.Xn=p,this.Zn=_,this.ts=w,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=E=>Promise.resolve(),!lc.vt())throw new wt(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yI(this,i),this.hs=t+"main",this.M=new iI(h),this.ls=new $c(this.hs,this.ts,new sv(this.M)),this.fs=new pI(this.referenceDelegate,this.M),this.ds=new wI(this.M),this._s=new aI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===_&&_s("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(ze.FAILED_PRECONDITION,ov);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new fl(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,et.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,et.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,et.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>j0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Fp(e))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return av(e).get("owner").next(t=>Ze.resolve(this.Ps(t)))}Vs(e){return j0(e).delete(this.clientId)}vs(){var e=this;return(0,et.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ro(r,"clientMetadata");return i.qt().next(s=>{const o=e.Ds(s,18e5),u=s.filter(h=>-1===o.indexOf(h));return Ze.forEach(u,h=>i.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ze.resolve(!0):av(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new wt(ze.FAILED_PRECONDITION,ov);return!1}}return!(!this.networkEnabled||!this.inForeground)||j0(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&u)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ct("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,et.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new $1(t,fl.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>j0(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return fI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new dO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return tb.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ct("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=14===(o=this.ts)?oO:13===o?tI:12===o?sO:11===o?eI:void gn();var o;let u;return this.ls.runTransaction(e,i,s,h=>(u=new $1(h,this.es?this.es.next():fl.A),"readwrite-primary"===t?this.Es(u).next(p=>!!p||this.As(u)).next(p=>{if(!p)throw _s(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new wt(ze.FAILED_PRECONDITION,nI);return r(u)}).next(p=>this.bs(u).next(()=>p)):this.$s(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}$s(e){return av(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(ze.FAILED_PRECONDITION,ov)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return av(e).put("owner",t)}static vt(){return $c.vt()}Rs(e){const t=av(e);return t.get("owner").next(r=>this.Ps(r)?(Ct("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ze.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(_s(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Z.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ct("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _s("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){_s("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function av(n){return ro(n,"owner")}function j0(n){return ro(n,"clientMetadata")}function jp(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Zt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):I1(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Zt(t)).next(r=>{let i=k0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=k0();return this.indexManager.getCollectionParents(e,i).next(o=>Ze.forEach(o,u=>{const h=(p=t,_=u.child(i),new $d(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,_;return this.zs(e,h,r).next(p=>{p.forEach((_,w)=>{s=s.insert(_,w)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const o of s)for(const u of o.mutations){const h=u.key;let p=i.get(h);null==p&&(p=ni.newInvalidDocument(h),i=i.insert(h,p)),P1(u,p,o.localWriteTime),p.isFoundDocument()||(i=i.remove(h))}}).next(()=>(i.forEach((s,o)=>{jE(t,o)||(i=i.remove(s))}),i))}}class ub{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=kr(),i=kr();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ub(e,t.fromCache,r,i)}}class TI{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(s=>s||this.ei(e,t,i,r)).next(s=>s||this.ni(e,t))}ti(e,t){return Ze.resolve(null)}ei(e,t,r,i){return function UE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Pn.min())?this.ni(e,t):this.Zs.Ks(e,r).next(s=>{const o=this.si(t,s);return this.ii(t,o,r,i)?this.ni(e,t):(TE()<=Nc.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),D1(t)),this.ri(e,o,t,FE(i,-1)))})}si(e,t){let r=new zr(vA(e));return t.forEach((i,s)=>{jE(e,s)&&(r=r.add(s))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,t){return TE()<=Nc.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",D1(t)),this.Zs.Qs(e,t,ic.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Z1{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new ri(Wn),this.ai=new ef(s=>jd(s),F_),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new pO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function lv(n,e,t,r){return new Z1(n,e,t,r)}function CI(n,e){return db.apply(this,arguments)}function db(){return db=(0,et.Z)(function*(n,e){const t=tn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.li(e),t.Bs.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let h=kr();for(const p of i){o.push(p.batchId);for(const _ of p.mutations)h=h.add(_.key)}for(const p of s){u.push(p.batchId);for(const _ of p.mutations)h=h.add(_.key)}return t.fi.Ks(r,h).next(p=>({di:p,removedBatchIds:o,addedBatchIds:u}))})})}),db.apply(this,arguments)}function SI(n,e){const t=tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(o,u,h,p){const _=h.batch,w=_.keys();let E=Ze.resolve();return w.forEach(C=>{E=E.next(()=>p.getEntry(u,C)).next(I=>{const D=h.docVersions.get(C);Fn(null!==D),I.version.compareTo(D)<0&&(_.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),p.addEntry(I)))})}),E.next(()=>o.Bs.removeMutationBatch(u,_))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function hb(n){const e=tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function fb(n,e){const t=tn(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const u=[];e.targetChanges.forEach((p,_)=>{const w=i.get(_);if(!w)return;u.push(t.fs.removeMatchingKeys(s,p.removedDocuments,_).next(()=>t.fs.addMatchingKeys(s,p.addedDocuments,_)));let E=w.withSequenceNumber(s.currentSequenceNumber);var C,I,D;e.targetMismatches.has(_)?E=E.withResumeToken(ns.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(_,E),I=E,D=p,(0===(C=w).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&u.push(t.fs.updateTargetData(s,E))});let h=ac();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(pb(s,o,e.documentUpdates).next(p=>{h=p})),!r.isEqual(Pn.min())){const p=t.fs.getLastRemoteSnapshotVersion(s).next(_=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return Ze.waitFor(u).next(()=>o.apply(s)).next(()=>t.fi.Gs(s,h)).next(()=>h)}).then(s=>(t.ui=i,s))}function pb(n,e,t){let r=kr();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=ac();return t.forEach((o,u)=>{const h=i.get(o);u.isNoDocument()&&u.version.isEqual(Pn.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||0===u.version.compareTo(h.version)&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):Ct("LocalStore","Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),s})}function gO(n,e){const t=tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function G0(n,e){const t=tn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,Ze.resolve(i)):t.fs.allocateTargetId(r).next(o=>(i=new qd(e,o,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function cv(n,e,t){return uv.apply(this,arguments)}function uv(){return uv=(0,et.Z)(function*(n,e,t){const r=tn(n),i=r.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fp(o))throw o;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),uv.apply(this,arguments)}function $0(n,e,t){const r=tn(n);let i=Pn.min(),s=kr();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,h,p){const _=tn(u),w=_.ai.get(p);return void 0!==w?Ze.resolve(_.ui.get(w)):_.fs.getTargetData(h,p)}(r,o,gl(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,u.targetId).next(h=>{s=h})}).next(()=>r.oi.Qs(o,e,t?i:Pn.min(),t?s:kr())).next(u=>(Y1(r,_A(e),u),{documents:u,_i:s})))}function gb(n,e){const t=tn(n),r=tn(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(o=>o?o.target:null))}function K1(n,e){const t=tn(n),r=t.ci.get(e)||Pn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,FE(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Y1(t,e,i),i))}function Y1(n,e,t){let r=Pn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ci.set(e,r)}function mb(){return mb=(0,et.Z)(function*(n,e,t,r){const i=tn(n);let s=kr(),o=ac();for(const p of t){const _=e.wi(p.metadata.name);p.document&&(s=s.add(_));const w=e.mi(p);w.setReadTime(e.gi(p.metadata.readTime)),o=o.insert(_,w)}const u=i.hi.newChangeBuffer({trackRemovals:!0}),h=yield G0(i,(p=r,gl(Ap(pr.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",p=>pb(p,u,o).next(_=>(u.apply(p),_)).next(_=>i.fs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>i.fs.addMatchingKeys(p,s,h.targetId)).next(()=>i.fi.Gs(p,_)).next(()=>_)))}),mb.apply(this,arguments)}function _O(n,e){return _b.apply(this,arguments)}function _b(){return _b=(0,et.Z)(function*(n,e,t=kr()){const r=yield G0(n,gl(Lp(e.bundledQuery))),i=tn(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ji(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i._s.saveNamedQuery(s,e);const u=r.withResumeToken(ns.EMPTY_BYTE_STRING,o);return i.ui=i.ui.insert(u.targetId,u),i.fs.updateTargetData(s,u).next(()=>i.fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.fs.addMatchingKeys(s,t,r.targetId)).next(()=>i._s.saveNamedQuery(s,e))})}),_b.apply(this,arguments)}class AI{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Ze.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:ji(r.createTime)}),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Lp(r.bundledQuery),readTime:ji(r.readTime)}),Ze.resolve();var r}}class vb{constructor(){this.overlays=new ri(Zt.comparator),this.Ii=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),Ze.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),Ze.resolve()}getOverlaysForCollection(e,t,r){const i=ii(),s=t.length+1,o=new Zt(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ze.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ri((p,_)=>p-_);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=s.get(p.largestBatchId);null===_&&(_=ii(),s=s.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const u=ii(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,_)=>u.set(p,_)),!(u.size()>=i)););return Ze.resolve(u)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JE(t,r));let s=this.Ii.get(t);void 0===s&&(s=kr(),this.Ii.set(t,s)),this.Ii.set(t,s.add(r.key))}}class Q1{constructor(){this.Ti=new zr(Ls.Ei),this.Ai=new zr(Ls.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ls(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ls(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Zt(new pr([])),r=new Ls(t,e),i=new Ls(t,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Zt(new pr([])),r=new Ls(t,e),i=new Ls(t,e+1);let s=kr();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ls(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ls{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Zt.comparator(e.key,t.key)||Wn(e.Ci,t.Ci)}static Ri(e,t){return Wn(e.Ci,t.Ci)||Zt.comparator(e.key,t.key)}}class II{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new zr(Ls.Ei)}checkEmpty(e){return Ze.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.xi;this.xi++;const o=new XE(s,t,r,i);this.Bs.push(o);for(const u of i)this.Ni=this.Ni.add(new Ls(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ze.resolve(o)}lookupMutationBatch(e,t){return Ze.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),s=i<0?0:i;return Ze.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Ze.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ls(t,0),i=new Ls(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const u=this.ki(o.Ci);s.push(u)}),Ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zr(Wn);return t.forEach(i=>{const s=new Ls(i,0),o=new Ls(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],u=>{r=r.add(u.Ci)})}),Ze.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Zt.isDocumentKey(s)||(s=s.child(""));const o=new Ls(new Zt(s),0);let u=new zr(Wn);return this.Ni.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.Ci)),!0)},o),Ze.resolve(this.Oi(u))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Fn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Ze.forEach(t.mutations,i=>{const s=new Ls(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ls(t,0),i=this.Ni.firstAfterOrEqual(r);return Ze.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ze.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class DI{constructor(e){this.$i=e,this.docs=new ri(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ze.resolve(r?r.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let r=ac();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ni.newInvalidDocument(i))}),Ze.resolve(r)}getAllFromCollection(e,t,r){let i=ac();const s=new Zt(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:u,value:{document:h}}=o.getNext();if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||NE(MP(h),r)<=0||(i=i.insert(h.key,h.mutableCopy()))}return Ze.resolve(i)}getAllFromCollectionGroup(e,t,r,i){gn()}Bi(e,t){return Ze.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vO(this)}getSize(e){return Ze.resolve(this.size)}}class vO extends lb{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Ze.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class kI{constructor(e){this.persistence=e,this.Li=new ef(t=>jd(t),F_),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Q1,this.targetCount=0,this.Ki=rf.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Ze.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new rf(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.Tn(t),Ze.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Li.forEach((o,u)=>{u.sequenceNumber<=t&&null===r.get(u.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Ze.waitFor(s).next(()=>i)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Ze.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Ze.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ze.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Ze.resolve(r)}containsKey(e,t){return Ze.resolve(this.qi.containsKey(t))}}class PI{constructor(e,t){this.Gi={},this.overlays={},this.es=new fl(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new kI(this),this.indexManager=new uO,this.ds=new DI(r=>this.referenceDelegate.Qi(r)),this.M=new iI(t),this._s=new AI(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new II(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ct("MemoryPersistence","Starting transaction:",e);const i=new yO(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,t){return Ze.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class yO extends QE{constructor(e){super(),this.currentSequenceNumber=e}}class X1{constructor(e){this.persistence=e,this.Hi=new Q1,this.Ji=null}static Yi(e){return new X1(e)}get Xi(){if(this.Ji)return this.Ji;throw gn()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Ze.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.Xi,r=>{const i=Zt.fromPath(r);return this.Zi(e,i).next(s=>{s||t.removeEntry(i,Pn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Ze.or([()=>Ze.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function yb(n,e){return`firestore_clients_${n}_${e}`}function Vo(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function lf(n,e){return`firestore_targets_${n}_${e}`}class J1{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new wt(i.error.code,i.error.message))),o?new J1(e,t,i.state,s):(_s("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new wt(r.error.code,r.error.message))),s?new dv(e,r.state,i):(_s("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=j_();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=IE(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new wb(e,s):(_s("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gp{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gp(t.clientId,t.onlineState):(_s("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xb{constructor(){this.activeTargetIds=j_()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hv{constructor(e,t,r,i,s){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ri(Wn),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=yb(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new xb),this.dr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,et.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const s=e.getItem(yb(e.persistenceKey,i));if(s){const o=wb.tr(i,s);o&&(e.ar=e.ar.insert(o.clientId,o))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(lf(this.persistenceKey,e));if(r){const i=dv.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lf(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ct("SharedClientState","READ",e,t),t}setItem(e,t){Ct("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ct("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void _s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,et.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(s){let o=fl.A;if(null!=s)try{const u=JSON.parse(s);Fn("number"==typeof u),o=u}catch(u){_s("SharedClientState","Failed to read sequence number from WebStorage",u)}return o}(r.newValue);i!==fl.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new J1(this.currentUser,e,t,r),s=Vo(this.persistenceKey,this.currentUser,e);this.setItem(s,i.er())}Ar(e){const t=Vo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=lf(this.persistenceKey,e),s=new dv(e,t,r);this.setItem(i,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return wb.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return J1.tr(new to(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return dv.tr(i,t)}pr(e){return Gp.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,et.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),s=this.Tr(r),o=[],u=[];return s.forEach(h=>{i.has(h)||o.push(h)}),i.forEach(h=>{s.has(h)||u.push(h)}),this.syncEngine.Lr(o,u).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=j_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class OI{constructor(){this.Ur=new xb,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new xb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MI{Kr(e){}shutdown(){}}class FI{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Eb{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class NI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const o=this.ho(e,t);Ct("RestConnection","Sending: ",o,r);const u={};return this.lo(u,i,s),this.fo(e,o,u,r).then(h=>(Ct("RestConnection","Received: ",h),h),h=>{throw wp("RestConnection",`${e} failed with error: `,h,"url: ",o,"request:",r),h})}_o(e,t,r,i,s){return this.co(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.uo}/v1/${t}:${wO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const u=new bP;u.listenOnce(EP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case x1.NO_ERROR:const p=u.getResponseJson();Ct("Connection","XHR received:",JSON.stringify(p)),s(p);break;case x1.TIMEOUT:Ct("Connection",'RPC "'+e+'" timed out'),o(new wt(ze.DEADLINE_EXCEEDED,"Request time out"));break;case x1.HTTP_ERROR:const _=u.getStatus();if(Ct("Connection",'RPC "'+e+'" failed with status:',_,"response text:",u.getResponseText()),_>0){const w=u.getResponseJson().error;if(w&&w.status&&w.message){const E=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(I)>=0?I:ze.UNKNOWN}(w.status);o(new wt(E,w.message))}else o(new wt(ze.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new wt(ze.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{Ct("Connection",'RPC "'+e+'" completed.')}});const h=JSON.stringify(i);u.send(t,"POST",h,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XS(),o=JS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new nA({})),this.lo(u.initMessageHeaders,t,r),(0,Z.uI)()||(0,Z.b$)()||(0,Z.d)()||(0,Z.w1)()||(0,Z.Mn)()||(0,Z.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const h=i.join("");Ct("Connection","Creating WebChannel: "+h,u);const p=s.createWebChannel(h,u);let _=!1,w=!1;const E=new Eb({Jr:I=>{w?Ct("Connection","Not sending because WebChannel is closed:",I):(_||(Ct("Connection","Opening WebChannel transport."),p.open(),_=!0),Ct("Connection","WebChannel sending:",I),p.send(I))},Yr:()=>p.close()}),C=(I,D,M)=>{I.listen(D,j=>{try{M(j)}catch(z){setTimeout(()=>{throw z},0)}})};return C(p,A_.EventType.OPEN,()=>{w||Ct("Connection","WebChannel transport opened.")}),C(p,A_.EventType.CLOSE,()=>{w||(w=!0,Ct("Connection","WebChannel transport closed"),E.ro())}),C(p,A_.EventType.ERROR,I=>{w||(w=!0,wp("Connection","WebChannel transport errored:",I),E.ro(new wt(ze.UNAVAILABLE,"The operation could not be completed")))}),C(p,A_.EventType.MESSAGE,I=>{var D;if(!w){const M=I.data[0];Fn(!!M);const j=M,z=j.error||(null===(D=j[0])||void 0===D?void 0:D.error);if(z){Ct("Connection","WebChannel received error:",z);const V=z.status;let oe=function(Ie){const re=Rs[Ie];if(void 0!==re)return OA(re)}(V),be=z.message;void 0===oe&&(oe=ze.INTERNAL,be="Unknown error status: "+V+" with message "+z.message),w=!0,E.ro(new wt(oe,be)),p.close()}else Ct("Connection","WebChannel received:",M),E.oo(M)}}),C(o,eA.STAT_EVENT,I=>{I.stat===tA.PROXY?Ct("Connection","Detected buffering proxy"):I.stat===tA.NOPROXY&&Ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{E.io()},0),E}}function bb(){return"undefined"!=typeof window?window:null}function $p(){return"undefined"!=typeof document?document:null}function Wp(n){return new UA(n,!0)}class RI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ct("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Tb{constructor(e,t,r,i,s,o,u,h){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new RI(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,et.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,et.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,et.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(_s(t.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ze.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new wt(ze.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,et.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xO extends Tb{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function BL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(h=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:gn(),i=e.targetChange.targetIds||[],s=function(h,p){return h.N?(Fn(void 0===p||"string"==typeof p),ns.fromBase64String(p||"")):(Fn(void 0===p||p instanceof Uint8Array),ns.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const p=void 0===h.code?ze.UNKNOWN:OA(h.code);return new wt(p,h.message||"")}(o);t=new NA(r,i,s,u||null)}else if("documentChange"in e){const r=e.documentChange,i=Uu(n,r.document.name),s=ji(r.document.updateTime),o=new Uo({mapValue:{fields:r.document.fields}}),u=ni.newFoundDocument(i,s,o);t=new G_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Uu(n,r.document),s=r.readTime?ji(r.readTime):Pn.min(),o=ni.newNoDocument(i,s);t=new G_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Uu(n,r.document);t=new G_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gn();{const r=e.filter,s=new kA(r.count||0);t=new FA(r.targetId,s)}}var h;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Pn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Pn.min():s.readTime?ji(s.readTime):Pn.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=F0(this.M),t.addTarget=function(i,s){let o;const u=s.target;return o=N_(u)?{documents:zE(i,u)}:{query:q_(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=$E(i,s.resumeToken):s.snapshotVersion.compareTo(Pn.min())>0&&(o.readTime=M0(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function qP(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=F0(this.M),t.removeTarget=e,this.Lo(t)}}class LI extends Tb{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function UL(n,e){return n&&n.length>0?(Fn(void 0!==e),n.map(t=>function(r,i){let s=ji(r.updateTime?r.updateTime:i);return s.isEqual(Pn.min())&&(s=ji(i)),new AA(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.tu(r,t)}return Fn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=F0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>V1(this.M,r))};this.Lo(t)}}class ew extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new wt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new wt(ze.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new wt(ze.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class BI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(_s(t),this.uu=!1):Ct("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class EO{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(u=>{r.enqueueAndForget((0,et.Z)(function*(){var h;cf(o)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,et.Z)(function*(p){const _=tn(p);_.wu.add(4),yield pv(_),_.yu.set("Unknown"),_.wu.delete(4),yield qp(_)}),function(p){return h.apply(this,arguments)})(o))}))}),this.yu=new BI(r,i)}}function qp(n){return fv.apply(this,arguments)}function fv(){return fv=(0,et.Z)(function*(n){if(cf(n))for(const e of n.mu)yield e(!0)}),fv.apply(this,arguments)}function pv(n){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,et.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Cb.apply(this,arguments)}function tw(n,e){const t=tn(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),iw(t)?rw(t):z0(t).Mo()&&nw(t,e))}function W0(n,e){const t=tn(n),r=z0(t);t._u.delete(e),r.Mo()&&UI(t,e),0===t._u.size&&(r.Mo()?r.$o():cf(t)&&t.yu.set("Unknown"))}function nw(n,e){n.pu.Z(e.targetId),z0(n).Ho(e)}function UI(n,e){n.pu.Z(e),z0(n).Jo(e)}function rw(n){n.pu=new $_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),z0(n).start(),n.yu.au()}function iw(n){return cf(n)&&!z0(n).ko()&&n._u.size>0}function cf(n){return 0===tn(n).wu.size}function VI(n){n.pu=void 0}function HI(n){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,et.Z)(function*(n){n._u.forEach((e,t)=>{nw(n,e)})}),Sb.apply(this,arguments)}function jI(n,e){return sw.apply(this,arguments)}function sw(){return sw=(0,et.Z)(function*(n,e){VI(n),iw(n)?(n.yu.lu(e),rw(n)):n.yu.set("Unknown")}),sw.apply(this,arguments)}function GI(n,e,t){return ow.apply(this,arguments)}function ow(){return ow=(0,et.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof NA&&2===e.state&&e.cause)try{yield(r=(0,et.Z)(function*(i,s){const o=s.cause;for(const u of s.targetIds)i._u.has(u)&&(yield i.remoteSyncer.rejectListen(u,o),i._u.delete(u),i.pu.removeTarget(u))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield aw(n,r)}else if(e instanceof G_?n.pu.ut(e):e instanceof FA?n.pu._t(e):n.pu.ht(e),!t.isEqual(Pn.min()))try{const r=yield hb(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i._u.get(h);p&&i._u.set(h,p.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach(u=>{const h=i._u.get(u);if(!h)return;i._u.set(u,h.withResumeToken(ns.EMPTY_BYTE_STRING,h.snapshotVersion)),UI(i,u);const p=new qd(h.target,u,1,h.sequenceNumber);nw(i,p)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){Ct("RemoteStore","Failed to raise snapshot:",r),yield aw(n,r)}var r}),ow.apply(this,arguments)}function aw(n,e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,et.Z)(function*(n,e,t){if(!Fp(e))throw e;n.wu.add(1),yield pv(n),n.yu.set("Offline"),t||(t=()=>hb(n.localStore)),n.asyncQueue.enqueueRetryable((0,et.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield qp(n)}))}),Ab.apply(this,arguments)}function bO(n,e){return e().catch(t=>aw(n,t,e))}function zp(n){return $I.apply(this,arguments)}function $I(){return $I=(0,et.Z)(function*(n){const e=tn(n),t=Kd(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;VL(e);)try{const i=yield gO(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,HL(e,i)}catch(i){yield aw(e,i)}TO(e)&&CO(e)}),$I.apply(this,arguments)}function VL(n){return cf(n)&&n.du.length<10}function HL(n,e){n.du.push(e);const t=Kd(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function TO(n){return cf(n)&&!Kd(n).ko()&&n.du.length>0}function CO(n){Kd(n).start()}function jL(n){return WI.apply(this,arguments)}function WI(){return WI=(0,et.Z)(function*(n){Kd(n).nu()}),WI.apply(this,arguments)}function GL(n){return q0.apply(this,arguments)}function q0(){return q0=(0,et.Z)(function*(n){const e=Kd(n);for(const t of n.du)e.Zo(t.mutations)}),q0.apply(this,arguments)}function $L(n,e,t){return lw.apply(this,arguments)}function lw(){return lw=(0,et.Z)(function*(n,e,t){const r=n.du.shift(),i=Y_.from(r,e,t);yield bO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zp(n)}),lw.apply(this,arguments)}function Ib(n,e){return cw.apply(this,arguments)}function cw(){return cw=(0,et.Z)(function*(n,e){var t;e&&Kd(n).Xo&&(yield(t=(0,et.Z)(function*(r,i){if(PA(s=i.code)&&s!==ze.ABORTED){const o=r.du.shift();Kd(r).Fo(),yield bO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield zp(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),TO(n)&&CO(n)}),cw.apply(this,arguments)}function Db(n,e){return qI.apply(this,arguments)}function qI(){return qI=(0,et.Z)(function*(n,e){const t=tn(n);t.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const r=cf(t);t.wu.add(3),yield pv(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield qp(t)}),qI.apply(this,arguments)}function gv(n,e){return uw.apply(this,arguments)}function uw(){return uw=(0,et.Z)(function*(n,e){const t=tn(n);e?(t.wu.delete(2),yield qp(t)):e||(t.wu.add(2),yield pv(t),t.yu.set("Unknown"))}),uw.apply(this,arguments)}function z0(n){return n.Iu||(n.Iu=function(e,t,r){const i=tn(e);return i.iu(),new xO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:HI.bind(null,n),eo:jI.bind(null,n),zo:GI.bind(null,n)}),n.mu.push(function(){var e=(0,et.Z)(function*(t){t?(n.Iu.Fo(),iw(n)?rw(n):n.yu.set("Unknown")):(yield n.Iu.stop(),VI(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Kd(n){return n.Tu||(n.Tu=function(e,t,r){const i=tn(e);return i.iu(),new LI(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:jL.bind(null,n),eo:Ib.bind(null,n),eu:GL.bind(null,n),tu:$L.bind(null,n)}),n.mu.push(function(){var e=(0,et.Z)(function*(t){t?(n.Tu.Fo(),yield zp(n)):(yield n.Tu.stop(),n.du.length>0&&(Ct("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class zI{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,u=new zI(e,t,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(n,e){if(_s("AsyncQueue",`${e}: ${n}`),Fp(n))return new wt(ze.UNAVAILABLE,`${e}: ${n}`);throw n}class K0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Zt.comparator(t.key,r.key):(t,r)=>Zt.comparator(t.key,r.key),this.keyedMap=k0(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new K0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof K0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new K0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dw{constructor(){this.Eu=new ri(Zt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):gn():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Y0{constructor(e,t,r,i,s,o,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Y0(e,t,K0.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&S0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class WL{constructor(){this.Ru=void 0,this.listeners=[]}}class qL{constructor(){this.queries=new ef(e=>HE(e),S0),this.onlineState="Unknown",this.bu=new Set}}function ZI(n,e){return kb.apply(this,arguments)}function kb(){return kb=(0,et.Z)(function*(n,e){const t=tn(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new WL),i)try{s.Ru=yield t.onListen(r)}catch(o){const u=Z0(o,`Initialization of query '${D1(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&mv(t)}),kb.apply(this,arguments)}function Pb(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,et.Z)(function*(n,e){const t=tn(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ob.apply(this,arguments)}function zL(n,e){const t=tn(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const u of o.listeners)u.Vu(i)&&(r=!0);o.Ru=i}}r&&mv(t)}function SO(n,e,t){const r=tn(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function mv(n){n.bu.forEach(e=>{e.next()})}class Mb{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Y0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Y0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Wc{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class KI{constructor(e){this.M=e}wi(e){return Uu(this.M,e)}mi(e){return e.metadata.exists?jA(this.M,e.document,!1):ni.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ji(e)}}class Fb{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YI(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=pr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new KI(this.M);for(const i of e)if(i.metadata.queries){const s=r.wi(i.metadata.name);for(const o of i.metadata.queries){const u=(t.get(o)||kr()).add(s);t.set(o,u)}}return t}complete(){var e=this;return(0,et.Z)(function*(){const t=yield function mO(n,e,t,r){return mb.apply(this,arguments)}(e.localStore,new KI(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield _O(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function YI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QI{constructor(e){this.key=e}}class hw{constructor(e){this.key=e}}class Nb{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=kr(),this.mutatedKeys=kr(),this.Gu=vA(e),this.Qu=new K0(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new dw,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1;const h="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,p="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((_,w)=>{const E=i.get(_),C=jE(this.query,w)?w:null,I=!!E&&this.mutatedKeys.has(E.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;E&&C?E.data.isEqual(C.data)?I!==D&&(r.track({type:3,doc:C}),M=!0):this.Hu(E,C)||(r.track({type:2,doc:C}),M=!0,(h&&this.Gu(C,h)>0||p&&this.Gu(C,p)<0)&&(u=!0)):!E&&C?(r.track({type:0,doc:C}),M=!0):E&&!C&&(r.track({type:1,doc:E}),M=!0,(h||p)&&(u=!0)),M&&(C?(o=o.add(C),s=D?s.add(_):s.delete(_)):(o=o.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const _="F"===this.query.limitType?o.last():o.first();o=o.delete(_.key),s=s.delete(_.key),r.track({type:1,doc:_})}return{Qu:o,zu:r,ii:u,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((p,_)=>function(w,E){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return C(w)-C(E)}(p.type,_.type)||this.Gu(p.doc,_.doc)),this.Ju(r);const o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,h=u!==this.qu;return this.qu=u,0!==s.length||h?{snapshot:new Y0(this.query,e.Qu,i,s,e.mutatedKeys,0===u,h,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dw,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=kr(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new hw(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new QI(r))}),t}ta(e){this.Uu=e._i,this.Ku=kr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Y0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class XI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class AO{constructor(e){this.key=e,this.na=!1}}class JI{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new ef(u=>HE(u),S0),this.ra=new Map,this.oa=new Set,this.ua=new ri(Zt.comparator),this.aa=new Map,this.ca=new Q1,this.ha={},this.la=new Map,this.fa=rf.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function IO(n,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,et.Z)(function*(n,e){const t=wv(n);let r,i;const s=t.ia.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield G0(t.localStore,gl(e));t.isPrimaryClient&&tw(t.remoteStore,o);const u=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Lb(t,e,r,"current"===u)}return i}),Rb.apply(this,arguments)}function Lb(n,e,t,r){return _v.apply(this,arguments)}function _v(){return _v=(0,et.Z)(function*(n,e,t,r){n._a=(_,w,E)=>{return(C=(0,et.Z)(function*(I,D,M,j){let z=D.view.Wu(M);z.ii&&(z=yield $0(I.localStore,D.query,!1).then(({documents:be})=>D.view.Wu(be,z)));const V=j&&j.targetChanges.get(D.targetId),oe=D.view.applyChanges(z,I.isPrimaryClient,V);return _w(I,D.targetId,oe.Xu),oe.snapshot}),function(I,D,M,j){return C.apply(this,arguments)})(n,_,w,E);var C};const i=yield $0(n.localStore,e,!0),s=new Nb(e,i._i),o=s.Wu(i.documents),u=O0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),h=s.applyChanges(o,n.isPrimaryClient,u);_w(n,t,h.Xu);const p=new XI(e,t,s);return n.ia.set(e,p),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),h.snapshot}),_v.apply(this,arguments)}function Zp(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,et.Z)(function*(n,e){const t=tn(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(s=>!S0(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),W0(t.remoteStore,r.targetId),uf(t,r.targetId)}).catch(Hp))):(uf(t,r.targetId),yield cv(t.localStore,r.targetId,!0))}),fw.apply(this,arguments)}function Bb(){return Bb=(0,et.Z)(function*(n,e,t){const r=xv(n);try{const i=yield function(s,o){const u=tn(s),h=ts.now(),p=o.reduce((w,E)=>w.add(E.key),kr());let _;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>u.fi.Ks(w,p).next(E=>{_=E;const C=[];for(const I of o){const D=DA(I,_.get(I.key));null!=D&&C.push(new Pp(I.key,D,hA(D.value.mapValue),is.exists(!0)))}return u.Bs.addMutationBatch(w,h,C,o)})).then(w=>(w.applyToLocalDocumentSet(_),{batchId:w.batchId,changes:_}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let h=s.ha[s.currentUser.toKey()];h||(h=new ri(Wn)),h=h.insert(o,u),s.ha[s.currentUser.toKey()]=h}(r,i.batchId,t),yield Hu(r,i.changes),yield zp(r.remoteStore)}catch(i){const s=Z0(i,"Failed to persist write");t.reject(s)}}),Bb.apply(this,arguments)}function DO(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,et.Z)(function*(n,e){const t=tn(n);try{const r=yield fb(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.aa.get(s);o&&(Fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?Fn(o.na):i.removedDocuments.size>0&&(Fn(o.na),o.na=!1))}),yield Hu(t,r,e)}catch(r){yield Hp(r)}}),Ub.apply(this,arguments)}function tD(n,e,t){const r=tn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((s,o)=>{const u=o.view.Pu(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=tn(s);u.onlineState=o;let h=!1;u.queries.forEach((p,_)=>{for(const w of _.listeners)w.Pu(o)&&(h=!0)}),h&&mv(u)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kO(n,e,t){return pw.apply(this,arguments)}function pw(){return pw=(0,et.Z)(function*(n,e,t){const r=tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new ri(Zt.comparator);o=o.insert(s,ni.newNoDocument(s,Pn.min()));const u=kr().add(s),h=new P0(Pn.min(),new Map,new zr(Wn),o,u);yield DO(r,h),r.ua=r.ua.remove(s),r.aa.delete(e),vw(r)}else yield cv(r.localStore,e,!1).then(()=>uf(r,e,t)).catch(Hp)}),pw.apply(this,arguments)}function PO(n,e){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,et.Z)(function*(n,e){const t=tn(n),r=e.batch.batchId;try{const i=yield SI(t.localStore,e);gw(t,r,null),jb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hu(t,i)}catch(i){yield Hp(i)}}),Vb.apply(this,arguments)}function ZL(n,e,t){return vv.apply(this,arguments)}function vv(){return vv=(0,et.Z)(function*(n,e,t){const r=tn(n);try{const i=yield function(s,o){const u=tn(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.Bs.lookupMutationBatch(h,o).next(_=>(Fn(null!==_),p=_.keys(),u.Bs.removeMutationBatch(h,_))).next(()=>u.Bs.performConsistencyCheck(h)).next(()=>u.fi.Ks(h,p))})}(r.localStore,e);gw(r,e,t),jb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hu(r,i)}catch(i){yield Hp(i)}}),vv.apply(this,arguments)}function Hb(){return Hb=(0,et.Z)(function*(n,e){const t=tn(n);cf(t.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=tn(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>o.Bs.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=Z0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Hb.apply(this,arguments)}function jb(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function gw(n,e,t){const r=tn(n);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function uf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||mw(n,r)})}function mw(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(W0(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),vw(n))}function _w(n,e,t){for(const r of t)r instanceof QI?(n.ca.addReference(r.key,e),OO(n,r)):r instanceof hw?(Ct("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||mw(n,r.key)):gn()}function OO(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Ct("SyncEngine","New document in limbo: "+t),n.oa.add(r),vw(n))}function vw(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Zt(pr.fromString(e)),r=n.fa.next();n.aa.set(r,new AO(t)),n.ua=n.ua.insert(t,r),tw(n.remoteStore,new qd(gl(Ap(t.path)),r,2,fl.A))}}function Hu(n,e,t){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,et.Z)(function*(n,e,t){const r=tn(n),i=[],s=[],o=[];var u;r.ia.isEmpty()||(r.ia.forEach((u,h)=>{o.push(r._a(h,e,t).then(p=>{if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);const _=ub.Ys(h.targetId,p);s.push(_)}}))}),yield Promise.all(o),r.sa.zo(i),yield(u=(0,et.Z)(function*(h,p){const _=tn(h);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Ze.forEach(p,E=>Ze.forEach(E.Hs,C=>_.persistence.referenceDelegate.addReference(w,E.targetId,C)).next(()=>Ze.forEach(E.Js,C=>_.persistence.referenceDelegate.removeReference(w,E.targetId,C)))))}catch(w){if(!Fp(w))throw w;Ct("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const C=_.ui.get(E),D=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);_.ui=_.ui.insert(E,D)}}}),function(h,p){return u.apply(this,arguments)})(r.localStore,s))}),Gb.apply(this,arguments)}function MO(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,et.Z)(function*(n,e){const t=tn(n);if(!t.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const r=yield CI(t.localStore,e);t.currentUser=e,(i=t).la.forEach(o=>{o.forEach(u=>{u.reject(new wt(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hu(t,r.di)}var i}),rD.apply(this,arguments)}function KL(n,e){const t=tn(n),r=t.aa.get(e);if(r&&r.na)return kr().add(r.key);{let i=kr();const s=t.ra.get(e);if(!s)return i;for(const o of s){const u=t.ia.get(o);i=i.unionWith(u.view.ju)}return i}}function iD(n,e){return $b.apply(this,arguments)}function $b(){return $b=(0,et.Z)(function*(n,e){const t=tn(n),r=yield $0(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&_w(t,e.targetId,i.Xu),i}),$b.apply(this,arguments)}function FO(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,et.Z)(function*(n,e){const t=tn(n);return K1(t.localStore,e).then(r=>Hu(t,r))}),Wb.apply(this,arguments)}function YL(n,e,t,r){return sD.apply(this,arguments)}function sD(){return sD=(0,et.Z)(function*(n,e,t,r){const i=tn(n),s=yield function(o,u){const h=tn(o),p=tn(h.Bs);return h.persistence.runTransaction("Lookup mutation documents","readonly",_=>p.fn(_,u).next(w=>w?h.fi.Ks(_,w):Ze.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===t?yield zp(i.remoteStore):"acknowledged"===t||"rejected"===t?(gw(i,e,r||null),jb(i,e),u=e,tn(tn(i.localStore).Bs)._n(u)):gn(),yield Hu(i,s)):Ct("SyncEngine","Cannot apply mutation batch with id: "+e)}),sD.apply(this,arguments)}function oD(){return oD=(0,et.Z)(function*(n,e){const t=tn(n);if(wv(t),xv(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield NO(t,r.toArray());t.da=!0,yield gv(t.remoteStore,!0);for(const s of i)tw(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(uf(t,o),cv(t.localStore,o,!0))),W0(t.remoteStore,o)}),yield i,yield NO(t,r),function(s){const o=tn(s);o.aa.forEach((u,h)=>{W0(o.remoteStore,h)}),o.ca.Si(),o.aa=new Map,o.ua=new ri(Zt.comparator)}(t),t.da=!1,yield gv(t.remoteStore,!1)}}),oD.apply(this,arguments)}function NO(n,e,t){return qb.apply(this,arguments)}function qb(){return qb=(0,et.Z)(function*(n,e,t){const r=tn(n),i=[],s=[];for(const o of e){let u;const h=r.ra.get(o);if(h&&0!==h.length){u=yield G0(r.localStore,gl(h[0]));for(const p of h){const _=r.ia.get(p),w=yield iD(r,_);w.snapshot&&s.push(w.snapshot)}}else{const p=yield gb(r.localStore,o);u=yield G0(r.localStore,p),yield Lb(r,yv(p),o,!1)}i.push(u)}return r.sa.zo(s),i}),qb.apply(this,arguments)}function yv(n){return BE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RO(n){const e=tn(n);return tn(tn(e.localStore).persistence).Fs()}function LO(n,e,t,r){return yw.apply(this,arguments)}function yw(){return yw=(0,et.Z)(function*(n,e,t,r){const i=tn(n);if(i.da)return void Ct("SyncEngine","Ignoring unexpected query state notification.");const s=i.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield K1(i.localStore,_A(s[0])),u=P0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Hu(i,o,u);break}case"rejected":yield cv(i.localStore,e,!0),uf(i,e,r);break;default:gn()}}),yw.apply(this,arguments)}function Kp(n,e,t){return ww.apply(this,arguments)}function ww(){return ww=(0,et.Z)(function*(n,e,t){const r=wv(n);if(r.da){for(const i of e){if(r.ra.has(i)){Ct("SyncEngine","Adding an already active target "+i);continue}const s=yield gb(r.localStore,i),o=yield G0(r.localStore,s);yield Lb(r,yv(s),o.targetId,!1),tw(r.remoteStore,o)}for(const i of t)r.ra.has(i)&&(yield cv(r.localStore,i,!1).then(()=>{W0(r.remoteStore,i),uf(r,i)}).catch(Hp))}}),ww.apply(this,arguments)}function wv(n){const e=tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.sa.zo=zL.bind(null,e.eventManager),e.sa.wa=SO.bind(null,e.eventManager),e}function xv(n){const e=tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZL.bind(null,e),e}class xw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,et.Z)(function*(){t.M=Wp(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return lv(this.persistence,new TI,e.initialUser,this.M)}ya(e){return new PI(X1.Yi,this.M)}ga(e){return new OI}terminate(){var e=this;return(0,et.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ew extends xw{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,et.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield xv(r.Ta.syncEngine),yield zp(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return lv(this.persistence,new TI,e.initialUser,this.M)}pa(e){return new _I(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ia.withCacheSize(this.cacheSizeBytes):Ia.DEFAULT;return new lc(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bb(),$p(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new OI}}class bw extends Ew{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,et.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof hv&&(r.sharedClientState.syncEngine={$r:YL.bind(null,i),Br:LO.bind(null,i),Lr:Kp.bind(null,i),Fs:RO.bind(null,i),Fr:FO.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var s=(0,et.Z)(function*(o){yield function QL(n,e){return oD.apply(this,arguments)}(r.Ta.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):o||r.gcScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}ga(e){const t=bb();if(!hv.vt(t))throw new wt(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class aD{initialize(e,t){var r=this;return(0,et.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>tD(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,r.syncEngine),yield gv(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qL}createDatastore(e){const t=Wp(e.databaseInfo.databaseId),r=new NI(e.databaseInfo);return new ew(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>tD(this.syncEngine,u,0),o=FI.vt()?new FI:new MI,new EO(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,u,h,p){const _=new JI(r,i,s,o,u,h);return p&&(_.da=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,et.Z)(function*(t){const r=tn(t);Ct("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield pv(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function UO(n,e=10240){let t=0;return{read:()=>(0,et.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,et.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XL{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new wo,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,et.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,et.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,et.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const s=yield e.Sa(i);return new Wc(JSON.parse(s),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,et.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,et.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,et.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class lD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,et.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wt(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,et.Z)(function*(s,o){const u=tn(s),h=F0(u.M)+"/documents",p={documents:o.map(C=>W_(u.M,C))},_=yield u._o("BatchGetDocuments",h,p),w=new Map;_.forEach(C=>{const I=function WP(n,e){return"found"in e?function(t,r){Fn(!!r.found);const i=Uu(t,r.found.name),s=ji(r.found.updateTime),o=new Uo({mapValue:{fields:r.found.fields}});return ni.newFoundDocument(i,s,o)}(n,e):"missing"in e?function(t,r){Fn(!!r.missing),Fn(!!r.readTime);const i=Uu(t,r.missing),s=ji(r.readTime);return ni.newNoDocument(i,s)}(n,e):gn()}(u.M,C);w.set(I.key.toString(),I)});const E=[];return o.forEach(C=>{const I=w.get(C.toString());Fn(!!I),E.push(I)}),E}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new F1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,et.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Zt.fromPath(i);e.mutations.push(new N1(s,e.precondition(s)))}),yield(r=(0,et.Z)(function*(i,s){const o=tn(i),u=F0(o.M)+"/documents",h={writes:s.map(p=>V1(o.M,p))};yield o.co("Commit",u,h)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gn();t=Pn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new wt(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?is.updateTime(t):is.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pn.min()))throw new wt(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(t)}return is.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VO{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.xa=r.maxAttempts,this.No=new RI(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,et.Z)(function*(){const t=new lD(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ma(s)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!w0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!PA(t)}return!1}}class HO{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=to.UNAUTHENTICATED,this.clientId=aA.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,et.Z)(function*(u){Ct("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Ct("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,et.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Z0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function cD(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,et.Z)(function*(s){r.isEqual(s)||(yield CI(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Zb.apply(this,arguments)}function Kb(n,e){return Tw.apply(this,arguments)}function Tw(){return Tw=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Cw(n);Ct("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Db(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Db(e.remoteStore,s)),n.onlineComponents=e}),Tw.apply(this,arguments)}function Cw(n){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,et.Z)(function*(n){return n.offlineComponents||(Ct("FirestoreClient","Using default OfflineComponentProvider"),yield cD(n,new xw)),n.offlineComponents}),Yb.apply(this,arguments)}function Sw(n){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,et.Z)(function*(n){return n.onlineComponents||(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield Kb(n,new aD)),n.onlineComponents}),Aw.apply(this,arguments)}function Iw(n){return Cw(n).then(e=>e.persistence)}function uD(n){return Cw(n).then(e=>e.localStore)}function Qb(n){return Sw(n).then(e=>e.remoteStore)}function Ev(n){return Sw(n).then(e=>e.syncEngine)}function Q0(n){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,et.Z)(function*(n){const e=yield Sw(n),t=e.eventManager;return t.onListen=IO.bind(null,e.syncEngine),t.onUnlisten=Zp.bind(null,e.syncEngine),t}),Xb.apply(this,arguments)}function dD(n,e,t={}){const r=new wo;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(i,s,o,u,h){const p=new zb({next:w=>{s.enqueueAndForget(()=>Pb(i,_));const E=w.docs.has(o);!E&&w.fromCache?h.reject(new wt(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&u&&"server"===u.source?h.reject(new wt(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),_=new Mb(Ap(o.path),p,{includeMetadataChanges:!0,ku:!0});return ZI(i,_)}(yield Q0(n),n.asyncQueue,e,t,r)})),r.promise}function GO(n,e,t={}){const r=new wo;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(i,s,o,u,h){const p=new zb({next:w=>{s.enqueueAndForget(()=>Pb(i,_)),w.fromCache&&"server"===u.source?h.reject(new wt(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),_=new Mb(o,p,{includeMetadataChanges:!0,ku:!0});return ZI(i,_)}(yield Q0(n),n.asyncQueue,e,t,r)})),r.promise}const WO=new Map;function hD(n,e,t){if(!t)throw new wt(ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qO(n,e,t,r){if(!0===e&&!0===r)throw new wt(ze.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zO(n){if(!Zt.isDocumentKey(n))throw new wt(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a(n){if(Zt.isDocumentKey(n))throw new wt(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function l(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gn()}function d(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new wt(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=l(n);throw new wt(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function f(n,e){if(e<=0)throw new wt(ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class g{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g({}),this._settingsFrozen=!1,e instanceof Hc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new wt(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(i.options.projectId)}(e))}get app(){if(!this._app)throw new wt(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new v0;switch(t.type){case"gapi":const r=t.client;return Fn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new oA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new wt(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WO.get(e);t&&(Ct("ComponentProvider","Removing Datastore"),WO.delete(e),t.terminate())}(this),Promise.resolve()}}class S{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new N(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new S(this.firestore,e,this._key)}}class P{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new P(this.firestore,e,this._query)}}class N extends P{constructor(e,t,r){super(e,t,Ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new S(this.firestore,null,new Zt(e))}withConverter(e){return new N(this.firestore,e,this._path)}}function B(n,e,...t){if(n=(0,Z.m9)(n),hD("collection","path",e),n instanceof v){const r=pr.fromString(e,...t);return a(r),new N(n,null,r)}{if(!(n instanceof S||n instanceof N))throw new wt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return a(r),new N(n.firestore,null,r)}}function ve(n,e,...t){if(n=(0,Z.m9)(n),1===arguments.length&&(e=aA.R()),hD("doc","path",e),n instanceof v){const r=pr.fromString(e,...t);return zO(r),new S(n,null,new Zt(r))}{if(!(n instanceof S||n instanceof N))throw new wt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return zO(r),new S(n.firestore,n instanceof N?n.converter:null,new Zt(r))}}function Pe(n,e){return n=(0,Z.m9)(n),e=(0,Z.m9)(e),(n instanceof S||n instanceof N)&&(e instanceof S||e instanceof N)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tt(n,e){return n=(0,Z.m9)(n),e=(0,Z.m9)(e),n instanceof P&&e instanceof P&&n.firestore===e.firestore&&S0(n._query,e._query)&&n.converter===e.converter}class St{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new RI(this,"async_queue_retry"),this.Qa=()=>{const t=$p();t&&Ct("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=$p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=$p();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new wo;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,et.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Fp(t))throw t;Ct("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,_s("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=zI.createAndSchedule(this,e,t,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&gn()}verifyOperationInProgress(){}Ja(){var e=this;return(0,et.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Ht(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class hn{constructor(){this._progressObserver={},this._taskCompletionResolver=new wo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qt extends v{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new St,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||df(this),this._firestoreClient.terminate()}}function Ar(n){return n._firestoreClient||df(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function df(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new E1(n._databaseId,s,n._persistenceKey,(u=t).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var s,u;n._firestoreClient=new HO(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Dw(n,e,t){const r=new wo;return n.asyncQueue.enqueue((0,et.Z)(function*(){try{yield cD(n,t),yield Kb(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(s=i).name?s.code===ze.FAILED_PRECONDITION||s.code===ze.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var s})).then(()=>r.promise)}function s3(n){if(n._initialized||n._terminated)throw new wt(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hf(ns.fromBase64String(e))}catch(t){throw new wt(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hf(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bv{constructor(e){this._methodName=e}}class pD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wn(this._lat,e._lat)||Wn(this._long,e._long)}}const m9=/^__.*__$/;class _9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pp(e,this.data,this.fieldMask,t,this.fieldTransforms):new H_(e,this.data,t,this.fieldTransforms)}}class o3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function a3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class gD{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new gD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return vD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(a3(this.ec)&&m9.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class v9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Wp(e)}lc(e,t,r,i=!1){return new gD({ec:e,methodName:t,hc:r,path:Pi.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Tv(n){const e=n._freezeSettings(),t=Wp(n._databaseId);return new v9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mD(n,e,t,r,i,s={}){const o=n.lc(s.merge||s.mergeFields?2:0,e,t,i);QO("Data must be an object, but it was:",o,r);const u=u3(r,o);let h,p;if(s.merge)h=new Ep(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const _=[];for(const w of s.mergeFields){const E=XO(e,w,t);if(!o.contains(E))throw new wt(ze.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);h3(_,E)||_.push(E)}h=new Ep(_),p=o.fieldTransforms.filter(w=>h.covers(w.field))}else h=null,p=o.fieldTransforms;return new _9(new Uo(u),h,p)}class oT extends bv{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oT}}function l3(n,e,t){return new gD({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ZO extends bv{_toFieldTransform(e){return new D0(e.path,new A0)}isEqual(e){return e instanceof ZO}}class y9 extends bv{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=l3(this,e,!0),r=this.fc.map(s=>Cv(s,t)),i=new Dp(r);return new D0(e.path,i)}isEqual(e){return this===e}}class w9 extends bv{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=l3(this,e,!0),r=this.fc.map(s=>Cv(s,t)),i=new kp(r);return new D0(e.path,i)}isEqual(e){return this===e}}class x9 extends bv{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new I0(e.M,xA(e.M,this.dc));return new D0(e.path,t)}isEqual(e){return this===e}}function KO(n,e,t,r){const i=n.lc(1,e,t);QO("Data must be an object, but it was:",i,r);const s=[],o=Uo.empty();Vd(r,(h,p)=>{const _=_D(e,h,t);p=(0,Z.m9)(p);const w=i.oc(_);if(p instanceof oT)s.push(_);else{const E=Cv(p,w);null!=E&&(s.push(_),o.set(_,E))}});const u=new Ep(s);return new o3(o,u,i.fieldTransforms)}function YO(n,e,t,r,i,s){const o=n.lc(1,e,t),u=[XO(e,r,t)],h=[i];if(s.length%2!=0)throw new wt(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)u.push(XO(e,s[E])),h.push(s[E+1]);const p=[],_=Uo.empty();for(let E=u.length-1;E>=0;--E)if(!h3(p,u[E])){const C=u[E];let I=h[E];I=(0,Z.m9)(I);const D=o.oc(C);if(I instanceof oT)p.push(C);else{const M=Cv(I,D);null!=M&&(p.push(C),_.set(C,M))}}const w=new Ep(p);return new o3(_,w,o.fieldTransforms)}function c3(n,e,t,r=!1){return Cv(t,n.lc(r?4:3,e))}function Cv(n,e){if(d3(n=(0,Z.m9)(n)))return QO("Unsupported field value:",e,n),u3(n,e);if(n instanceof bv)return function(t,r){if(!a3(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let u=Cv(o,r.uc(s));null==u&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Z.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xA(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ts.fromDate(t);return{timestampValue:M0(r.M,i)}}if(t instanceof ts){const i=new ts(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:M0(r.M,i)}}if(t instanceof pD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hf)return{bytesValue:$E(r.M,t._byteString)};if(t instanceof S){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${l(t)}`)}(n,e)}function u3(n,e){const t={};return kP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vd(n,(r,i)=>{const s=Cv(i,e.sc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function d3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ts||n instanceof pD||n instanceof hf||n instanceof S||n instanceof bv)}function QO(n,e,t){if(!d3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=l(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function XO(n,e,t){if((e=(0,Z.m9)(e))instanceof Yp)return e._internalPath;if("string"==typeof e)return _D(n,e);throw vD("Field path arguments must be of type string or ",n,!1,void 0,t)}const E9=new RegExp("[~\\*/\\[\\]]");function _D(n,e,t){if(e.search(E9)>=0)throw vD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yp(...e.split("."))._internalPath}catch(r){throw vD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vD(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${r}`),o&&(h+=` in document ${i}`),h+=")"),new wt(ze.INVALID_ARGUMENT,u+n+h)}function h3(n,e){return n.some(t=>t.isEqual(e))}class aT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new S(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new b9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class b9 extends aT{data(){return super.data()}}function yD(n,e){return"string"==typeof e?_D(n,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}class Sv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qp extends aT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lT extends Qp{data(e={}){return super.data(e)}}class X0{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lT(this._firestore,this._userDataWriter,r.key,r,new Sv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new lT(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Sv(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const u=new lT(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Sv(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,p=-1;return 0!==o.type&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:T9(o.type),doc:u,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function T9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function f3(n,e){return n instanceof Qp&&e instanceof Qp?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof X0&&e instanceof X0&&n._firestore===e._firestore&&tt(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function p3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new wt(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{}function J0(n,...e){for(const t of e)n=t._apply(n);return n}class C9 extends cT{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Tv(e.firestore),r=function(i,s,o,u,h,p,_){let w;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new wt(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){w3(_,p);const C=[];for(const I of _)C.push(y3(u,i,I));w={arrayValue:{values:C}}}else w=y3(u,i,_)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||w3(_,p),w=c3(o,"where",_,"in"===p||"not-in"===p);const E=no.create(h,p,w);return function(C,I){if(I.S()){const M=B_(C);if(null!==M&&!M.isEqual(I.field))throw new wt(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${M.toString()}' and '${I.field.toString()}'`);const j=C0(C);null!==j&&x3(0,I.field,j)}const D=function(M,j){for(const z of M.filters)if(j.indexOf(z.op)>=0)return z.op;return null}(C,function(M){switch(M){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(null!==D)throw new wt(ze.INVALID_ARGUMENT,D===I.op?`Invalid query. You cannot use more than one '${I.op.toString()}' filter.`:`Invalid query. You cannot use '${I.op.toString()}' filters with '${D.toString()}' filters.`)}(i,E),E}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new P(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new $d(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class A9 extends cT{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new wt(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new wt(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new T0(i,s);return function(u,h){if(null===C0(u)){const p=B_(u);null!==p&&x3(0,p,h.field)}}(r,o),o}(e._query,this._c,this.gc);return new P(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new $d(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class g3 extends cT{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new P(e.firestore,e.converter,VE(e._query,this.yc,this.Ic))}}class m3 extends cT{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=v3(e,this.type,this.Tc,this.Ec);return new P(e.firestore,e.converter,(i=t,new $d((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _3 extends cT{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=v3(e,this.type,this.Tc,this.Ec);return new P(e.firestore,e.converter,(i=t,new $d((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function v3(n,e,t,r){if(t[0]=(0,Z.m9)(t[0]),t[0]instanceof aT)return function(i,s,o,u,h){if(!u)throw new wt(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const p=[];for(const _ of Ip(i))if(_.field.isKeyField())p.push(Qh(s,u.key));else{const w=u.data.field(_.field);if(lA(w))throw new wt(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const E=_.field.canonicalString();throw new wt(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}p.push(w)}return new Gd(p,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Tv(n.firestore);return function(s,o,u,h,p,_){const w=s.explicitOrderBy;if(p.length>w.length)throw new wt(ze.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let C=0;C<p.length;C++){const I=p[C];if(w[C].field.isKeyField()){if("string"!=typeof I)throw new wt(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof I}`);if(!I1(s)&&-1!==I.indexOf("/"))throw new wt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${I}' contains a slash.`);const D=s.path.child(pr.fromString(I));if(!Zt.isDocumentKey(D))throw new wt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const M=new Zt(D);E.push(Qh(o,M))}else{const D=c3(u,h,I);E.push(D)}}return new Gd(E,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function y3(n,e,t){if("string"==typeof(t=(0,Z.m9)(t))){if(""===t)throw new wt(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I1(e)&&-1!==t.indexOf("/"))throw new wt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pr.fromString(t));if(!Zt.isDocumentKey(r))throw new wt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qh(n,new Zt(r))}if(t instanceof S)return Qh(n,t._key);throw new wt(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l(t)}.`)}function w3(n,e){if(!Array.isArray(n)||0===n.length)throw new wt(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new wt(ze.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function x3(n,e,t){if(!t.isEqual(e))throw new wt(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const N9={maxAttempts:5};class JO{convertValue(e,t="none"){switch(Tp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gn()}}convertObject(e,t){const r={};return Vd(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new pD(ui(e.latitude),ui(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const t=Vc(e);return new ts(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pr.fromString(e);Fn(qA(r));const i=new Hc(r.get(1),r.get(3)),s=new Zt(r.popFirst(5));return i.isEqual(t)||_s(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function wD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class R9 extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new S(this.firestore,null,t)}}class E3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tv(e)}set(e,t,r){this._verifyNotCommitted();const i=em(e,this._firestore),s=wD(i.converter,t,r),o=mD(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,is.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=em(e,this._firestore);let o;return o="string"==typeof(t=(0,Z.m9)(t))||t instanceof Yp?YO(this._dataReader,"WriteBatch.update",s._key,t,r,i):KO(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,is.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=em(e,this._firestore);return this._mutations=this._mutations.concat(new F1(t._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function em(n,e){if((n=(0,Z.m9)(n)).firestore!==e)throw new wt(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Av extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new S(this.firestore,null,t)}}function b3(n,e,t){n=d(n,S);const r=d(n.firestore,Qt),i=wD(n.converter,e,t);return kw(r,[mD(Tv(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,is.none())])}function T3(n,e,t,...r){n=d(n,S);const i=d(n.firestore,Qt),s=Tv(i);let o;return o="string"==typeof(e=(0,Z.m9)(e))||e instanceof Yp?YO(s,"updateDoc",n._key,e,t,r):KO(s,"updateDoc",n._key,e),kw(i,[o.toMutation(n._key,is.exists(!0))])}function C3(n,...e){var t,r,i;n=(0,Z.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Ht(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(Ht(e[o])){const w=e[o];e[o]=null===(t=w.next)||void 0===t?void 0:t.bind(w),e[o+1]=null===(r=w.error)||void 0===r?void 0:r.bind(w),e[o+2]=null===(i=w.complete)||void 0===i?void 0:i.bind(w)}let h,p,_;if(n instanceof S)p=d(n.firestore,Qt),_=Ap(n._key.path),h={next:w=>{e[o]&&e[o](eM(p,n,w))},error:e[o+1],complete:e[o+2]};else{const w=d(n,P);p=d(w.firestore,Qt),_=w._query;const E=new Av(p);h={next:C=>{e[o]&&e[o](new X0(p,E,w,C))},error:e[o+1],complete:e[o+2]},p3(n._query)}return function(w,E,C,I){const D=new zb(I),M=new Mb(E,D,C);return w.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return ZI(yield Q0(w),M)})),()=>{D.Aa(),w.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return Pb(yield Q0(w),M)}))}}(Ar(p),_,u,h)}function kw(n,e){return function(t,r){const i=new wo;return t.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function eD(n,e,t){return Bb.apply(this,arguments)}(yield Ev(t),r,i)})),i.promise}(Ar(n),e)}function eM(n,e,t){const r=t.docs.get(e._key),i=new Av(n);return new Qp(n,i,e._key,r,new Sv(t.hasPendingWrites,t.fromCache),e.converter)}class q9 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tv(e)}get(e){const t=em(e,this._firestore),r=new R9(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gn();const s=i[0];if(s.isFoundDocument())return new aT(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new aT(this._firestore,r,t._key,null,t.converter);throw gn()})}set(e,t,r){const i=em(e,this._firestore),s=wD(i.converter,t,r),o=mD(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=em(e,this._firestore);let o;return o="string"==typeof(t=(0,Z.m9)(t))||t instanceof Yp?YO(this._dataReader,"Transaction.update",s._key,t,r,i):KO(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=em(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=em(e,this._firestore),r=new Av(this._firestore);return super.get(e).then(i=>new Qp(this._firestore,r,t._key,i._document,new Sv(!1,!1),t.converter))}}function tM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function A3(){if("undefined"==typeof Uint8Array)throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function I3(){if(!function AE(){return"undefined"!=typeof atob}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_0=Lo.SDK_VERSION,(0,Lo._registerComponent)(new Fc.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Qt(i,new sA(t.getProvider("auth-internal")),new AP(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),(0,Lo.registerVersion)(rA,"3.4.9",n),(0,Lo.registerVersion)(rA,"3.4.9","esm2017")}();class uT{constructor(e){this._delegate=e}static fromBase64String(e){return I3(),new uT(hf.fromBase64String(e))}static fromUint8Array(e){return A3(),new uT(hf.fromUint8Array(e))}toBase64(){return I3(),this._delegate.toBase64()}toUint8Array(){return A3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nM(n){return function tj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class nj{enableIndexedDbPersistence(e,t){return function Jb(n,e){s3(n=d(n,Qt));const t=Ar(n),r=n._freezeSettings(),i=new aD;return Dw(t,i,new Ew(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eT(n){s3(n=d(n,Qt));const e=Ar(n),t=n._freezeSettings(),r=new aD;return Dw(e,r,new bw(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tT(n){if(n._initialized&&!n._terminated)throw new wt(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,et.Z)(function*(){try{yield(t=(0,et.Z)(function*(r){if(!$c.vt())return Promise.resolve();const i=r+"main";yield $c.delete(i)}),function(r){return t.apply(this,arguments)})(jp(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class D3{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function b(n,e,t,r={}){var i;const s=(n=d(n,v))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&wp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,u;if("string"==typeof r.mockUserToken)o=r.mockUserToken,u=to.MOCK_USER;else{o=(0,Z.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new wt(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new to(h)}n._authCredentials=new CP(new iA(o,u))}}(this._delegate,e,t,r)}enableNetwork(){return function rT(n){return function JL(n){return n.asyncQueue.enqueue((0,et.Z)(function*(){const e=yield Iw(n),t=yield Qb(n);return e.setNetworkEnabled(!0),function(r){const i=tn(r);return i.wu.delete(0),qp(i)}(t)}))}(Ar(n=d(n,Qt)))}(this._delegate)}disableNetwork(){return function iT(n){return function e3(n){return n.asyncQueue.enqueue((0,et.Z)(function*(){const e=yield Iw(n),t=yield Qb(n);return e.setNetworkEnabled(!1),(r=(0,et.Z)(function*(i){const s=tn(i);s.wu.add(0),yield pv(s),s.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ar(n=d(n,Qt)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nT(n){return function(e){const t=new wo;return e.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function nD(n,e){return Hb.apply(this,arguments)}(yield Ev(e),t)})),t.promise}(Ar(n=d(n,Qt)))}(this._delegate)}onSnapshotsInSync(e){return function W9(n,e){return function n3(n,e){const t=new zb(e);return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return r=yield Q0(n),i=t,tn(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return r=yield Q0(n),i=t,void tn(r).bu.delete(i);var r,i}))}}(Ar(n=d(n,Qt)),Ht(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pw(this,B(this._delegate,e))}catch(t){throw ml(t,"collection()","Firestore.collection()")}}doc(e){try{return new ju(this,ve(this._delegate,e))}catch(t){throw ml(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _l(this,function te(n,e){if(n=d(n,v),hD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new P(n,null,(t=e,new $d(pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ml(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function z9(n,e,t){n=d(n,Qt);const r=Object.assign(Object.assign({},N9),t);return function(i){if(i.maxAttempts<1)throw new wt(ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function r3(n,e,t){const r=new wo;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){const i=yield(s=n,Sw(s).then(o=>o.datastore));var s;new VO(n.asyncQueue,i,t,e,r).run()})),r.promise}(Ar(n),i=>e(new q9(n,i)),r)}(this._delegate,t=>e(new k3(this,t)))}batch(){return Ar(this._delegate),new P3(new E3(this._delegate,e=>kw(this._delegate,e)))}loadBundle(e){return function sT(n,e){const t=Ar(n=d(n,Qt)),r=new hn;return function i3(n,e,t,r){const i=function(s,o){let u;return u="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return UO(h,p);if(h instanceof ArrayBuffer)return UO(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new XL(h,o);var h}(t,Wp(e));n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){!function BO(n,e,t){const r=tn(n);var i;(i=(0,et.Z)(function*(s,o,u){try{const h=yield o.getMetadata();if(yield function(E,C){const I=tn(E),D=ji(C.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",M=>I._s.getBundleMetadata(M,C.id)).then(M=>!!M&&M.createTime.compareTo(D)>=0)}(s.localStore,h))return yield o.close(),u._completeWith({taskState:"Success",documentsLoaded:(E=h).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);u._updateProgress(YI(h));const p=new Fb(h,s.localStore,o.M);let _=yield o.ma();for(;_;){const E=yield p.Fu(_);E&&u._updateProgress(E),_=yield o.ma()}const w=yield p.complete();return yield Hu(s,w.Lu,void 0),yield function(E,C){const I=tn(E);return I.persistence.runTransaction("Save bundle","readwrite",D=>I._s.saveBundleMetadata(D,C))}(s.localStore,h),u._completeWith(w.progress),Promise.resolve(w.Bu)}catch(h){return wp("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var E}),function(s,o,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Ev(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function g9(n,e){return function $O(n,e){return n.asyncQueue.enqueue((0,et.Z)(function*(){return function(t,r){const i=tn(t);return i.persistence.runTransaction("Get named query","readonly",s=>i._s.getNamedQuery(s,r))}(yield uD(n),e)}))}(Ar(n=d(n,Qt)),e).then(t=>t?new P(n,null,t.query):null)}(this._delegate,e).then(t=>t?new _l(this,t):null)}}class xD extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new uT(new hf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ju.forKey(t,this.firestore,null)}}class k3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}get(e){const t=Dv(e);return this._delegate.get(t).then(r=>new dT(this._firestore,new Qp(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Dv(e);return r?(tM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Dv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Dv(e);return this._delegate.delete(t),this}}class P3{constructor(e){this._delegate=e}set(e,t,r){const i=Dv(e);return r?(tM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Dv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Dv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Iv{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new lT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hT(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Iv.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Iv(e,new xD(e),t),i.set(t,s)),s}}Iv.INSTANCES=new WeakMap;class ju{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ju(t,new S(t._delegate,r,new Zt(e)))}static forKey(e,t,r){return new ju(t,new S(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pw(this.firestore,B(this._delegate,e))}catch(t){throw ml(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Z.m9)(e))instanceof S&&Pe(this._delegate,e)}set(e,t){t=tM("DocumentReference.set",t);try{return t?b3(this._delegate,e,t):b3(this._delegate,e)}catch(r){throw ml(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?T3(this._delegate,e):T3(this._delegate,e,t,...r)}catch(i){throw ml(i,"updateDoc()","DocumentReference.update()")}}delete(){return function G9(n){return kw(d(n.firestore,Qt),[new F1(n._key,is.none())])}(this._delegate)}onSnapshot(...e){const t=O3(e),r=M3(e,i=>new dT(this.firestore,new Qp(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return C3(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function B9(n){n=d(n,S);const e=d(n.firestore,Qt),t=Ar(e),r=new Av(e);return function jO(n,e){const t=new wo;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return(r=(0,et.Z)(function*(i,s,o){try{const u=yield function(h,p){const _=tn(h);return _.persistence.runTransaction("read document","readonly",w=>_.fi.Ls(w,p))}(i,s);u.isFoundDocument()?o.resolve(u):u.isNoDocument()?o.resolve(null):o.reject(new wt(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=Z0(u,`Failed to get document '${s} from cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield uD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Qp(e,r,n._key,i,new Sv(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function U9(n){n=d(n,S);const e=d(n.firestore,Qt);return dD(Ar(e),n._key,{source:"server"}).then(t=>eM(e,n,t))}(this._delegate):function L9(n){n=d(n,S);const e=d(n.firestore,Qt);return dD(Ar(e),n._key).then(t=>eM(e,n,t))}(this._delegate),t.then(r=>new dT(this.firestore,new Qp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ju(this.firestore,this._delegate.withConverter(e?Iv.getInstance(this.firestore,e):null))}}function ml(n,e,t){return n.message=n.message.replace(e,t),n}function O3(n){for(const e of n)if("object"==typeof e&&!nM(e))return e;return{}}function M3(n,e){var t,r;let i;return i=nM(n[0])?n[0]:nM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class dT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ju(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return f3(this._delegate,e._delegate)}}class hT extends dT{data(e){const t=this._delegate.data(e);return function FL(n,e){n||gn()}(void 0!==t),t}}class _l{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}where(e,t,r){try{return new _l(this.firestore,J0(this._delegate,function S9(n,e,t){const r=e,i=yD("where",n);return new C9(i,r,t)}(e,t,r)))}catch(i){throw ml(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _l(this.firestore,J0(this._delegate,function I9(n,e="asc"){const t=e,r=yD("orderBy",n);return new A9(r,t)}(e,t)))}catch(r){throw ml(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _l(this.firestore,J0(this._delegate,function D9(n){return f("limit",n),new g3("limit",n,"F")}(e)))}catch(t){throw ml(t,"limit()","Query.limit()")}}limitToLast(e){try{return new _l(this.firestore,J0(this._delegate,function k9(n){return f("limitToLast",n),new g3("limitToLast",n,"L")}(e)))}catch(t){throw ml(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _l(this.firestore,J0(this._delegate,function P9(...n){return new m3("startAt",n,!0)}(...e)))}catch(t){throw ml(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _l(this.firestore,J0(this._delegate,function O9(...n){return new m3("startAfter",n,!1)}(...e)))}catch(t){throw ml(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _l(this.firestore,J0(this._delegate,function M9(...n){return new _3("endBefore",n,!1)}(...e)))}catch(t){throw ml(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _l(this.firestore,J0(this._delegate,function F9(...n){return new _3("endAt",n,!0)}(...e)))}catch(t){throw ml(t,"endAt()","Query.endAt()")}}isEqual(e){return tt(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function H9(n){n=d(n,P);const e=d(n.firestore,Qt),t=Ar(e),r=new Av(e);return function t3(n,e){const t=new wo;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return(r=(0,et.Z)(function*(i,s,o){try{const u=yield $0(i,s,!0),h=new Nb(s,u._i),p=h.Wu(u.documents),_=h.applyChanges(p,!1);o.resolve(_.snapshot)}catch(u){const h=Z0(u,`Failed to execute query '${s} against cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield uD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new X0(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function j9(n){n=d(n,P);const e=d(n.firestore,Qt),t=Ar(e),r=new Av(e);return GO(t,n._query,{source:"server"}).then(i=>new X0(e,r,n,i))}(this._delegate):function V9(n){n=d(n,P);const e=d(n.firestore,Qt),t=Ar(e),r=new Av(e);return p3(n._query),GO(t,n._query).then(i=>new X0(e,r,n,i))}(this._delegate),t.then(r=>new rM(this.firestore,new X0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=O3(e),r=M3(e,i=>new rM(this.firestore,new X0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return C3(this._delegate,t,r)}withConverter(e){return new _l(this.firestore,this._delegate.withConverter(e?Iv.getInstance(this.firestore,e):null))}}class ij{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _l(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ij(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hT(this._firestore,r))})}isEqual(e){return f3(this._delegate,e._delegate)}}class Pw extends _l{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ju(this.firestore,e):null}doc(e){try{return new ju(this.firestore,void 0===e?ve(this._delegate):ve(this._delegate,e))}catch(t){throw ml(t,"doc()","CollectionReference.doc()")}}add(e){return function $9(n,e){const t=d(n.firestore,Qt),r=ve(n),i=wD(n.converter,e);return kw(t,[mD(Tv(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,is.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ju(this.firestore,t))}isEqual(e){return Pe(this._delegate,e._delegate)}withConverter(e){return new Pw(this.firestore,this._delegate.withConverter(e?Iv.getInstance(this.firestore,e):null))}}function Dv(n){return d(n,S)}class iM{constructor(...e){this._delegate=new Yp(...e)}static documentId(){return new iM(Pi.keyField().canonicalString())}isEqual(e){return(e=(0,Z.m9)(e))instanceof Yp&&this._delegate._internalPath.isEqual(e._internalPath)}}class kv{constructor(e){this._delegate=e}static serverTimestamp(){const e=function K9(){return new ZO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new kv(e)}static delete(){const e=function Z9(){return new oT("deleteField")}();return e._methodName="FieldValue.delete",new kv(e)}static arrayUnion(...e){const t=function Y9(...n){return new y9("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new kv(t)}static arrayRemove(...e){const t=function Q9(...n){return new w9("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new kv(t)}static increment(e){const t=function X9(n){return new x9("increment",n)}(e);return t._methodName="FieldValue.increment",new kv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sj={Firestore:D3,GeoPoint:pD,Timestamp:ts,Blob:uT,Transaction:k3,WriteBatch:P3,DocumentReference:ju,DocumentSnapshot:dT,Query:_l,QueryDocumentSnapshot:hT,QuerySnapshot:rM,CollectionReference:Pw,FieldPath:iM,FieldValue:kv,setLogLevel:function rj(n){!function TP(n){Ud.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function aj(n){(function oj(n,e){n.INTERNAL.registerComponent(new Fc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},sj)))})(n,(e,t)=>new D3(e,t,new nj)),n.registerVersion("@firebase/firestore-compat","0.1.18")}($y.Z);var Ow=K(6451),ED=K(5363),lj=K(6063);class cj extends Cr.x{constructor(e=1/0,t=1/0,r=lj.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let u=0;for(let h=1;h<r.length&&r[h]<=o;h+=2)u=h;u&&r.splice(0,u+1)}}}var F3=K(3099);function N3(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,F3.B)({connector:()=>new cj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function R3(n,e){return(0,Ks.m)(e)?li(()=>n,e):li(()=>n)}var sM=K(9468);K(5867);const B3=new Map,pj={activated:!1,tokenObservers:[]},gj={initialized:!1,enabled:!1};function Ho(n){return B3.get(n)||pj}function Yd(n,e){B3.set(n,e)}function TD(){return gj}class wj{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,et.Z)(function*(){t.stop();try{t.pending=new Z.BH,yield function xj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Z.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vl=new Z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function V3(n){if(!Ho(n).activated)throw vl.create("use-before-activation",{appName:n.name})}function cM(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,et.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const w=yield i.getHeartbeatsHeader();w&&(r["X-Firebase-Client"]=w)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,u;try{o=yield fetch(n,s)}catch(w){throw vl.create("fetch-network-error",{originalErrorMessage:w.message})}if(200!==o.status)throw vl.create("fetch-status-error",{httpStatus:o.status});try{u=yield o.json()}catch(w){throw vl.create("fetch-parse-error",{originalErrorMessage:w.message})}const h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw vl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const p=1e3*Number(h[1]),_=Date.now();return{token:u.token,expireTimeMillis:_+p,issuedAtTimeMillis:_}}),uM.apply(this,arguments)}function Sj(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const fT="firebase-app-check-store";let AD=null;function j3(){return AD||(AD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vl.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fT,{keyPath:"compositeKey"})}}catch(t){e(vl.create("storage-open",{originalErrorMessage:t.message}))}}),AD)}function dM(){return dM=(0,et.Z)(function*(n,e){const r=(yield j3()).transaction(fT,"readwrite"),s=r.objectStore(fT).put({compositeKey:n,value:e});return new Promise((o,u)=>{s.onsuccess=h=>{o()},r.onerror=h=>{var p;u(vl.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})}),dM.apply(this,arguments)}const pT=new Nc.Yd("@firebase/app-check");function q3(n,e){return(0,Z.hl)()?function kj(n,e){return function G3(n,e){return dM.apply(this,arguments)}(function W3(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pT.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function z3(){return TD().enabled}function Z3(){return gM.apply(this,arguments)}function gM(){return gM=(0,et.Z)(function*(){const n=TD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gM.apply(this,arguments)}const Rj={error:"UNKNOWN_ERROR"};function Lj(n){return Z.US.encodeString(JSON.stringify(n),!1)}function ID(n){return mM.apply(this,arguments)}function mM(){return mM=(0,et.Z)(function*(n,e=!1){const t=n.app;V3(t);const r=Ho(t);let s,i=r.token;if(!i){const h=yield r.cachedTokenPromise;h&&DD(h)&&(i=h)}if(!e&&i&&DD(i))return{token:i.token};let u,o=!1;if(z3()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cM(Sj(t,yield Z3()),n.heartbeatServiceProvider).then(p=>(r.exchangeTokenPromise=void 0,p)),o=!0);const h=yield r.exchangeTokenPromise;return yield q3(t,h),Yd(t,Object.assign(Object.assign({},r),{token:h})),{token:h.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(h=>(r.exchangeTokenPromise=void 0,h)),o=!0),i=yield r.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?pT.warn(h.message):pT.error(h),s=h}return i?(u={token:i.token},Yd(t,Object.assign(Object.assign({},r),{token:i})),yield q3(t,i)):u=Uj(s),o&&Y3(t,u),u}),mM.apply(this,arguments)}function vM(n,e){const t=Ho(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yd(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function K3(n){const{app:e}=n,t=Ho(e);let r=t.tokenRefresher;r||(r=function Bj(n){const{app:e}=n;return new wj((0,et.Z)(function*(){let r;if(r=Ho(e).token?yield ID(n,!0):yield ID(n),r.error)throw r.error}),()=>!0,()=>{const t=Ho(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Yd(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Y3(n,e){const t=Ho(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function DD(n){return n.expireTimeMillis-Date.now()>0}function Uj(n){return{token:Lj(Rj),error:n}}class Vj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ho(this.app);for(const t of e)vM(this.app,t.next);return Promise.resolve()}}const i4="app-check-internal";!function eG(){(0,Lo._registerComponent)(new Fc.wA("app-check",n=>function Hj(n,e){return new Vj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(i4).initialize()})),(0,Lo._registerComponent)(new Fc.wA(i4,n=>function jj(n){return{getToken:e=>ID(n,e),addTokenListener:e=>function _M(n,e,t,r){const{app:i}=n,s=Ho(i),o={next:t,error:r,type:e};if(Yd(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&DD(s.token)){const u=s.token;Promise.resolve().then(()=>{t({token:u.token}),K3(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>K3(n))}(n,"INTERNAL",e),removeTokenListener:e=>vM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lo.registerVersion)("@firebase/app-check","0.5.8")}();class gT{constructor(){return(0,Sr.vb)("app-check")}}"undefined"!=typeof window&&window;var PD=K(127);const bM=new c.OlP("angularfire2.auth.use-emulator"),TM=new c.OlP("angularfire2.auth.settings"),CM=new c.OlP("angularfire2.auth.tenant-id"),SM=new c.OlP("angularfire2.auth.langugage-code"),AM=new c.OlP("angularfire2.auth.use-device-language"),IM=new c.OlP("angularfire.auth.persistence"),DM=(n,e,t,r,i,s,o,u)=>(0,ms.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=e.runOutsideAngular(()=>n.auth());if(t&&h.useEmulator(...t),r&&(h.tenantId=r),h.languageCode=i,s&&h.useDeviceLanguage(),o)for(const[p,_]of Object.entries(o))h.settings[p]=_;return u&&h.setPersistence(u),h},[t,r,i,s,o,u]);let Mw=(()=>{class n{constructor(t,r,i,s,o,u,h,p,_,w,E,C){const I=new Cr.x,D=un(void 0).pipe((0,ED.Q)(o.outsideAngular),li(()=>s.runOutsideAngular(()=>Promise.resolve().then(K.bind(K,7092)))),(0,Yt.U)(()=>(0,ms.on)(t,s,r)),(0,Yt.U)(M=>DM(M,s,u,p,_,w,h,E)),N3({bufferSize:1,refCount:!1}));if(ho(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=un(null);else{D.pipe(bu()).subscribe();const j=D.pipe(li(oe=>oe.getRedirectResult().then(be=>be,()=>null)),Sr.iC,N3({bufferSize:1,refCount:!1})),z=D.pipe(li(oe=>new A.y(be=>({unsubscribe:s.runOutsideAngular(()=>oe.onAuthStateChanged(Ie=>be.next(Ie),Ie=>be.error(Ie),()=>be.complete()))})))),V=D.pipe(li(oe=>new A.y(be=>({unsubscribe:s.runOutsideAngular(()=>oe.onIdTokenChanged(Ie=>be.next(Ie),Ie=>be.error(Ie),()=>be.complete()))}))));this.authState=j.pipe(R3(z),(0,sM.R)(o.outsideAngular),(0,ED.Q)(o.insideAngular)),this.user=j.pipe(R3(V),(0,sM.R)(o.outsideAngular),(0,ED.Q)(o.insideAngular)),this.idToken=this.user.pipe(li(oe=>oe?(0,Tr.D)(oe.getIdToken()):un(null))),this.idTokenResult=this.user.pipe(li(oe=>oe?(0,Tr.D)(oe.getIdTokenResult()):un(null))),this.credential=(0,Ow.T)(j,I,this.authState.pipe(Ai(oe=>!oe))).pipe((0,Yt.U)(oe=>(null==oe?void 0:oe.user)?oe:null),(0,sM.R)(o.outsideAngular),(0,ED.Q)(o.insideAngular))}return(0,ms.pX)(this,D,s,{spy:{apply:(M,j,z)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&z.then(V=>I.next(V))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ms.Dh),c.LFG(ms.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Sr.HU),c.LFG(bM,8),c.LFG(TM,8),c.LFG(CM,8),c.LFG(SM,8),c.LFG(AM,8),c.LFG(IM,8),c.LFG(gT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oG=(()=>{class n{constructor(){PD.Z.registerVersion("angularfire",Sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Mw]}),n})();function o4(n,e){return function aG(n,e=Yg.z){return new A.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function kM(n,e){return o4(n,e).pipe((0,Yt.U)(t=>({payload:t,type:"query"})))}function OD(n,e){return kM(n,e).pipe(Yl(void 0),Wx(),(0,Yt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(o=>({type:o.type,payload:o}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((o,u)=>{const h=i.find(_=>_.doc.ref.isEqual(o.ref)),p=null==t?void 0:t.payload.docs.find(_=>_.ref.isEqual(o.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(o.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:o}})}),s}))}function a4(n,e,t){return OD(n,t).pipe(Mo((r,i)=>function cG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function uG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return PM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return PM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return PM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),qx(),(0,Yt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function PM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function l4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class c4{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=OD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Yt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Yl(void 0),Wx(),Ai(([r,i])=>i.length>0||!r),(0,Yt.U)(([r,i])=>i),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=l4(e);return a4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return kM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,Tr.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new u4(this.ref.doc(e),this.afs)}}class u4{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=f4(r,t);return new c4(i,s,this.afs)}snapshotChanges(){return function lG(n,e){return o4(n,e).pipe(Yl(void 0),Wx(),(0,Yt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Tr.D)(this.ref.get(e)).pipe(Sr.iC)}}class dG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?OD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ai(t=>t.length>0),Sr.iC):OD(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=l4(e);return a4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return kM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Sr.iC)}get(e){return(0,Tr.D)(this.query.get(e)).pipe(Sr.iC)}}const d4=new c.OlP("angularfire2.enableFirestorePersistence"),h4=new c.OlP("angularfire2.firestore.persistenceSettings"),hG=new c.OlP("angularfire2.firestore.settings"),fG=new c.OlP("angularfire2.firestore.use-emulator");function f4(n,e=(t=>t)){return{query:e(n),ref:n}}let Fw=(()=>{class n{constructor(t,r,i,s,o,u,h,p,_,w,E,C,I,D,M,j,z){this.schedulers=h;const V=(0,ms.on)(t,u,r),oe=_;w&&DM(V,u,E,I,D,M,C,j),[this.firestore,this.persistenceEnabled$]=(0,ms.cc)(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const be=u.runOutsideAngular(()=>V.firestore());if(s&&be.settings(s),oe&&be.useEmulator(...oe),i&&!ho(o)){const Ie=()=>{try{return(0,Tr.D)(be.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(re){return"undefined"!=typeof console&&console.warn(re),un(!1)}};return[be,u.runOutsideAngular(Ie)]}return[be,un(!1)]},[s,oe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=f4(i,r),u=this.schedulers.ngZone.run(()=>s);return new c4(u,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new dG(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new u4(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ms.Dh),c.LFG(ms.xv,8),c.LFG(d4,8),c.LFG(hG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Sr.HU),c.LFG(h4,8),c.LFG(fG,8),c.LFG(Mw,8),c.LFG(bM,8),c.LFG(TM,8),c.LFG(CM,8),c.LFG(SM,8),c.LFG(AM,8),c.LFG(IM,8),c.LFG(gT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pG=(()=>{class n{constructor(){PD.Z.registerVersion("angularfire",Sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:d4,useValue:!0},{provide:h4,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fw]}),n})(),mT=(()=>{class n{constructor(t,r){this.db=t,this.afauth=r,this.employeePath="users",this.userRef=this.db.collection(this.employeePath),this.users=t.collection("users").valueChanges(),console.log(this.users)}updateUserData(t,r){console.log(r),this.db.collection("users").doc(t).update(r)}removeEmployee(t,r,i){this.userRef.doc(t).delete(),this.userRef.doc(t).collection("task").get().subscribe(s=>{console.log(s),s.forEach(o=>{o.ref.delete()})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fw),c.LFG(Mw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",4)(1,"div",5)(2,"a",6),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().remove(s.uid,s.email,s.passowrd)}),c._uU(3,"X"),c.qZA(),c.TgZ(4,"div",7)(5,"div",8),c._UZ(6,"img",9),c.qZA(),c.TgZ(7,"h4",10),c._uU(8),c.qZA(),c.TgZ(9,"p",11),c._uU(10,"@Programmer "),c.TgZ(11,"span",12),c._uU(12,"|"),c.qZA(),c.TgZ(13,"a"),c._uU(14),c.qZA()(),c.TgZ(15,"button",13),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().onView(s.uid)}),c._uU(16," View Now "),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(8),c.AsE("",null!=(null==t?null:t.firstname)?t.firstname:"User","",null==t?null:t.lastname,""),c.xp6(6),c.Oqu(t.email)}}let mG=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}ngOnInit(){this.userService.users.subscribe(t=>{this.users=t})}onView(t){this.router.navigate(["/admin/adminEmployeeList/"+t])}remove(t,r,i){sp().fire({title:"Are you sure want to remove?",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(s=>{s.value?(sp().fire("Deleted!","Your imaginary file has been deleted.","success"),this.userService.removeEmployee(t,r,i)):s.dismiss===sp().DismissReason.cancel&&sp().fire("Cancelled","Your imaginary file is safe :)","error")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mT),c.Y36(Er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin-employee-list"]],decls:7,vars:1,consts:[[1,"container"],["data-toggle","modal","data-target","#exampleModal2","routerLink","/addEmployee",1,"btn","btn-primary","btn-sm"],[1,"row","d-flex","h-100"],["class","col-md-12 col-xl-4",4,"ngFor","ngForOf"],[1,"col-md-12","col-xl-4"],[1,"card",2,"border-radius","15px"],[2,"float","right","text-align","right","margin-right","10px",3,"click"],[1,"card-body","text-center"],[1,"mt-3","mb-4"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp",1,"rounded-circle","img-fluid",2,"width","100px"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"mx-2"],["type","button",1,"btn","btn-primary","btn-rounded","btn-sm",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"button",1),c._uU(2,"Add"),c.qZA(),c._UZ(3,"hr"),c.TgZ(4,"div",2),c.YNc(5,gG,17,3,"div",3),c.qZA()(),c._UZ(6,"router-outlet")),2&t&&(c.xp6(5),c.Q6J("ngForOf",r.users))},directives:[Md,Fr,Mc],styles:[".card[_ngcontent-%COMP%]{height:400px}"]}),n})();var _T_version="0.18.5",qc=1200,Pv=1252,_G=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],OM={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},MD=function(n){-1!=_G.indexOf(n)&&(Pv=OM[0]=n)},Gu=function(n){qc=n,MD(n)};var Ir,vT=function(e){return String.fromCharCode(e)},MM=function(e){return String.fromCharCode(e)},tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wT(n){for(var e="",t=0,r=0,i=0,s=0,o=0,u=0,h=0,p=0;p<n.length;)s=(t=n.charCodeAt(p++))>>2,o=(3&t)<<4|(r=n.charCodeAt(p++))>>4,u=(15&r)<<2|(i=n.charCodeAt(p++))>>6,h=63&i,isNaN(r)?u=h=64:isNaN(i)&&(h=64),e+=tm.charAt(s)+tm.charAt(o)+tm.charAt(u)+tm.charAt(h);return e}function zc(n){var e="",s=0,o=0,u=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<n.length;)s=tm.indexOf(n.charAt(p++)),o=tm.indexOf(n.charAt(p++)),e+=String.fromCharCode(s<<2|o>>4),64!==(u=tm.indexOf(n.charAt(p++)))&&(e+=String.fromCharCode((15&o)<<4|u>>2)),64!==(h=tm.indexOf(n.charAt(p++)))&&(e+=String.fromCharCode((3&u)<<6|h));return e}var nr=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),Xp=function(){if("undefined"!=typeof Buffer){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch(e){n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function nm(n){return nr?Buffer.alloc?Buffer.alloc(n):new Buffer(n):"undefined"!=typeof Uint8Array?new Uint8Array(n):new Array(n)}function g4(n){return nr?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):"undefined"!=typeof Uint8Array?new Uint8Array(n):new Array(n)}var Zc=function(e){return nr?Xp(e,"binary"):e.split("").map(function(t){return 255&t.charCodeAt(0)})};function xT(n){if("undefined"==typeof ArrayBuffer)return Zc(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=255&n.charCodeAt(r);return e}function rm(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}var jo=nr?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Xp(e)}))}:function(n){if("undefined"!=typeof Uint8Array){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if("string"==typeof n[e])throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},Da=/\u0000/g,ET=/[\u0001-\u0006]/g;function Rw(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Qd(n,e){var t=""+n;return t.length>=e?t:ws("0",e-t.length)+t}function NM(n,e){var t=""+n;return t.length>=e?t:ws(" ",e-t.length)+t}function RD(n,e){var t=""+n;return t.length>=e?t:t+ws(" ",e-t.length)}var m4=Math.pow(2,32);function Lw(n,e){return n>m4||n<-m4?function EG(n,e){var t=""+Math.round(n);return t.length>=e?t:ws("0",e-t.length)+t}(n,e):function bG(n,e){var t=""+n;return t.length>=e?t:ws("0",e-t.length)+t}(Math.round(n),e)}function LD(n,e){return n.length>=7+(e=e||0)&&103==(32|n.charCodeAt(e))&&101==(32|n.charCodeAt(e+1))&&110==(32|n.charCodeAt(e+2))&&101==(32|n.charCodeAt(e+3))&&114==(32|n.charCodeAt(e+4))&&97==(32|n.charCodeAt(e+5))&&108==(32|n.charCodeAt(e+6))}var _4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],RM=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Mn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},v4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},CG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function BD(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,u=0,h=1,p=0,_=0,w=Math.floor(i);p<e&&(u=(w=Math.floor(i))*o+s,_=w*p+h,!(i-w<5e-8));)i=1/(i-w),s=o,o=u,h=p,p=_;if(_>e&&(p>e?(_=h,u=s):(_=p,u=o)),!t)return[0,r*u,_];var E=Math.floor(r*u/_);return[E,r*u-E*_,_]}function im(n,e,t){if(n>2958465||n<0)return null;var r=0|n,i=Math.floor(86400*(n-r)),s=0,o=[],u={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,86400==++i&&(u.T=i=0,++r,++u.D)),60===r)o=t?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),r<60&&(s=(s+6)%7),t&&(s=function PG(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}(h,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var y4=new Date(1899,11,31,0,0,0),SG=y4.getTime(),AG=new Date(1900,2,1,0,0,0);function w4(n,e){var t=n.getTime();return e?t-=1262304e5:n>=AG&&(t+=864e5),(t-(SG+6e4*(n.getTimezoneOffset()-y4.getTimezoneOffset())))/864e5}function LM(n){return-1==n.indexOf(".")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ov(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(0|n)===n?n.toString(10):function bT(n){var t,e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return t=e>=-4&&e<=-1?n.toPrecision(10+e):Math.abs(e)<=9?function DG(n){var e=n<0?12:11,t=LM(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10)).length<=e?t:n.toExponential(5)}(n):10===e?n.toFixed(10).substr(0,12):function kG(n){var e=LM(n.toFixed(11));return e.length>(n<0?12:11)||"0"===e||"-0"===e?n.toPrecision(6):e}(n),LM(function IG(n){return-1==n.indexOf("E")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(n);case"undefined":return"";case"object":if(null==n)return"";if(n instanceof Date)return Kc(14,w4(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function OG(n,e,t,r){var h,i="",s=0,o=0,u=t.y,p=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,p=2;break;default:h=u%1e4,p=4}break;case 109:switch(e.length){case 1:case 2:h=t.m,p=e.length;break;case 3:return RM[t.m-1][1];case 5:return RM[t.m-1][0];default:return RM[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,p=e.length;break;case 3:return _4[t.q][0];default:return _4[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,p=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,p=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,p=e.length;break;default:throw"bad minute format: "+e}break;case 115:if("s"!=e&&"ss"!=e&&".0"!=e&&".00"!=e&&".000"!=e)throw"bad second format: "+e;return 0!==t.u||"s"!=e&&"ss"!=e?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(t.S+t.u)))>=60*o&&(s=0),"s"===e?0===s?"0":""+s/o:(i=Qd(s,2+r),"ss"===e?i.substr(0,2):"."+i.substr(2,e.length-1))):Qd(t.S,e.length);case 90:switch(e){case"[h]":case"[hh]":h=24*t.D+t.H;break;case"[m]":case"[mm]":h=60*(24*t.D+t.H)+t.M;break;case"[s]":case"[ss]":h=60*(60*(24*t.D+t.H)+t.M)+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}p=3===e.length?1:2;break;case 101:h=u,p=1}return p>0?Qd(h,p):""}function sm(n){if(n.length<=3)return n;for(var t=n.length%3,r=n.substr(0,t);t!=n.length;t+=3)r+=(r.length>0?",":"")+n.substr(t,3);return r}var x4=/%/g;function E4(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+E4(n,-e);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(e)*Math.LOG10E);for(-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);"0."===t.substr(0,2);)t=(t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,_){return h+p+_.substr(0,(i+s)%i)+"."+_.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var b4=/# (\?+)( ?)\/( ?)(\d+)/,T4=/^#*0*\.([0#]+)/,C4=/\).*[0#]/,S4=/\(###\) ###\\?-####/;function yl(n){for(var t,e="",r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function A4(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function I4(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function $u(n,e,t){if(40===n.charCodeAt(0)&&!e.match(C4)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?$u("n",r,t):"("+$u("n",r,-t)+")"}if(44===e.charCodeAt(e.length-1))return function FG(n,e,t){for(var r=e.length-1;44===e.charCodeAt(r-1);)--r;return Jp(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}(n,e,t);if(-1!==e.indexOf("%"))return function MG(n,e,t){var r=e.replace(x4,""),i=e.length-r.length;return Jp(n,r,t*Math.pow(10,2*i))+ws("%",i)}(n,e,t);if(-1!==e.indexOf("E"))return E4(e,t);if(36===e.charCodeAt(0))return"$"+$u(n,e.substr(" "==e.charAt(1)?2:1),t);var i,s,o,u,h=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+Lw(h,e.length);if(e.match(/^[#?]+$/))return"0"===(i=Lw(t,0))&&(i=""),i.length>e.length?i:yl(e.substr(0,e.length-i.length))+i;if(s=e.match(b4))return function NG(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,u=r;return t+(0===s?"":""+s)+" "+(0===o?ws(" ",n[1].length+1+n[4].length):NM(o,n[1].length)+n[2]+"/"+n[3]+Qd(u,n[4].length))}(s,h,p);if(e.match(/^#+0+$/))return p+Lw(h,e.length-e.indexOf("0"));if(s=e.match(T4))return i=A4(t,s[1].length).replace(/^([^\.]+)$/,"$1."+yl(s[1])).replace(/\.$/,"."+yl(s[1])).replace(/\.(\d*)$/,function(I,D){return"."+D+ws("0",yl(s[1]).length-D.length)}),-1!==e.indexOf("0.")?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+A4(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+sm(Lw(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+$u(n,e,-t):sm(""+(Math.floor(t)+function LG(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}(t,s[1].length)))+"."+Qd(I4(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return $u(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rw($u(n,e.replace(/[\\-]/g,""),t)),o=0,Rw(Rw(e.replace(/\\/g,"")).replace(/[0#]/g,function(I){return o<i.length?i.charAt(o++):"0"===I?"0":""}));if(e.match(S4))return"("+(i=$u(n,"##########",t)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var _="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=BD(h,Math.pow(10,o)-1,!1),i=""+p," "==(_=Jp("n",s[1],u[1])).charAt(_.length-1)&&(_=_.substr(0,_.length-1)+"0"),i+=_+s[2]+"/"+s[3],(_=RD(u[2],o)).length<s[4].length&&(_=yl(s[4].substr(s[4].length-_.length))+_),i+=_;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),p+((u=BD(h,Math.pow(10,o)-1,!0))[0]||(u[1]?"":"0"))+" "+(u[1]?NM(u[1],o)+s[2]+"/"+s[3]+RD(u[2],o):ws(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Lw(t,0),e.length<=i.length?i:yl(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var w=e.indexOf(".")-o,E=e.length-i.length-w;return yl(e.substr(0,w)+i+e.substr(e.length-E))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=I4(t,s[1].length),t<0?"-"+$u(n,e,-t):sm(function BG(n){return n<2147483647&&n>-2147483648?""+(n>=0?0|n:n-1|0):""+Math.floor(n)}(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(I){return"00,"+(I.length<3?Qd(0,3-I.length):"")+I})+"."+Qd(o,s[1].length);switch(e){case"###,##0.00":return $u(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var C=sm(Lw(h,0));return"0"!==C?p+C:"";case"###,###.00":return $u(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return $u(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function D4(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+D4(n,-e);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),!(t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,p,_){return h+p+_.substr(0,(i+s)%i)+"."+_.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ff(n,e,t){if(40===n.charCodeAt(0)&&!e.match(C4)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ff("n",r,t):"("+ff("n",r,-t)+")"}if(44===e.charCodeAt(e.length-1))return function UG(n,e,t){for(var r=e.length-1;44===e.charCodeAt(r-1);)--r;return Jp(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}(n,e,t);if(-1!==e.indexOf("%"))return function VG(n,e,t){var r=e.replace(x4,""),i=e.length-r.length;return Jp(n,r,t*Math.pow(10,2*i))+ws("%",i)}(n,e,t);if(-1!==e.indexOf("E"))return D4(e,t);if(36===e.charCodeAt(0))return"$"+ff(n,e.substr(" "==e.charAt(1)?2:1),t);var i,s,o,u,h=Math.abs(t),p=t<0?"-":"";if(e.match(/^00+$/))return p+Qd(h,e.length);if(e.match(/^[#?]+$/))return i=""+t,0===t&&(i=""),i.length>e.length?i:yl(e.substr(0,e.length-i.length))+i;if(s=e.match(b4))return function RG(n,e,t){return t+(0===e?"":""+e)+ws(" ",n[1].length+2+n[4].length)}(s,h,p);if(e.match(/^#+0+$/))return p+Qd(h,e.length-e.indexOf("0"));if(s=e.match(T4))return i=(i=(""+t).replace(/^([^\.]+)$/,"$1."+yl(s[1])).replace(/\.$/,"."+yl(s[1]))).replace(/\.(\d*)$/,function(I,D){return"."+D+ws("0",yl(s[1]).length-D.length)}),-1!==e.indexOf("0.")?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return p+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return p+sm(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ff(n,e,-t):sm(""+t)+"."+ws("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ff(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rw(ff(n,e.replace(/[\\-]/g,""),t)),o=0,Rw(Rw(e.replace(/\\/g,"")).replace(/[0#]/g,function(I){return o<i.length?i.charAt(o++):"0"===I?"0":""}));if(e.match(S4))return"("+(i=ff(n,"##########",t)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var _="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=BD(h,Math.pow(10,o)-1,!1),i=""+p," "==(_=Jp("n",s[1],u[1])).charAt(_.length-1)&&(_=_.substr(0,_.length-1)+"0"),i+=_+s[2]+"/"+s[3],(_=RD(u[2],o)).length<s[4].length&&(_=yl(s[4].substr(s[4].length-_.length))+_),i+=_;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),p+((u=BD(h,Math.pow(10,o)-1,!0))[0]||(u[1]?"":"0"))+" "+(u[1]?NM(u[1],o)+s[2]+"/"+s[3]+RD(u[2],o):ws(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return e.length<=(i=""+t).length?i:yl(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var w=e.indexOf(".")-o,E=e.length-i.length-w;return yl(e.substr(0,w)+i+e.substr(e.length-E))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ff(n,e,-t):sm(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(I){return"00,"+(I.length<3?Qd(0,3-I.length):"")+I})+"."+Qd(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var C=sm(""+h);return"0"!==C?p+C:"";default:if(e.match(/\.[0#?]*$/))return ff(n,e.slice(0,e.lastIndexOf(".")),t)+yl(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Jp(n,e,t){return(0|t)===t?ff(n,e,t):$u(n,e,t)}var k4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Bw(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":LD(n,e)&&(e+=6),e++;break;case'"':for(;34!==n.charCodeAt(++e)&&e<n.length;);++e;break;case"\\":case"_":e+=2;break;case"@":++e;break;case"B":case"b":if("1"===n.charAt(e+1)||"2"===n.charAt(e+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===n.substr(e,3).toUpperCase()||"AM/PM"===n.substr(e,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===n.substr(e,5).toUpperCase())return!0;++e;break;case"[":for(r=t;"]"!==n.charAt(e++)&&e<n.length;)r+=n.charAt(e);if(r.match(k4))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||"\\"==t&&"-"==n.charAt(e+1)&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(" "==n.charAt(e)||"*"==n.charAt(e))&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;default:++e}return!1}var P4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function O4(n,e){if(null==e)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0}return!1}function Kc(n,e,t){null==t&&(t={});var r="";switch(typeof n){case"string":r="m/d/yy"==n&&t.dateNF?t.dateNF:n;break;case"number":null==(r=14==n&&t.dateNF?t.dateNF:(null!=t.table?t.table:Mn)[n])&&(r=t.table&&t.table[v4[n]]||Mn[v4[n]]),null==r&&(r=CG[n]||"General")}if(LD(r,0))return Ov(e,t);e instanceof Date&&(e=w4(e,t.date1904));var i=function GG(n,e){var t=function HG(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),!0===t)throw new Error("Format |"+n+"| unterminated string ");return e}(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if("number"!=typeof e)return[4,4===t.length||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"]}var s=e>0?t[0]:e<0?t[1]:t[2];if(-1===t[0].indexOf("[")&&-1===t[1].indexOf("["))return[r,s];if(null!=t[0].match(/\[[=<>]/)||null!=t[1].match(/\[[=<>]/)){var o=t[0].match(P4),u=t[1].match(P4);return O4(e,o)?[r,t[0]]:O4(e,u)?[r,t[1]]:[r,t[null!=o&&null!=u?2:1]]}return[r,s]}(r,e);if(LD(i[1]))return Ov(e,t);if(!0===e)e="TRUE";else if(!1===e)e="FALSE";else if(""===e||null==e)return"";return function jG(n,e,t,r){for(var p,_,w,i=[],s="",o=0,u="",h="t",E="H";o<n.length;)switch(u=n.charAt(o)){case"G":if(!LD(n,o))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(w=n.charCodeAt(++o))&&o<n.length;)s+=String.fromCharCode(w);i[i.length]={t:"t",v:s},++o;break;case"\\":var C=n.charAt(++o);i[i.length]={t:"("===C||")"===C?C:"t",v:C},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if("1"===n.charAt(o+1)||"2"===n.charAt(o+1)){if(null==p&&null==(p=im(e,t,"2"===n.charAt(o+1))))return"";i[i.length]={t:"X",v:n.substr(o,2)},h=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||null==p&&null==(p=im(e,t)))return"";for(s=u;++o<n.length&&n.charAt(o).toLowerCase()===u;)s+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=E),i[i.length]={t:u,v:s},h=u;break;case"A":case"a":case"\u4e0a":var D={t:u,v:u};if(null==p&&(p=im(e,t)),"A/P"===n.substr(o,3).toUpperCase()?(null!=p&&(D.v=p.H>=12?"P":"A"),D.t="T",E="h",o+=3):"AM/PM"===n.substr(o,5).toUpperCase()?(null!=p&&(D.v=p.H>=12?"PM":"AM"),D.t="T",o+=5,E="h"):"\u4e0a\u5348/\u4e0b\u5348"===n.substr(o,5).toUpperCase()?(null!=p&&(D.v=p.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),D.t="T",o+=5,E="h"):(D.t="t",++o),null==p&&"T"===D.t)return"";i[i.length]=D,h=u;break;case"[":for(s=u;"]"!==n.charAt(o++)&&o<n.length;)s+=n.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(k4)){if(null==p&&null==(p=im(e,t)))return"";i[i.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Bw(n)||(i[i.length]={t:"t",v:s}));break;case".":if(null!=p){for(s=u;++o<n.length&&"0"===(u=n.charAt(o));)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++o<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(o))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++o)===u;)s+=u;i[i.length]={t:u,v:s},h=u;break;case"*":++o,(" "==n.charAt(o)||"*"==n.charAt(o))&&++o;break;case"(":case")":i[i.length]={t:1===r?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"t",v:u},++o}var z,M=0,j=0;for(o=i.length-1,h="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=E,h="h",M<1&&(M=1);break;case"s":(z=i[o].v.match(/\.0+$/))&&(j=Math.max(j,z[0].length-1)),M<3&&(M=3);case"d":case"y":case"M":case"e":h=i[o].t;break;case"m":"s"===h&&(i[o].t="M",M<2&&(M=2));break;case"X":break;case"Z":M<1&&i[o].v.match(/[Hh]/)&&(M=1),M<2&&i[o].v.match(/[Mm]/)&&(M=2),M<3&&i[o].v.match(/[Ss]/)&&(M=3)}switch(M){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M)}var oe,V="";for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=OG(i[o].t.charCodeAt(0),i[o].v,p,j),i[o].t="t";break;case"n":case"?":for(oe=o+1;null!=i[oe]&&("?"===(u=i[oe].t)||"D"===u||(" "===u||"t"===u)&&null!=i[oe+1]&&("?"===i[oe+1].t||"t"===i[oe+1].t&&"/"===i[oe+1].v)||"("===i[o].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===i[oe].v||" "===i[oe].v&&null!=i[oe+1]&&"?"==i[oe+1].t));)i[o].v+=i[oe].v,i[oe]={v:"",t:";"},++oe;V+=i[o].v,o=oe-1;break;case"G":i[o].t="t",i[o].v=Ov(e,t)}var Ie,re,be="";if(V.length>0){40==V.charCodeAt(0)?(Ie=e<0&&45===V.charCodeAt(0)?-e:e,re=Jp("n",V,Ie)):(re=Jp("n",V,Ie=e<0&&r>1?-e:e),Ie<0&&i[0]&&"t"==i[0].t&&(re=re.substr(1),i[0].v="-"+i[0].v)),oe=re.length-1;var Ae=i.length;for(o=0;o<i.length;++o)if(null!=i[o]&&"t"!=i[o].t&&i[o].v.indexOf(".")>-1){Ae=o;break}var Se=i.length;if(Ae===i.length&&-1===re.indexOf("E")){for(o=i.length-1;o>=0;--o)null==i[o]||-1==="n?".indexOf(i[o].t)||(oe>=i[o].v.length-1?i[o].v=re.substr(1+(oe-=i[o].v.length),i[o].v.length):oe<0?i[o].v="":(i[o].v=re.substr(0,oe+1),oe=-1),i[o].t="t",Se=o);oe>=0&&Se<i.length&&(i[Se].v=re.substr(0,oe+1)+i[Se].v)}else if(Ae!==i.length&&-1===re.indexOf("E")){for(oe=re.indexOf(".")-1,o=Ae;o>=0;--o)if(null!=i[o]&&-1!=="n?".indexOf(i[o].t)){for(_=i[o].v.indexOf(".")>-1&&o===Ae?i[o].v.indexOf(".")-1:i[o].v.length-1,be=i[o].v.substr(_+1);_>=0;--_)oe>=0&&("0"===i[o].v.charAt(_)||"#"===i[o].v.charAt(_))&&(be=re.charAt(oe--)+be);i[o].v=be,i[o].t="t",Se=o}for(oe>=0&&Se<i.length&&(i[Se].v=re.substr(0,oe+1)+i[Se].v),oe=re.indexOf(".")+1,o=Ae;o<i.length;++o)if(null!=i[o]&&(-1!=="n?(".indexOf(i[o].t)||o===Ae)){for(_=i[o].v.indexOf(".")>-1&&o===Ae?i[o].v.indexOf(".")+1:0,be=i[o].v.substr(0,_);_<i[o].v.length;++_)oe<re.length&&(be+=re.charAt(oe++));i[o].v=be,i[o].t="t",Se=o}}}for(o=0;o<i.length;++o)null!=i[o]&&"n?".indexOf(i[o].t)>-1&&(i[o].v=Jp(i[o].t,i[o].v,Ie=r>1&&e<0&&o>0&&"-"===i[o-1].v?-e:e),i[o].t="t");var We="";for(o=0;o!==i.length;++o)null!=i[o]&&(We+=i[o].v);return We}(i[1],e,t,i[0])}function pf(n,e){if("number"!=typeof e){e=+e||-1;for(var t=0;t<392;++t)if(null!=Mn[t]){if(Mn[t]==n){e=t;break}}else e<0&&(e=t);e<0&&(e=391)}return Mn[e]=n,e}function TT(n){for(var e=0;392!=e;++e)void 0!==n[e]&&pf(n[e],e)}function Uw(){Mn=function TG(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',n}()}var M4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,ZG=function(){var n={version:"1.2.0"},t=function e(){for(var re=0,Ae=new Array(256),Se=0;256!=Se;++Se)Ae[Se]=re=1&(re=1&(re=1&(re=1&(re=1&(re=1&(re=1&(re=1&(re=Se)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1)?-306674912^re>>>1:re>>>1;return"undefined"!=typeof Int32Array?new Int32Array(Ae):Ae}(),i=function r(re){var Ae=0,Se=0,We=0,Je="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(We=0;256!=We;++We)Je[We]=re[We];for(We=0;256!=We;++We)for(Se=re[We],Ae=256+We;Ae<4096;Ae+=256)Se=Je[Ae]=Se>>>8^re[255&Se];var Me=[];for(We=1;16!=We;++We)Me[We-1]="undefined"!=typeof Int32Array?Je.subarray(256*We,256*We+256):Je.slice(256*We,256*We+256);return Me}(t),s=i[0],o=i[1],u=i[2],h=i[3],p=i[4],_=i[5],w=i[6],E=i[7],C=i[8],I=i[9],D=i[10],M=i[11],j=i[12],z=i[13],V=i[14];return n.table=t,n.bstr=function oe(re,Ae){for(var Se=-1^Ae,We=0,Je=re.length;We<Je;)Se=Se>>>8^t[255&(Se^re.charCodeAt(We++))];return~Se},n.buf=function be(re,Ae){for(var Se=-1^Ae,We=re.length-15,Je=0;Je<We;)Se=V[re[Je++]^255&Se]^z[re[Je++]^Se>>8&255]^j[re[Je++]^Se>>16&255]^M[re[Je++]^Se>>>24]^D[re[Je++]]^I[re[Je++]]^C[re[Je++]]^E[re[Je++]]^w[re[Je++]]^_[re[Je++]]^p[re[Je++]]^h[re[Je++]]^u[re[Je++]]^o[re[Je++]]^s[re[Je++]]^t[re[Je++]];for(We+=15;Je<We;)Se=Se>>>8^t[255&(Se^re[Je++])];return~Se},n.str=function Ie(re,Ae){for(var Se=-1^Ae,We=0,Je=re.length,Me=0,Dt=0;We<Je;)(Me=re.charCodeAt(We++))<128?Se=Se>>>8^t[255&(Se^Me)]:Me<2048?Se=(Se=Se>>>8^t[255&(Se^(192|Me>>6&31))])>>>8^t[255&(Se^(128|63&Me))]:Me>=55296&&Me<57344?(Me=64+(1023&Me),Dt=1023&re.charCodeAt(We++),Se=(Se=(Se=(Se=Se>>>8^t[255&(Se^(240|Me>>8&7))])>>>8^t[255&(Se^(128|Me>>2&63))])>>>8^t[255&(Se^(128|Dt>>6&15|(3&Me)<<4))])>>>8^t[255&(Se^(128|63&Dt))]):Se=(Se=(Se=Se>>>8^t[255&(Se^(224|Me>>12&15))])>>>8^t[255&(Se^(128|Me>>6&63))])>>>8^t[255&(Se^(128|63&Me))];return~Se},n}(),kn=function(){var h,e={};function r(H){if("/"==H.charAt(H.length-1))return-1===H.slice(0,-1).indexOf("/")?H:r(H.slice(0,-1));var ie=H.lastIndexOf("/");return-1===ie?H:H.slice(0,ie+1)}function i(H){if("/"==H.charAt(H.length-1))return i(H.slice(0,-1));var ie=H.lastIndexOf("/");return-1===ie?H:H.slice(ie+1)}function s(H,ie){"string"==typeof ie&&(ie=new Date(ie));var ee=ie.getHours();ee=(ee=ee<<6|ie.getMinutes())<<5|ie.getSeconds()>>>1,H.write_shift(2,ee);var ne=ie.getFullYear()-1980;ne=(ne=ne<<4|ie.getMonth()+1)<<5|ie.getDate(),H.write_shift(2,ne)}function u(H){ca(H,0);for(var ie={},ee=0;H.l<=H.length-4;){var ne=H.read_shift(2),ae=H.read_shift(2),ce=H.l+ae,He={};21589===ne&&(1&(ee=H.read_shift(1))&&(He.mtime=H.read_shift(4)),ae>5&&(2&ee&&(He.atime=H.read_shift(4)),4&ee&&(He.ctime=H.read_shift(4))),He.mtime&&(He.mt=new Date(1e3*He.mtime))),H.l=ce,ie[ne]=He}return ie}function p(){return h||(h={})}function _(H,ie){if(80==H[0]&&75==H[1])return c9(H,ie);if(109==(32|H[0])&&105==(32|H[1]))return function zfe(H,ie){if("mime-version:"!=xt(H.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var ee=ie&&ie.root||"",ne=(nr&&Buffer.isBuffer(H)?H.toString("binary"):xt(H)).split("\r\n"),ae=0,ce="";for(ae=0;ae<ne.length;++ae)if(/^Content-Location:/i.test(ce=ne[ae])&&(ce=ce.slice(ce.indexOf("file")),ee||(ee=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=(ee=ee.slice(0,ee.length-1)).slice(0,ee.lastIndexOf("/")+1),ce.slice(0,ee.length)!=ee););var He=(ne[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var it="--"+(He[1]||""),$e={FileIndex:[],FullPaths:[]};re($e);var It,$t=0;for(ae=0;ae<ne.length;++ae){var _n=ne[ae];_n!==it&&_n!==it+"--"||($t++&&qfe($e,ne.slice(It,ae),ee),It=ae)}return $e}(H,ie);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var ee,ae,ce,He,it,Ge,ne=512,je=[],$e=H.slice(0,512);ca($e,0);var It=function w(H){if(80==H[H.l]&&75==H[H.l+1])return[0,0];H.chk(cn,"Header Signature: "),H.l+=16;var ie=H.read_shift(2,"u");return[H.read_shift(2,"u"),ie]}($e);switch(ee=It[0]){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(0==It[1])return c9(H,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}512!==ne&&ca($e=H.slice(0,ne),28);var $t=H.slice(0,ne);!function E(H,ie){var ee;switch(H.l+=2,ee=H.read_shift(2)){case 9:if(3!=ie)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(4!=ie)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}($e,ee);var _n=$e.read_shift(4,"i");if(3===ee&&0!==_n)throw new Error("# Directory Sectors: Expected 0 saw "+_n);$e.l+=4,He=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),it=$e.read_shift(4,"i"),ae=$e.read_shift(4,"i"),Ge=$e.read_shift(4,"i"),ce=$e.read_shift(4,"i");for(var Wt=-1,Xt=0;Xt<109&&!((Wt=$e.read_shift(4,"i"))<0);++Xt)je[Xt]=Wt;var zn=function C(H,ie){for(var ee=Math.ceil(H.length/ie)-1,ne=[],ae=1;ae<ee;++ae)ne[ae-1]=H.slice(ae*ie,(ae+1)*ie);return ne[ee-1]=H.slice(ee*ie),ne}(H,ne);M(Ge,ce,zn,ne,je);var Fi=function z(H,ie,ee,ne){var ae=H.length,ce=[],He=[],it=[],Ge=[],je=ne-1,$e=0,It=0,$t=0,_n=0;for($e=0;$e<ae;++$e)if(it=[],($t=$e+ie)>=ae&&($t-=ae),!He[$t]){Ge=[];var Wt=[];for(It=$t;It>=0;){Wt[It]=!0,He[It]=!0,it[it.length]=It,Ge.push(H[It]);var Xt=ee[Math.floor(4*It/ne)];if(ne<4+(_n=4*It&je))throw new Error("FAT boundary crossed: "+It+" 4 "+ne);if(!H[Xt]||Wt[It=Fv(H[Xt],_n)])break}ce[$t]={nodes:it,data:t6([Ge])}}return ce}(zn,He,je,ne);Fi[He].name="!Directory",ae>0&&it!==Dt&&(Fi[it].name="!MiniFAT"),Fi[je[0]].name="!FAT",Fi.fat_addrs=je,Fi.ssz=ne;var co=[],ru=[],jC=[];(function V(H,ie,ee,ne,ae,ce,He,it){for(var _n,Ge=0,je=ne.length?2:0,$e=ie[H].data,It=0,$t=0;It<$e.length;It+=128){var Wt=$e.slice(It,It+128);ca(Wt,64),$t=Wt.read_shift(2),_n=GD(Wt,0,$t-je),ne.push(_n);var Xt={name:_n,type:Wt.read_shift(1),color:Wt.read_shift(1),L:Wt.read_shift(4,"i"),R:Wt.read_shift(4,"i"),C:Wt.read_shift(4,"i"),clsid:Wt.read_shift(16),state:Wt.read_shift(4,"i"),start:0,size:0};0!==Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)&&(Xt.ct=oe(Wt,Wt.l-8)),0!==Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)&&(Xt.mt=oe(Wt,Wt.l-8)),Xt.start=Wt.read_shift(4,"i"),Xt.size=Wt.read_shift(4,"i"),Xt.size<0&&Xt.start<0&&(Xt.size=Xt.type=0,Xt.start=Dt,Xt.name=""),5===Xt.type?(Ge=Xt.start,ae>0&&Ge!==Dt&&(ie[Ge].name="!StreamData")):Xt.size>=4096?(Xt.storage="fat",void 0===ie[Xt.start]&&(ie[Xt.start]=j(ee,Xt.start,ie.fat_addrs,ie.ssz)),ie[Xt.start].name=Xt.name,Xt.content=ie[Xt.start].data.slice(0,Xt.size)):(Xt.storage="minifat",Xt.size<0?Xt.size=0:Ge!==Dt&&Xt.start!==Dt&&ie[Ge]&&(Xt.content=D(Xt,ie[Ge].data,(ie[it]||{}).data))),Xt.content&&ca(Xt.content,0),ce[_n]=Xt,He.push(Xt)}})(He,Fi,zn,co,ae,{},ru,it),function I(H,ie,ee){for(var ne=0,ae=0,ce=0,He=0,it=0,Ge=ee.length,je=[],$e=[];ne<Ge;++ne)je[ne]=$e[ne]=ne,ie[ne]=ee[ne];for(;it<$e.length;++it)ae=H[ne=$e[it]].L,ce=H[ne].R,He=H[ne].C,je[ne]===ne&&(-1!==ae&&je[ae]!==ae&&(je[ne]=je[ae]),-1!==ce&&je[ce]!==ce&&(je[ne]=je[ce])),-1!==He&&(je[He]=ne),-1!==ae&&ne!=je[ne]&&(je[ae]=je[ne],$e.lastIndexOf(ae)<it&&$e.push(ae)),-1!==ce&&ne!=je[ne]&&(je[ce]=je[ne],$e.lastIndexOf(ce)<it&&$e.push(ce));for(ne=1;ne<Ge;++ne)je[ne]===ne&&(-1!==ce&&je[ce]!==ce?je[ne]=je[ce]:-1!==ae&&je[ae]!==ae&&(je[ne]=je[ae]));for(ne=1;ne<Ge;++ne)if(0!==H[ne].type){if((it=ne)!=je[it])do{ie[ne]=ie[it=je[it]]+"/"+ie[ne]}while(0!==it&&-1!==je[it]&&it!=je[it]);je[ne]=-1}for(ie[0]+="/",ne=1;ne<Ge;++ne)2!==H[ne].type&&(ie[ne]+="/")}(ru,jC,co),co.shift();var GC={FileIndex:ru,FullPaths:jC};return ie&&ie.raw&&(GC.raw={header:$t,sectors:zn}),GC}function D(H,ie,ee){for(var ae=H.size,ce=[],He=H.start;ee&&ae>0&&He>=0;)ce.push(ie.slice(He*Me,He*Me+Me)),ae-=Me,He=Fv(ee,4*He);return 0===ce.length?rt(0):jo(ce).slice(0,H.size)}function M(H,ie,ee,ne,ae){var ce=Dt;if(H===Dt){if(0!==ie)throw new Error("DIFAT chain shorter than expected")}else if(-1!==H){var He=ee[H],it=(ne>>>2)-1;if(!He)return;for(var Ge=0;Ge<it&&(ce=Fv(He,4*Ge))!==Dt;++Ge)ae.push(ce);M(Fv(He,ne-4),ie-1,ee,ne,ae)}}function j(H,ie,ee,ne,ae){var ce=[],He=[];ae||(ae=[]);var it=ne-1,Ge=0,je=0;for(Ge=ie;Ge>=0;){ae[Ge]=!0,ce[ce.length]=Ge,He.push(H[Ge]);var $e=ee[Math.floor(4*Ge/ne)];if(ne<4+(je=4*Ge&it))throw new Error("FAT boundary crossed: "+Ge+" 4 "+ne);if(!H[$e])break;Ge=Fv(H[$e],je)}return{nodes:ce,data:t6([He])}}function oe(H,ie){return new Date(1e3*($o(H,ie+4)/1e7*Math.pow(2,32)+$o(H,ie)/1e7-11644473600))}function re(H,ie){var ee=ie||{},ne=ee.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");0===H.FullPaths.length&&(H.FullPaths[0]=ne+"/",H.FileIndex[0]={name:ne,type:5}),ee.CLSID&&(H.FileIndex[0].clsid=ee.CLSID),function Ae(H){var ie="\x01Sh33tJ5";if(!kn.find(H,"/"+ie)){var ee=rt(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,H.FileIndex.push({name:ie,type:2,content:ee,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ie),Se(H)}}(H)}function Se(H,ie){re(H);for(var ee=!1,ne=!1,ae=H.FullPaths.length-1;ae>=0;--ae){var ce=H.FileIndex[ae];switch(ce.type){case 0:ne?ee=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(ce.R*ce.L*ce.C)&&(ee=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(ee=!0);break;default:ee=!0}}if(ee||ie){var He=new Date(1987,1,19),it=0,Ge=Object.create?Object.create(null):{},je=[];for(ae=0;ae<H.FullPaths.length;++ae)Ge[H.FullPaths[ae]]=!0,0!==H.FileIndex[ae].type&&je.push([H.FullPaths[ae],H.FileIndex[ae]]);for(ae=0;ae<je.length;++ae){var $e=r(je[ae][0]);(ne=Ge[$e])||(je.push([$e,{name:i($e).replace("/",""),type:1,clsid:_t,ct:He,mt:He,content:null}]),Ge[$e]=!0)}for(je.sort(function(_n,Wt){return function t(H,ie){for(var ee=H.split("/"),ne=ie.split("/"),ae=0,ce=0,He=Math.min(ee.length,ne.length);ae<He;++ae){if(ce=ee[ae].length-ne[ae].length)return ce;if(ee[ae]!=ne[ae])return ee[ae]<ne[ae]?-1:1}return ee.length-ne.length}(_n[0],Wt[0])}),H.FullPaths=[],H.FileIndex=[],ae=0;ae<je.length;++ae)H.FullPaths[ae]=je[ae][0],H.FileIndex[ae]=je[ae][1];for(ae=0;ae<je.length;++ae){var It=H.FileIndex[ae],$t=H.FullPaths[ae];if(It.name=i($t).replace("/",""),It.L=It.R=It.C=-(It.color=1),It.size=It.content?It.content.length:0,It.start=0,It.clsid=It.clsid||_t,0===ae)It.C=je.length>1?1:-1,It.size=0,It.type=5;else if("/"==$t.slice(-1)){for(it=ae+1;it<je.length&&r(H.FullPaths[it])!=$t;++it);for(It.C=it>=je.length?-1:it,it=ae+1;it<je.length&&r(H.FullPaths[it])!=r($t);++it);It.R=it>=je.length?-1:it,It.type=1}else r(H.FullPaths[ae+1]||"")==r($t)&&(It.R=ae+1),It.type=2}}}function We(H,ie){var ee=ie||{};if("mad"==ee.fileType)return function Zfe(H,ie){for(var ee=ie||{},ne=ee.boundary||"SheetJS",ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(ne="------="+ne).slice(2)+'"',"","",""],ce=H.FullPaths[0],He=ce,it=H.FileIndex[0],Ge=1;Ge<H.FullPaths.length;++Ge)if(He=H.FullPaths[Ge].slice(ce.length),(it=H.FileIndex[Ge]).size&&it.content&&"\x01Sh33tJ5"!=He){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(zn){return"_x"+zn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(zn){return"_u"+zn.charCodeAt(0).toString(16)+"_"});for(var je=it.content,$e=nr&&Buffer.isBuffer(je)?je.toString("binary"):xt(je),It=0,$t=Math.min(1024,$e.length),_n=0,Wt=0;Wt<=$t;++Wt)(_n=$e.charCodeAt(Wt))>=32&&_n<128&&++It;var Xt=It>=4*$t/5;ae.push(ne),ae.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+He),ae.push("Content-Transfer-Encoding: "+(Xt?"quoted-printable":"base64")),ae.push("Content-Type: "+jfe(it,He)),ae.push(""),ae.push(Xt?$fe($e):Gfe($e))}return ae.push(ne+"--\r\n"),ae.join("\r\n")}(H,ee);if("zip"===(Se(H),ee.fileType))return function Hfe(H,ie){var ee=ie||{},ne=[],ae=[],ce=rt(1),He=ee.compression?8:0,je=0,$e=0,It=0,$t=0,_n=H.FullPaths[0],Wt=_n,Xt=H.FileIndex[0],zn=[],Fi=0;for(je=1;je<H.FullPaths.length;++je)if(Wt=H.FullPaths[je].slice(_n.length),(Xt=H.FileIndex[je]).size&&Xt.content&&"\x01Sh33tJ5"!=Wt){var hc=It,co=rt(Wt.length);for($e=0;$e<Wt.length;++$e)co.write_shift(1,127&Wt.charCodeAt($e));co=co.slice(0,co.l),zn[$t]=ZG.buf(Xt.content,0);var ru=Xt.content;8==He&&(ru=ge(ru)),(ce=rt(30)).write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,0),ce.write_shift(2,He),Xt.mt?s(ce,Xt.mt):ce.write_shift(4,0),ce.write_shift(-4,zn[$t]),ce.write_shift(4,ru.length),ce.write_shift(4,Xt.content.length),ce.write_shift(2,co.length),ce.write_shift(2,0),It+=ce.length,ne.push(ce),It+=co.length,ne.push(co),It+=ru.length,ne.push(ru),(ce=rt(46)).write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,0),ce.write_shift(2,He),ce.write_shift(4,0),ce.write_shift(-4,zn[$t]),ce.write_shift(4,ru.length),ce.write_shift(4,Xt.content.length),ce.write_shift(2,co.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,hc),Fi+=ce.l,ae.push(ce),Fi+=co.length,ae.push(co),++$t}return(ce=rt(22)).write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,$t),ce.write_shift(2,$t),ce.write_shift(4,Fi),ce.write_shift(4,It),ce.write_shift(2,0),jo([jo(ne),jo(ae),ce])}(H,ee);var ne=function(_n){for(var Wt=0,Xt=0,zn=0;zn<_n.FileIndex.length;++zn){var Fi=_n.FileIndex[zn];if(Fi.content){var hc=Fi.content.length;hc>0&&(hc<4096?Wt+=hc+63>>6:Xt+=hc+511>>9)}}for(var co=_n.FullPaths.length+3>>2,jC=Wt+127>>7,GC=(Wt+7>>3)+Xt+co+jC,gy=GC+127>>7,bL=gy<=109?0:Math.ceil((gy-109)/127);GC+gy+bL+127>>7>gy;)bL=++gy<=109?0:Math.ceil((gy-109)/127);var mg=[1,bL,gy,jC,co,Xt,Wt,0];return _n.FileIndex[0].size=Wt<<6,mg[7]=(_n.FileIndex[0].start=mg[0]+mg[1]+mg[2]+mg[3]+mg[4]+mg[5])+(mg[6]+7>>3),mg}(H),ae=rt(ne[7]<<9),ce=0,He=0;for(ce=0;ce<8;++ce)ae.write_shift(1,Gt[ce]);for(ce=0;ce<8;++ce)ae.write_shift(2,0);for(ae.write_shift(2,62),ae.write_shift(2,3),ae.write_shift(2,65534),ae.write_shift(2,9),ae.write_shift(2,6),ce=0;ce<3;++ce)ae.write_shift(2,0);for(ae.write_shift(4,0),ae.write_shift(4,ne[2]),ae.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),ae.write_shift(4,0),ae.write_shift(4,4096),ae.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:Dt),ae.write_shift(4,ne[3]),ae.write_shift(-4,ne[1]?ne[0]-1:Dt),ae.write_shift(4,ne[1]),ce=0;ce<109;++ce)ae.write_shift(-4,ce<ne[2]?ne[1]+ce:-1);if(ne[1])for(He=0;He<ne[1];++He){for(;ce<236+127*He;++ce)ae.write_shift(-4,ce<ne[2]?ne[1]+ce:-1);ae.write_shift(-4,He===ne[1]-1?Dt:He+1)}var it=function(_n){for(He+=_n;ce<He-1;++ce)ae.write_shift(-4,ce+1);_n&&(++ce,ae.write_shift(-4,Dt))};for(He=ce=0,He+=ne[1];ce<He;++ce)ae.write_shift(-4,pt.DIFSECT);for(He+=ne[2];ce<He;++ce)ae.write_shift(-4,pt.FATSECT);it(ne[3]),it(ne[4]);for(var Ge=0,je=0,$e=H.FileIndex[0];Ge<H.FileIndex.length;++Ge)($e=H.FileIndex[Ge]).content&&!((je=$e.content.length)<4096)&&($e.start=He,it(je+511>>9));for(it(ne[6]+7>>3);511&ae.l;)ae.write_shift(-4,pt.ENDOFCHAIN);for(He=ce=0,Ge=0;Ge<H.FileIndex.length;++Ge)($e=H.FileIndex[Ge]).content&&(je=$e.content.length)&&!(je>=4096)&&($e.start=He,it(je+63>>6));for(;511&ae.l;)ae.write_shift(-4,pt.ENDOFCHAIN);for(ce=0;ce<ne[4]<<2;++ce){var It=H.FullPaths[ce];if(It&&0!==It.length){$e=H.FileIndex[ce],0===ce&&($e.start=$e.size?$e.start-1:Dt);var $t=0===ce&&ee.root||$e.name;if(je=2*($t.length+1),ae.write_shift(64,$t,"utf16le"),ae.write_shift(2,je),ae.write_shift(1,$e.type),ae.write_shift(1,$e.color),ae.write_shift(-4,$e.L),ae.write_shift(-4,$e.R),ae.write_shift(-4,$e.C),$e.clsid)ae.write_shift(16,$e.clsid,"hex");else for(Ge=0;Ge<4;++Ge)ae.write_shift(4,0);ae.write_shift(4,$e.state||0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,$e.start),ae.write_shift(4,$e.size),ae.write_shift(4,0)}else{for(Ge=0;Ge<17;++Ge)ae.write_shift(4,0);for(Ge=0;Ge<3;++Ge)ae.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)ae.write_shift(4,0)}}for(ce=1;ce<H.FileIndex.length;++ce)if(($e=H.FileIndex[ce]).size>=4096)if(ae.l=$e.start+1<<9,nr&&Buffer.isBuffer($e.content))$e.content.copy(ae,ae.l,0,$e.size),ae.l+=$e.size+511&-512;else{for(Ge=0;Ge<$e.size;++Ge)ae.write_shift(1,$e.content[Ge]);for(;511&Ge;++Ge)ae.write_shift(1,0)}for(ce=1;ce<H.FileIndex.length;++ce)if(($e=H.FileIndex[ce]).size>0&&$e.size<4096)if(nr&&Buffer.isBuffer($e.content))$e.content.copy(ae,ae.l,0,$e.size),ae.l+=$e.size+63&-64;else{for(Ge=0;Ge<$e.size;++Ge)ae.write_shift(1,$e.content[Ge]);for(;63&Ge;++Ge)ae.write_shift(1,0)}if(nr)ae.l=ae.length;else for(;ae.l<ae.length;)ae.write_shift(1,0);return ae}e.version="1.2.1";var ht,Me=64,Dt=-2,cn="d0cf11e0a1b11ae1",Gt=[208,207,17,224,161,177,26,225],_t="00000000000000000000000000000000",pt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Dt,FREESECT:-1,HEADER_SIGNATURE:cn,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:_t,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function xt(H){for(var ie=new Array(H.length),ee=0;ee<H.length;++ee)ie[ee]=String.fromCharCode(H[ee]);return ie.join("")}function ge(H){return ht?ht.deflateRawSync(H):cr(H)}for(var H,ie,xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ct=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],kt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Tt="undefined"!=typeof Uint8Array,gt=Tt?new Uint8Array(256):[],qn=0;qn<256;++qn)gt[qn]=(void 0,255&((ie=139536&((H=qn)<<1|H<<11)|558144&(H<<5|H<<15))>>16|ie>>8|ie));function pe(H,ie){var ee=gt[255&H];return ie<=8?ee>>>8-ie:(ee=ee<<8|gt[H>>8&255],ie<=16?ee>>>16-ie:(ee=ee<<8|gt[H>>16&255])>>>24-ie)}function Yr(H,ie){var ee=7&ie,ne=ie>>>3;return(H[ne]|(ee<=6?0:H[ne+1]<<8))>>>ee&3}function ur(H,ie){var ee=7&ie,ne=ie>>>3;return(H[ne]|(ee<=5?0:H[ne+1]<<8))>>>ee&7}function dr(H,ie){var ee=7&ie,ne=ie>>>3;return(H[ne]|(ee<=3?0:H[ne+1]<<8))>>>ee&31}function sn(H,ie){var ee=7&ie,ne=ie>>>3;return(H[ne]|(ee<=1?0:H[ne+1]<<8))>>>ee&127}function Hs(H,ie,ee){var ne=7&ie,ae=ie>>>3,He=H[ae]>>>ne;return ee<8-ne||(He|=H[ae+1]<<8-ne,ee<16-ne)||(He|=H[ae+2]<<16-ne,ee<24-ne)||(He|=H[ae+3]<<24-ne),He&(1<<ee)-1}function sd(H,ie,ee){var ne=7&ie,ae=ie>>>3;return ne<=5?H[ae]|=(7&ee)<<ne:(H[ae]|=ee<<ne&255,H[ae+1]=(7&ee)>>8-ne),ie+3}function Of(H,ie,ee){return H[ie>>>3]|=ee=(1&ee)<<(7&ie),ie+1}function pg(H,ie,ee){var ae=ie>>>3;return H[ae]|=255&(ee<<=7&ie),H[ae+1]=ee>>>=8,ie+8}function VC(H,ie,ee){var ae=ie>>>3;return H[ae]|=255&(ee<<=7&ie),H[ae+1]=255&(ee>>>=8),H[ae+2]=ee>>>8,ie+16}function Mm(H,ie){var ee=H.length,ne=2*ee>ie?2*ee:ie+5,ae=0;if(ee>=ie)return H;if(nr){var ce=g4(ne);if(H.copy)H.copy(ce);else for(;ae<H.length;++ae)ce[ae]=H[ae];return ce}if(Tt){var He=new Uint8Array(ne);if(He.set)He.set(H);else for(;ae<ee;++ae)He[ae]=H[ae];return He}return H.length=ne,H}function nu(H){for(var ie=new Array(H),ee=0;ee<H;++ee)ie[ee]=0;return ie}function gg(H,ie,ee){var ne=1,ae=0,ce=0,He=0,it=0,Ge=H.length,je=Tt?new Uint16Array(32):nu(32);for(ce=0;ce<32;++ce)je[ce]=0;for(ce=Ge;ce<ee;++ce)H[ce]=0;Ge=H.length;var $e=Tt?new Uint16Array(Ge):nu(Ge);for(ce=0;ce<Ge;++ce)je[ae=H[ce]]++,ne<ae&&(ne=ae),$e[ce]=0;for(je[0]=0,ce=1;ce<=ne;++ce)je[ce+16]=it=it+je[ce-1]<<1;for(ce=0;ce<Ge;++ce)0!=(it=H[ce])&&($e[ce]=je[it+16]++);var It=0;for(ce=0;ce<Ge;++ce)if(0!=(It=H[ce]))for(it=pe($e[ce],ne)>>ne-It,He=(1<<ne+4-It)-1;He>=0;--He)ie[it|He<<It]=15&It|ce<<4;return ne}var Fm=Tt?new Uint16Array(512):nu(512),HC=Tt?new Uint16Array(32):nu(32);if(!Tt){for(var Al=0;Al<512;++Al)Fm[Al]=0;for(Al=0;Al<32;++Al)HC[Al]=0}!function(){for(var H=[],ie=0;ie<32;ie++)H.push(5);gg(H,HC,32);var ee=[];for(ie=0;ie<=143;ie++)ee.push(8);for(;ie<=255;ie++)ee.push(9);for(;ie<=279;ie++)ee.push(7);for(;ie<=287;ie++)ee.push(8);gg(ee,Fm,288)}();var Mf=function(){for(var ie=Tt?new Uint8Array(32768):[],ee=0,ne=0;ee<kt.length-1;++ee)for(;ne<kt[ee+1];++ne)ie[ne]=ee;for(;ne<32768;++ne)ie[ne]=29;var ae=Tt?new Uint8Array(259):[];for(ee=0,ne=0;ee<ct.length-1;++ee)for(;ne<ct[ee+1];++ne)ae[ne]=ee;return function(Ge,je){return Ge.length<8?function ce(it,Ge){for(var je=0;je<it.length;){var $e=Math.min(65535,it.length-je);for(Ge.write_shift(1,+(je+$e==it.length)),Ge.write_shift(2,$e),Ge.write_shift(2,65535&~$e);$e-- >0;)Ge[Ge.l++]=it[je++]}return Ge.l}(Ge,je):function He(it,Ge){for(var je=0,$e=0,It=Tt?new Uint16Array(32768):[];$e<it.length;){var $t=Math.min(65535,it.length-$e);if($t<10){for(7&(je=sd(Ge,je,+($e+$t==it.length)))&&(je+=8-(7&je)),Ge.l=je/8|0,Ge.write_shift(2,$t),Ge.write_shift(2,65535&~$t);$t-- >0;)Ge[Ge.l++]=it[$e++];je=8*Ge.l}else{je=sd(Ge,je,+($e+$t==it.length)+2);for(var _n=0;$t-- >0;){var Wt=it[$e],Xt=-1,zn=0;if((Xt=It[_n=32767&(_n<<5^Wt)])&&((Xt|=-32768&$e)>$e&&(Xt-=32768),Xt<$e))for(;it[Xt+zn]==it[$e+zn]&&zn<250;)++zn;if(zn>2){(Wt=ae[zn])<=22?je=pg(Ge,je,gt[Wt+1]>>1)-1:(pg(Ge,je,3),pg(Ge,je+=5,gt[Wt-23]>>5),je+=3);var Fi=Wt<8?0:Wt-4>>2;Fi>0&&(VC(Ge,je,zn-ct[Wt]),je+=Fi),je=pg(Ge,je,gt[Wt=ie[$e-Xt]]>>3),je-=3;var hc=Wt<4?0:Wt-2>>1;hc>0&&(VC(Ge,je,$e-Xt-kt[Wt]),je+=hc);for(var co=0;co<zn;++co)It[_n]=32767&$e,_n=32767&(_n<<5^it[$e]),++$e;$t-=zn-1}else Wt<=143?Wt+=48:je=Of(Ge,je,1),je=pg(Ge,je,gt[Wt]),It[_n]=32767&$e,++$e}je=pg(Ge,je,0)-1}}return Ge.l=(je+7)/8|0,Ge.l}(Ge,je)}}();function cr(H){var ie=rt(50+Math.floor(1.1*H.length)),ee=Mf(H,ie);return ie.slice(0,ee)}var js=Tt?new Uint16Array(32768):nu(32768),od=Tt?new Uint16Array(32768):nu(32768),Eo=Tt?new Uint16Array(128):nu(128),py=1,o9=1;function Bfe(H,ie){var ee=dr(H,ie)+257,ne=dr(H,ie+=5)+1,ae=function Qr(H,ie){var ee=7&ie,ne=ie>>>3;return(H[ne]|(ee<=4?0:H[ne+1]<<8))>>>ee&15}(H,ie+=5)+4;ie+=4;for(var ce=0,He=Tt?new Uint8Array(19):nu(19),it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,je=Tt?new Uint8Array(8):nu(8),$e=Tt?new Uint8Array(8):nu(8),It=He.length,$t=0;$t<ae;++$t)He[xe[$t]]=ce=ur(H,ie),Ge<ce&&(Ge=ce),je[ce]++,ie+=3;var _n=0;for(je[0]=0,$t=1;$t<=Ge;++$t)$e[$t]=_n=_n+je[$t-1]<<1;for($t=0;$t<It;++$t)0!=(_n=He[$t])&&(it[$t]=$e[_n]++);var Wt=0;for($t=0;$t<It;++$t)if(0!=(Wt=He[$t])){_n=gt[it[$t]]>>8-Wt;for(var Xt=(1<<7-Wt)-1;Xt>=0;--Xt)Eo[_n|Xt<<Wt]=7&Wt|$t<<3}var zn=[];for(Ge=1;zn.length<ee+ne;)switch(_n=Eo[sn(H,ie)],ie+=7&_n,_n>>>=3){case 16:for(ce=3+Yr(H,ie),ie+=2,_n=zn[zn.length-1];ce-- >0;)zn.push(_n);break;case 17:for(ce=3+ur(H,ie),ie+=3;ce-- >0;)zn.push(0);break;case 18:for(ce=11+sn(H,ie),ie+=7;ce-- >0;)zn.push(0);break;default:zn.push(_n),Ge<_n&&(Ge=_n)}var Fi=zn.slice(0,ee),hc=zn.slice(ee);for($t=ee;$t<286;++$t)Fi[$t]=0;for($t=ne;$t<30;++$t)hc[$t]=0;return py=gg(Fi,js,286),o9=gg(hc,od,30),ie}function a9(H,ie){var ne=function Ufe(H,ie){if(3==H[0]&&!(3&H[1]))return[nm(ie),2];for(var ee=0,ne=0,ae=g4(ie||1<<18),ce=0,He=ae.length>>>0,it=0,Ge=0;0==(1&ne);)if(ne=ur(H,ee),ee+=3,ne>>>1!=0)for(ne>>1==1?(it=9,Ge=5):(ee=Bfe(H,ee),it=py,Ge=o9);;){!ie&&He<ce+32767&&(He=(ae=Mm(ae,ce+32767)).length);var $e=Hs(H,ee,it),It=ne>>>1==1?Fm[$e]:js[$e];if(ee+=15&It,0==((It>>>=4)>>>8&255))ae[ce++]=It;else{if(256==It)break;var $t=(It-=257)<8?0:It-4>>2;$t>5&&($t=0);var _n=ce+ct[It];$t>0&&(_n+=Hs(H,ee,$t),ee+=$t),$e=Hs(H,ee,Ge),ee+=15&(It=ne>>>1==1?HC[$e]:od[$e]);var Wt=(It>>>=4)<4?0:It-2>>1,Xt=kt[It];for(Wt>0&&(Xt+=Hs(H,ee,Wt),ee+=Wt),!ie&&He<_n&&(He=(ae=Mm(ae,_n+100)).length);ce<_n;)ae[ce]=ae[ce-Xt],++ce}}else{7&ee&&(ee+=8-(7&ee));var je=H[ee>>>3]|H[1+(ee>>>3)]<<8;if(ee+=32,je>0)for(!ie&&He<ce+je&&(He=(ae=Mm(ae,ce+je)).length);je-- >0;)ae[ce++]=H[ee>>>3],ee+=8}return ie?[ae,ee+7>>>3]:[ae.slice(0,ce),ee+7>>>3]}(H.slice(H.l||0),ie);return H.l+=ne[1],ne[0]}function l9(H,ie){if(!H)throw new Error(ie);"undefined"!=typeof console&&console.error(ie)}function c9(H,ie){var ee=H;ca(ee,0);var ce={FileIndex:[],FullPaths:[]};re(ce,{root:ie.root});for(var He=ee.length-4;(80!=ee[He]||75!=ee[He+1]||5!=ee[He+2]||6!=ee[He+3])&&He>=0;)--He;ee.l=He+4,ee.l+=4;var it=ee.read_shift(2);ee.l+=6;var Ge=ee.read_shift(4);for(ee.l=Ge,He=0;He<it;++He){ee.l+=20;var je=ee.read_shift(4),$e=ee.read_shift(4),It=ee.read_shift(2),$t=ee.read_shift(2),_n=ee.read_shift(2);ee.l+=8;var Wt=ee.read_shift(4),Xt=u(ee.slice(ee.l+It,ee.l+It+$t));ee.l+=It+$t+_n;var zn=ee.l;ee.l=Wt+4,Vfe(ee,je,$e,ce,Xt),ee.l=zn}return ce}function Vfe(H,ie,ee,ne,ae){H.l+=2;var ce=H.read_shift(2),He=H.read_shift(2),it=function o(H){var ie=65535&H.read_shift(2),ee=65535&H.read_shift(2),ne=new Date,ae=31&ee,ce=15&(ee>>>=5);ee>>>=4,ne.setMilliseconds(0),ne.setFullYear(ee+1980),ne.setMonth(ce-1),ne.setDate(ae);var He=31&ie,it=63&(ie>>>=5);return ne.setHours(ie>>>=6),ne.setMinutes(it),ne.setSeconds(He<<1),ne}(H);if(8257&ce)throw new Error("Unsupported ZIP encryption");H.read_shift(4);for(var je=H.read_shift(4),$e=H.read_shift(4),It=H.read_shift(2),$t=H.read_shift(2),_n="",Wt=0;Wt<It;++Wt)_n+=String.fromCharCode(H[H.l++]);if($t){var Xt=u(H.slice(H.l,H.l+$t));(Xt[21589]||{}).mt&&(it=Xt[21589].mt),((ae||{})[21589]||{}).mt&&(it=ae[21589].mt)}H.l+=$t;var zn=H.slice(H.l,H.l+je);switch(He){case 8:zn=function Be(H,ie){if(!ht)return a9(H,ie);var ne=new(0,ht.InflateRaw),ae=ne._processChunk(H.slice(H.l),ne._finishFlushFlag);return H.l+=ne.bytesRead,ae}(H,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var Fi=!1;8&ce&&(134695760==H.read_shift(4)&&(H.read_shift(4),Fi=!0),je=H.read_shift(4),$e=H.read_shift(4)),je!=ie&&l9(Fi,"Bad compressed size: "+ie+" != "+je),$e!=ee&&l9(Fi,"Bad uncompressed size: "+ee+" != "+$e),EL(ne,_n,zn,{unsafe:!0,mt:it})}var Wk={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jfe(H,ie){if(H.ctype)return H.ctype;var ee=H.name||"",ne=ee.match(/\.([^\.]+)$/);return ne&&Wk[ne[1]]||ie&&(ne=(ee=ie).match(/[\.\\]([^\.\\])+$/))&&Wk[ne[1]]?Wk[ne[1]]:"application/octet-stream"}function Gfe(H){for(var ie=wT(H),ee=[],ne=0;ne<ie.length;ne+=76)ee.push(ie.slice(ne,ne+76));return ee.join("\r\n")+"\r\n"}function $fe(H){var ie=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var $e=je.charCodeAt(0).toString(16).toUpperCase();return"="+(1==$e.length?"0"+$e:$e)});"\n"==(ie=ie.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(ie="=0D"+ie.slice(1));for(var ee=[],ne=(ie=ie.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),ae=0;ae<ne.length;++ae){var ce=ne[ae];if(0!=ce.length)for(var He=0;He<ce.length;){var it=76,Ge=ce.slice(He,He+it);"="==Ge.charAt(it-1)?it--:"="==Ge.charAt(it-2)?it-=2:"="==Ge.charAt(it-3)&&(it-=3),Ge=ce.slice(He,He+it),(He+=it)<ce.length&&(Ge+="="),ee.push(Ge)}else ee.push("")}return ee.join("\r\n")}function qfe(H,ie,ee){for(var He,ne="",ae="",ce="",it=0;it<10;++it){var Ge=ie[it];if(!Ge||Ge.match(/^\s*$/))break;var je=Ge.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":ne=je[2].trim();break;case"content-type":ce=je[2].trim();break;case"content-transfer-encoding":ae=je[2].trim()}}switch(++it,ae.toLowerCase()){case"base64":He=Zc(zc(ie.slice(it).join("")));break;case"quoted-printable":He=function Wfe(H){for(var ie=[],ee=0;ee<H.length;++ee){for(var ne=H[ee];ee<=H.length&&"="==ne.charAt(ne.length-1);)ne=ne.slice(0,ne.length-1)+H[++ee];ie.push(ne)}for(var ae=0;ae<ie.length;++ae)ie[ae]=ie[ae].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return Zc(ie.join("\r\n"))}(ie.slice(it));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ae)}var $e=EL(H,ne.slice(ee.length),He,{unsafe:!0});ce&&($e.ctype=ce)}function EL(H,ie,ee,ne){var ae=ne&&ne.unsafe;ae||re(H);var ce=!ae&&kn.find(H,ie);if(!ce){var He=H.FullPaths[0];ie.slice(0,He.length)==He?He=ie:("/"!=He.slice(-1)&&(He+="/"),He=(He+ie).replace("//","/")),ce={name:i(ie),type:2},H.FileIndex.push(ce),H.FullPaths.push(He),ae||kn.utils.cfb_gc(H)}return ce.content=ee,ce.size=ee?ee.length:0,ne&&(ne.CLSID&&(ce.clsid=ne.CLSID),ne.mt&&(ce.mt=ne.mt),ne.ct&&(ce.ct=ne.ct)),ce}return e.find=function Je(H,ie){var ee=H.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ne=ee.map(function(Ge){var je=Ge.split("/");return je[je.length-("/"==Ge.slice(-1)?2:1)]}),ae=!1;47===ie.charCodeAt(0)?(ae=!0,ie=ee[0].slice(0,-1)+ie):ae=-1!==ie.indexOf("/");var ce=ie.toUpperCase(),He=!0===ae?ee.indexOf(ce):ne.indexOf(ce);if(-1!==He)return H.FileIndex[He];var it=!ce.match(ET);for(ce=ce.replace(Da,""),it&&(ce=ce.replace(ET,"!")),He=0;He<ee.length;++He)if((it?ee[He].replace(ET,"!"):ee[He]).replace(Da,"")==ce||(it?ne[He].replace(ET,"!"):ne[He]).replace(Da,"")==ce)return H.FileIndex[He];return null},e.read=function Ie(H,ie){var ee=ie&&ie.type;switch(ee||nr&&Buffer.isBuffer(H)&&(ee="buffer"),ee||"base64"){case"file":return function be(H,ie){return p(),_(h.readFileSync(H),ie)}(H,ie);case"base64":return _(Zc(zc(H)),ie);case"binary":return _(Zc(H),ie)}return _(H,ie)},e.parse=_,e.write=function pn(H,ie){var ee=We(H,ie);switch(ie&&ie.type||"buffer"){case"file":return p(),h.writeFileSync(ie.filename,ee),ee;case"binary":return"string"==typeof ee?ee:xt(ee);case"base64":return wT("string"==typeof ee?ee:xt(ee));case"buffer":if(nr)return Buffer.isBuffer(ee)?ee:Xp(ee);case"array":return"string"==typeof ee?Zc(ee):ee}return ee},e.writeFile=function Ut(H,ie,ee){p();var ne=We(H,ee);h.writeFileSync(ie,ne)},e.utils={cfb_new:function Kfe(H){var ie={};return re(ie,H),ie},cfb_add:EL,cfb_del:function Yfe(H,ie){re(H);var ee=kn.find(H,ie);if(ee)for(var ne=0;ne<H.FileIndex.length;++ne)if(H.FileIndex[ne]==ee)return H.FileIndex.splice(ne,1),H.FullPaths.splice(ne,1),!0;return!1},cfb_mov:function Qfe(H,ie,ee){re(H);var ne=kn.find(H,ie);if(ne)for(var ae=0;ae<H.FileIndex.length;++ae)if(H.FileIndex[ae]==ne)return H.FileIndex[ae].name=i(ee),H.FullPaths[ae]=ee,!0;return!1},cfb_gc:function Xfe(H){Se(H,!0)},ReadShift:DT,CheckField:f6,prep_blob:ca,bconcat:jo,use_zlib:function he(H){try{var ee=new(0,H.InflateRaw);if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),!ee.bytesRead)throw new Error("zlib does not expose bytesRead");ht=H}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}},_deflateRaw:cr,_inflateRaw:a9,consts:pt},e}();function KG(n){return"string"==typeof n?xT(n):Array.isArray(n)?function wG(n){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(n)}(n):n}function CT(n,e,t){if("undefined"!=typeof Deno){if(t&&"string"==typeof e)switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=xT(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r="utf8"==t?mf(e):e;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,n);if("undefined"!=typeof Blob){var i=new Blob([KG(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if("undefined"!=typeof saveAs)return saveAs(i,n);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=rm(e)),u.write(e),u.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function ys(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function F4(n,e){for(var t=[],r=ys(n),i=0;i!==r.length;++i)null==t[n[r[i]][e]]&&(t[n[r[i]][e]]=r[i]);return t}function UD(n){for(var e=[],t=ys(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function VD(n){for(var e=[],t=ys(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}var HD=new Date(1899,11,30,0,0,0);function Go(n,e){var t=n.getTime();return e&&(t-=1263168e5),(t-(HD.getTime()+6e4*(n.getTimezoneOffset()-HD.getTimezoneOffset())))/864e5}var N4=new Date,XG=HD.getTime()+6e4*(N4.getTimezoneOffset()-HD.getTimezoneOffset()),R4=N4.getTimezoneOffset();function BM(n){var e=new Date;return e.setTime(24*n*60*60*1e3+XG),e.getTimezoneOffset()!==R4&&e.setTime(e.getTime()+6e4*(e.getTimezoneOffset()-R4)),e}var L4=new Date("2017-02-19T19:06:09.000Z"),B4=isNaN(L4.getFullYear())?new Date("2/19/17"):L4,e$=2017==B4.getFullYear();function ss(n,e){var t=new Date(n);if(e$)return e>0?t.setTime(t.getTime()+60*t.getTimezoneOffset()*1e3):e<0&&t.setTime(t.getTime()-60*t.getTimezoneOffset()*1e3),t;if(n instanceof Date)return n;if(1917==B4.getFullYear()&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Mv(n,e){if(nr&&Buffer.isBuffer(n)){if(e){if(255==n[0]&&254==n[1])return mf(n.slice(2).toString("utf16le"));if(254==n[1]&&255==n[2])return mf(function p4(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}(n.slice(2).toString("binary")))}return n.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(e){if(255==n[0]&&254==n[1])return mf(new TextDecoder("utf-16le").decode(n.slice(2)));if(254==n[0]&&255==n[1])return mf(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return t[s]||s})}catch(s){}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function di(n){if("undefined"!=typeof JSON&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if("object"!=typeof n||null==n)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=di(n[t]));return e}function ws(n,e){for(var t="";t.length<e;)t+=n;return t}function Xd(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return isNaN(e=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),isNaN(e=Number(r)))?e:e/t}var t$=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vw(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==t$.indexOf(o))return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&101!=r?e:n.match(/[^-0-9:,\/\\]/)?t:e}function er(n,e,t){if(n.FullPaths){var r;if("string"==typeof t)return r=nr?Xp(t):function xG(n){for(var e=[],t=0,r=n.length+250,i=nm(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var u=1023&n.charCodeAt(++s);i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|u>>6&15|(3&o)<<4,i[t++]=128|63&u}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|63&o;t>r&&(e.push(i.slice(0,t)),t=0,i=nm(65535),r=65530)}return e.push(i.slice(0,t)),jo(e)}(t),kn.utils.cfb_add(n,e,r);kn.utils.cfb_add(n,e,t)}else n.file(e,t)}function VM(){return kn.utils.cfb_new()}var xs='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',HM=UD({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),jM=/[&<>'"]/g,c$=/[\u0000-\u0008\u000b-\u001f]/g;function Kr(n){return(n+"").replace(jM,function(t){return HM[t]}).replace(c$,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function W4(n){return Kr(n).replace(/ /g,"_x0020_")}var q4=/[\u0000-\u001f]/g;function z4(n){return(n+"").replace(jM,function(t){return HM[t]}).replace(/\n/g,"<br/>").replace(q4,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function GM(n){for(var e="",t=0,r=0,i=0,s=0,o=0,u=0;t<n.length;)(r=n.charCodeAt(t++))<128?e+=String.fromCharCode(r):(i=n.charCodeAt(t++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,e+=String.fromCharCode(o)):(s=n.charCodeAt(t++),r<240?e+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(u=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(o=n.charCodeAt(t++)))-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(1023&u)))));return e}function K4(n){var t,r,u,e=nm(2*n.length),i=1,s=0,o=0;for(r=0;r<n.length;r+=i)i=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=64*(31&u)+(63&n.charCodeAt(r+1)),i=2):u<240?(t=4096*(15&u)+64*(63&n.charCodeAt(r+1))+(63&n.charCodeAt(r+2)),i=3):(i=4,t=262144*(7&u)+4096*(63&n.charCodeAt(r+1))+64*(63&n.charCodeAt(r+2))+(63&n.charCodeAt(r+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(e[s++]=255&o,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function Y4(n){return Xp(n,"binary").toString("utf8")}var jD="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Oi=nr&&(Y4(jD)==GM(jD)&&Y4||K4(jD)==GM(jD)&&K4)||GM,mf=nr?function(n){return Xp(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(63&i)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(63&r)))}return e.join("")},Q4=function(){var n=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),J4=/(^\s|\s$|\n)/;function la(n,e){return"<"+n+(e.match(J4)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function AT(n){return ys(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Lt(n,e,t){return"<"+n+(null!=t?AT(t):"")+(null!=e?(e.match(J4)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function $M(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}var so_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",so_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",so_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",so_xsi="http://www.w3.org/2001/XMLSchema-instance",am=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Qc_o="urn:schemas-microsoft-com:office:office",Qc_x="urn:schemas-microsoft-com:office:excel",Qc_ss="urn:schemas-microsoft-com:office:spreadsheet",e6=function(n){for(var e=[],r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=10240)e.push.apply(e,n[0][r].slice(i,i+10240));return e},t6=nr?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Xp(e)})):e6(n)}:e6,n6=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(eg(n,i)));return r.join("").replace(Da,"")},GD=nr?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Da,""):n6(n,e,t)}:n6,r6=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},i6=nr?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):r6(n,e,t)}:r6,s6=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(jw(n,i)));return r.join("")},Hw=nr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):s6(e,t,r)}:s6,o6=function(n,e){var t=$o(n,e);return t>0?Hw(n,e+4,e+4+t-1):""},qM=o6,a6=function(n,e){var t=$o(n,e);return t>0?Hw(n,e+4,e+4+t-1):""},zM=a6,l6=function(n,e){var t=2*$o(n,e);return t>0?Hw(n,e+4,e+4+t-1):""},ZM=l6,c6=function(e,t){var r=$o(e,t);return r>0?GD(e,t+4,t+4+r):""},KM=c6,u6=function(n,e){var t=$o(n,e);return t>0?Hw(n,e+4,e+4+t):""},YM=u6,d6=function(n,e){return function _$(n,e){for(var t=1-2*(n[e+7]>>>7),r=((127&n[e+7])<<4)+(n[e+6]>>>4&15),i=15&n[e+6],s=5;s>=0;--s)i=256*i+n[e+s];return 2047==r?0==i?t*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}(n,e)},$D=d6,QM=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};nr&&(qM=function(e,t){if(!Buffer.isBuffer(e))return o6(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},zM=function(e,t){if(!Buffer.isBuffer(e))return a6(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},ZM=function(e,t){if(!Buffer.isBuffer(e))return l6(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},KM=function(e,t){if(!Buffer.isBuffer(e))return c6(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},YM=function(e,t){if(!Buffer.isBuffer(e))return u6(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},$D=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):d6(e,t)},QM=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var jw=function(n,e){return n[e]},eg=function(n,e){return 256*n[e+1]+n[e]},y$=function(n,e){var t=256*n[e+1]+n[e];return t<32768?t:-1*(65535-t+1)},$o=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Fv=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},w$=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function DT(n,e){var r,i,o,u,h,p,t="",s=[];switch(e){case"dbcs":if(p=this.l,nr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)t+=String.fromCharCode(eg(this,p)),p+=2;n*=2;break;case"utf8":t=Hw(this,this.l,this.l+n);break;case"utf16le":t=GD(this,this.l,this.l+(n*=2));break;case"wstr":return DT.call(this,n,"dbcs");case"lpstr-ansi":t=qM(this,this.l),n=4+$o(this,this.l);break;case"lpstr-cp":t=zM(this,this.l),n=4+$o(this,this.l);break;case"lpwstr":t=ZM(this,this.l),n=4+2*$o(this,this.l);break;case"lpp4":n=4+$o(this,this.l),t=KM(this,this.l),2&n&&(n+=2);break;case"8lpp4":n=4+$o(this,this.l),t=YM(this,this.l),3&n&&(n+=4-(3&n));break;case"cstr":for(n=0,t="";0!==(o=jw(this,this.l+n++));)s.push(vT(o));t=s.join("");break;case"_wstr":for(n=0,t="";0!==(o=eg(this,this.l+n));)s.push(vT(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",p=this.l,h=0;h<n;++h){if(this.lens&&-1!==this.lens.indexOf(p))return o=jw(this,p),this.l=p+1,u=DT.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(vT(eg(this,p))),p+=2}t=s.join(""),n*=2;break;case"cpstr":0;case"sbcs-cont":for(t="",p=this.l,h=0;h!=n;++h){if(this.lens&&-1!==this.lens.indexOf(p))return o=jw(this,p),this.l=p+1,u=DT.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(vT(jw(this,p))),p+=1}t=s.join("");break;default:switch(n){case 1:return r=jw(this,this.l),this.l++,r;case 2:return r=("i"===e?y$:eg)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===e||0==(128&this[this.l+3])?(r=(n>0?Fv:w$)(this,this.l),this.l+=4,r):(i=$o(this,this.l),this.l+=4,i);case 8:case-8:if("f"===e)return i=8==n?$D(this,this.l):$D([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=i6(this,this.l,n)}}return this.l+=n,t}var b$=function(n,e,t){n[t]=255&e,n[t+1]=e>>>8&255};function T$(n,e,t){var r=0,i=0;if("dbcs"===t){for(i=0;i!=e.length;++i)b$(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if("sbcs"===t){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=255&e.charCodeAt(i);r=e.length}else{if("hex"===t){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===t){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var u=e.charCodeAt(i);this[this.l++]=255&u,this[this.l++]=u>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(n){case 1:r=1,this[this.l]=255&e;break;case 2:r=2,this[this.l]=255&e,this[this.l+1]=255&(e>>>=8);break;case 3:r=3,this[this.l]=255&e,this[this.l+1]=255&(e>>>=8),this[this.l+2]=255&(e>>>=8);break;case 4:r=4,function(n,e,t){n[t]=255&e,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255}(this,e,this.l);break;case 8:if(r=8,"f"===t){!function v$(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)n[t+u]=255&s;n[t+6]=(15&i)<<4|15&s,n[t+7]=i>>4|r}(this,e,this.l);break}case 16:break;case-4:r=4,function(n,e,t){n[t]=255&e,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255}(this,e,this.l)}}return this.l+=r,this}function f6(n,e){var t=i6(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ca(n,e){n.l=e,n.read_shift=DT,n.chk=f6,n.write_shift=T$}function Pa(n,e){n.l+=e}function rt(n){var e=nm(n);return ca(e,0),e}function wl(){var n=[],e=nr?256:2048,t=function(p){var _=rt(p);return ca(_,0),_},r=t(e),i=function(){!r||(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&n.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(i(),r=t(Math.max(p+1,e)))};return{next:s,push:function(p){i(),null==(r=p).l&&(r.l=r.length),s(e)},end:function(){return i(),jo(n)},_bufs:n}}function yt(n,e,t,r){var s,i=+e;if(!isNaN(i)){r||(r=zT[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,128+(127&i)),o.write_shift(1,i>>7));for(var u=0;4!=u;++u){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&QM(t)&&n.push(t)}}function kT(n,e,t){var r=di(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function p6(n,e,t){var r=di(n);return r.s=kT(r.s,e.s,t),r.e=kT(r.e,e.s,t),r}function PT(n,e){if(n.cRel&&n.c<0)for(n=di(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=di(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Nn(n);return!n.cRel&&null!=n.cRel&&(t=function A$(n){return n.replace(/^([A-Z])/,"$$$1")}(t)),!n.rRel&&null!=n.rRel&&(t=function C$(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(t)),t}function XM(n,e){return 0!=n.s.r||n.s.rRel||n.e.r!=(e.biff>=12?1048575:e.biff>=8?65536:16384)||n.e.rRel?0!=n.s.c||n.s.cRel||n.e.c!=(e.biff>=12?16383:255)||n.e.cRel?PT(n.s,e.biff)+":"+PT(n.e,e.biff):(n.s.rRel?"":"$")+Es(n.s.r)+":"+(n.e.rRel?"":"$")+Es(n.e.r):(n.s.cRel?"":"$")+Mi(n.s.c)+":"+(n.e.cRel?"":"$")+Mi(n.e.c)}function JM(n){return parseInt(function S$(n){return n.replace(/\$(\d+)$/,"$1")}(n),10)-1}function Es(n){return""+(n+1)}function eF(n){for(var e=function I$(n){return n.replace(/^\$([A-Z])/,"$1")}(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Mi(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function Bs(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Nn(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function xl(n){var e=n.indexOf(":");return-1==e?{s:Bs(n),e:Bs(n)}:{s:Bs(n.slice(0,e)),e:Bs(n.slice(e+1))}}function Xn(n,e){return void 0===e||"number"==typeof e?Xn(n.s,n.e):("string"!=typeof n&&(n=Nn(n)),"string"!=typeof e&&(e=Nn(e)),n==e?n:n+":"+e)}function br(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||10!=i)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function _f(n,e,t){return null==n||null==n.t||"z"==n.t?"":void 0!==n.w?n.w:("d"==n.t&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),"e"==n.t?ng[n.v]||n.v:function g6(n,e){var t="d"==n.t&&e instanceof Date;if(null!=n.z)try{return n.w=Kc(n.z,t?Go(e):e)}catch(r){}try{return n.w=Kc((n.XF||{}).numFmtId||(t?14:0),t?Go(e):e)}catch(r){return""+e}}(n,null==e?n.v:e))}function lm(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function m6(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,u=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var h="string"==typeof r.origin?Bs(r.origin):r.origin;o=h.r,u=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var _=br(s["!ref"]);p.s.c=_.s.c,p.s.r=_.s.r,p.e.c=Math.max(p.e.c,_.e.c),p.e.r=Math.max(p.e.r,_.e.r),-1==o&&(p.e.r=o=_.e.r+1)}for(var w=0;w!=e.length;++w)if(e[w]){if(!Array.isArray(e[w]))throw new Error("aoa_to_sheet expects an array of arrays");for(var E=0;E!=e[w].length;++E)if(void 0!==e[w][E]){var C={v:e[w][E]},I=o+w,D=u+E;if(p.s.r>I&&(p.s.r=I),p.s.c>D&&(p.s.c=D),p.e.r<I&&(p.e.r=I),p.e.c<D&&(p.e.c=D),!e[w][E]||"object"!=typeof e[w][E]||Array.isArray(e[w][E])||e[w][E]instanceof Date)if(Array.isArray(C.v)&&(C.f=e[w][E][1],C.v=C.v[0]),null===C.v)if(C.f)C.t="n";else if(r.nullError)C.t="e",C.v=0;else{if(!r.sheetStubs)continue;C.t="z"}else"number"==typeof C.v?C.t="n":"boolean"==typeof C.v?C.t="b":C.v instanceof Date?(C.z=r.dateNF||Mn[14],r.cellDates?(C.t="d",C.w=Kc(C.z,Go(C.v))):(C.t="n",C.v=Go(C.v),C.w=Kc(C.z,C.v))):C.t="s";else C=e[w][E];if(i)s[I]||(s[I]=[]),s[I][D]&&s[I][D].z&&(C.z=s[I][D].z),s[I][D]=C;else{var M=Nn({c:D,r:I});s[M]&&s[M].z&&(C.z=s[M].z),s[M]=C}}}return p.s.c<1e7&&(s["!ref"]=Xn(p)),s}function Gw(n,e){return m6(null,n,e)}function Jd(n,e){return e||(e=rt(4)),e.write_shift(4,n),e}function Oa(n){var e=n.read_shift(4);return 0===e?"":n.read_shift(e,"dbcs")}function Wo(n,e){var t=!1;return null==e&&(t=!0,e=rt(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function P$(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function tF(n,e){var t=n.l,r=n.read_shift(1),i=Oa(n),s=[],o={t:i,h:i};if(0!=(1&r)){for(var u=n.read_shift(4),h=0;h!=u;++h)s.push(P$(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}var F$=tF;function qu(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Nv(n,e){return null==e&&(e=rt(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Rv(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Lv(n,e){return null==e&&(e=rt(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var R$=Oa,_6=Wo;function nF(n){var e=n.read_shift(4);return 0===e||4294967295===e?"":n.read_shift(e,"dbcs")}function WD(n,e){var t=!1;return null==e&&(t=!0,e=rt(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var L$=Oa,rF=nF,iF=WD;function sF(n){var e=n.slice(n.l,n.l+4),t=1&e[0],r=2&e[0];n.l+=4;var i=0===r?$D([0,0,0,0,252&e[0],e[1],e[2],e[3]],0):Fv(e,0)>>2;return t?i/100:i}function v6(n,e){null==e&&(e=rt(4));var t=0,r=0,i=100*n;if(n==(0|n)&&n>=-(1<<29)&&n<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,t=1),!r)throw new Error("unsupported RkNumber "+n);e.write_shift(-4,((t?i:n)<<2)+(t+2))}function y6(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}var Bv=y6,$w=function B$(n,e){return e||(e=rt(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e};function Ma(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Uv(n,e){return(e||rt(8)).write_shift(8,n,"f")}function qD(n,e){if(e||(e=rt(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;null!=n.index?(e.write_shift(1,2),e.write_shift(1,n.index)):null!=n.theme?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),n.rgb&&null==n.theme){var r=n.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}else e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);return e}var aF={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},lF={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Y$(n){return n.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var Vv=di(Y$([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),ng={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},YD={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function T6(n,e){var i,t=function QG(n){for(var e=[],t=ys(n),r=0;r!==t.length;++r)null==e[n[t[r]]]&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}(cF),r=[];r[r.length]=xs,r[r.length]=Lt("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":so_xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Lt("Default",null,{Extension:h[0],ContentType:h[1]})}));var s=function(h){n[h]&&n[h].length>0&&(r[r.length]=Lt("Override",null,{PartName:("/"==(i=n[h][0])[0]?"":"/")+i,ContentType:YD[h][e.bookType]||YD[h].xlsx}))},o=function(h){(n[h]||[]).forEach(function(p){r[r.length]=Lt("Override",null,{PartName:("/"==p[0]?"":"/")+p,ContentType:YD[h][e.bookType]||YD[h].xlsx})})},u=function(h){(n[h]||[]).forEach(function(p){r[r.length]=Lt("Override",null,{PartName:("/"==p[0]?"":"/")+p,ContentType:t[h][0]})})};return s("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Jn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function OT(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Ww(n){var e=[xs,Lt("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return ys(n["!id"]).forEach(function(t){e[e.length]=Lt("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ur(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,s?i.TargetMode=s:[Jn.HLINK,Jn.XPATH,Jn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function C6(n,e,t){return['  <rdf:Description rdf:about="'+n+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+'"/>\n',"  </rdf:Description>\n"].join("")}function rW(n,e){return['  <rdf:Description rdf:about="'+n+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+'"/>\n',"  </rdf:Description>\n"].join("")}function S6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_T_version+"</meta:generator></office:meta></office:document-meta>"}var rg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function dF(n,e,t,r,i){null!=i[n]||null==e||""===e||(i[n]=e,e=Kr(e),r[r.length]=t?Lt(n,e,t):la(n,e))}function I6(n,e){var t=e||{},r=[xs,Lt("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":so_xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(null!=n.CreatedDate&&dF("dcterms:created","string"==typeof n.CreatedDate?n.CreatedDate:$M(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=n.ModifiedDate&&dF("dcterms:modified","string"==typeof n.ModifiedDate?n.ModifiedDate:$M(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=rg.length;++s){var o=rg[s],u=t.Props&&null!=t.Props[o[1]]?t.Props[o[1]]:n?n[o[1]]:null;!0===u?u="1":!1===u?u="0":"number"==typeof u&&(u=String(u)),null!=u&&dF(o[0],u,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Hv=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],D6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function P6(n){var e=[],t=Lt;return n||(n={}),n.Application="SheetJS",e[e.length]=xs,e[e.length]=Lt("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":so_vt}),Hv.forEach(function(r){if(void 0!==n[r[1]]){var i;switch(r[2]){case"string":i=Kr(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false"}void 0!==i&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Kr(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function O6(n){var e=[xs,Lt("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":so_vt})];if(!n)return e.join("");var t=1;return ys(n).forEach(function(i){++t,e[e.length]=Lt("property",function m$(n,e){switch(typeof n){case"string":var t=Lt("vt:lpwstr",Kr(n));return e&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return Lt((0|n)==n?"vt:i4":"vt:r8",Kr(String(n)));case"boolean":return Lt("vt:bool",n?"true":"false")}if(n instanceof Date)return Lt("vt:filetime",$M(n));throw new Error("Unable to serialize "+n)}(n[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Kr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var hF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function B6(n,e){var t=rt(4),r=rt(4);switch(t.write_shift(4,80==n?31:n),n){case 3:r.write_shift(-4,e);break;case 5:(r=rt(8)).write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=function hW(n){var t=("string"==typeof n?new Date(Date.parse(n)):n).getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);i*=1e7;var s=(r*=1e7)/Math.pow(2,32)|0;s>0&&(r%=Math.pow(2,32),i+=s);var o=rt(8);return o.write_shift(4,r),o.write_shift(4,i),o}(e);break;case 31:case 80:for((r=rt(4+2*(e.length+1)+(e.length%2?0:2))).write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return jo([t,r])}var V6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function yW(n){switch(typeof n){case"boolean":return 11;case"number":return(0|n)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64}return-1}function H6(n,e,t){var r=rt(8),i=[],s=[],o=8,u=0,h=rt(8),p=rt(8);if(h.write_shift(4,2),h.write_shift(4,1200),p.write_shift(4,1),s.push(h),i.push(p),o+=8+h.length,!e){(p=rt(8)).write_shift(4,0),i.unshift(p);var _=[rt(4)];for(_[0].write_shift(4,n.length),u=0;u<n.length;++u){var w=n[u][0];for((h=rt(8+2*(w.length+1)+(w.length%2?0:2))).write_shift(4,u+2),h.write_shift(4,w.length+1),h.write_shift(0,w,"dbcs");h.l!=h.length;)h.write_shift(1,0);_.push(h)}h=jo(_),s.unshift(h),o+=8+h.length}for(u=0;u<n.length;++u)if((!e||e[n[u][0]])&&!(V6.indexOf(n[u][0])>-1||D6.indexOf(n[u][0])>-1)&&null!=n[u][1]){var E=n[u][1],C=0;if(e){var I=t[C=+e[n[u][0]]];if("version"==I.p&&"string"==typeof E){var D=E.split(".");E=(+D[0]<<16)+(+D[1]||0)}h=B6(I.t,E)}else{var M=yW(E);-1==M&&(M=31,E=String(E)),h=B6(M,E)}s.push(h),(p=rt(8)).write_shift(4,e?C:2+u),i.push(p),o+=8+h.length}var j=8*(s.length+1);for(u=0;u<s.length;++u)i[u].write_shift(4,j),j+=s[u].length;return r.write_shift(4,o),r.write_shift(4,s.length),jo([r].concat(i).concat(s))}function G6(n,e,t,r,i,s){var o=rt(i?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,kn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var h=H6(n,t,r);if(u.push(h),i){var p=H6(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+h.length),u.push(p)}return jo(u)}function El(n,e){return e||(e=rt(2)),e.write_shift(2,+!!n),e}function oo(n){return n.read_shift(2,"u")}function zu(n,e){return e||(e=rt(2)),e.write_shift(2,n),e}function W6(n,e,t){return t||(t=rt(2)),t.write_shift(1,"e"==e?+n:+!!n),t.write_shift(1,"e"==e?1:0),t}function FT(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont",s=qc;t&&t.biff>=8&&(qc=1200),t&&8!=t.biff?12==t.biff&&(i="wstr"):n.read_shift(1)&&(i="dbcs-cont"),t.biff>=2&&t.biff<=5&&(i="cpstr");var u=r?n.read_shift(r,i):"";return qc=s,u}function TW(n){var e=n.t||"",r=rt(3);r.write_shift(2,e.length),r.write_shift(1,1);var i=rt(2*e.length);return i.write_shift(2*e.length,e,"utf16le"),jo([r,i])}function q6(n,e,t){return t||(t=rt(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function z6(n,e){e||(e=rt(6+2*n.length)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function kW(n){var e=rt(512),t=0,r=n.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(28==s)z6(r=r.slice(1),e);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var u=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),8&s&&z6(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var h=0;"../"==r.slice(3*h,3*h+3)||"..\\"==r.slice(3*h,3*h+3);)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),t=0;t<r.length-3*h;++t)e.write_shift(1,255&r.charCodeAt(t+3*h));for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function $v(n,e,t,r){return r||(r=rt(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function MW(n,e,t){var r=t.biff>8?4:2;return[n.read_shift(r),n.read_shift(r,"i"),n.read_shift(r,"i")]}function JD(n){var e=n.read_shift(2),t=n.read_shift(2);return{s:{c:n.read_shift(2),r:e},e:{c:n.read_shift(2),r:t}}}function Q6(n,e){return e||(e=rt(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function mF(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var s=rt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function WW(n,e){var t=!e||e.biff>=8?2:1,r=rt(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function uq(n,e,t,r){var i=t&&5==t.biff;r||(r=rt(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}function nB(n,e,t,r){var i=t&&5==t.biff;r||(r=rt(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function Bq(n){var e=rt(24),t=Bs(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return jo([e,kW(n[1])])}function Vq(n){var e=n[1].Tooltip,t=rt(10+2*(e.length+1));t.write_shift(2,2048);var r=Bs(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}var _F=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=UD({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,h){var p=h||{};p.dateNF||(p.dateNF="yyyymmdd");var _=Gw(function t(u,h){var p=[],_=nm(1);switch(h.type){case"base64":_=Zc(zc(u));break;case"binary":_=Zc(u);break;case"buffer":case"array":_=u}ca(_,0);var w=_.read_shift(1),E=!!(136&w),C=!1,I=!1;switch(w){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:C=!0,E=!0;break;case 140:I=!0;break;default:throw new Error("DBF Unsupported Version: "+w.toString(16))}var D=0,M=521;2==w&&(D=_.read_shift(2)),_.l+=3,2!=w&&(D=_.read_shift(4)),D>1048576&&(D=1e6),2!=w&&(M=_.read_shift(2));var j=_.read_shift(2),z=h.codepage||1252;2!=w&&(_.l+=16,_.read_shift(1),0!==_[_.l]&&(z=n[_[_.l]]),_.l+=1,_.l+=2),I&&(_.l+=36);for(var V=[],oe={},be=Math.min(_.length,2==w?521:M-10-(C?264:0)),Ie=I?32:11;_.l<be&&13!=_[_.l];)switch(oe={},oe.name=Ir.utils.decode(z,_.slice(_.l,_.l+Ie)).replace(/[\u0000\r\n].*$/g,""),_.l+=Ie,oe.type=String.fromCharCode(_.read_shift(1)),2!=w&&!I&&(oe.offset=_.read_shift(4)),oe.len=_.read_shift(1),2==w&&(oe.offset=_.read_shift(2)),oe.dec=_.read_shift(1),oe.name.length&&V.push(oe),2!=w&&(_.l+=I?13:14),oe.type){case"B":(!C||8!=oe.len)&&h.WTF&&console.log("Skipping "+oe.name+":"+oe.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+oe.name+":"+oe.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+oe.type)}if(13!==_[_.l]&&(_.l=M-1),13!==_.read_shift(1))throw new Error("DBF Terminator not found "+_.l+" "+_[_.l]);_.l=M;var re=0,Ae=0;for(p[0]=[],Ae=0;Ae!=V.length;++Ae)p[0][Ae]=V[Ae].name;for(;D-- >0;)if(42!==_[_.l])for(++_.l,p[++re]=[],Ae=0,Ae=0;Ae!=V.length;++Ae){var Se=_.slice(_.l,_.l+V[Ae].len);_.l+=V[Ae].len,ca(Se,0);var We=Ir.utils.decode(z,Se);switch(V[Ae].type){case"C":We.trim().length&&(p[re][Ae]=We.replace(/\s+$/,""));break;case"D":p[re][Ae]=8===We.length?new Date(+We.slice(0,4),+We.slice(4,6)-1,+We.slice(6,8)):We;break;case"F":p[re][Ae]=parseFloat(We.trim());break;case"+":case"I":p[re][Ae]=I?2147483648^Se.read_shift(-4,"i"):Se.read_shift(4,"i");break;case"L":switch(We.trim().toUpperCase()){case"Y":case"T":p[re][Ae]=!0;break;case"N":case"F":p[re][Ae]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+We+"|")}break;case"M":if(!E)throw new Error("DBF Unexpected MEMO for type "+w.toString(16));p[re][Ae]="##MEMO##"+(I?parseInt(We.trim(),10):Se.read_shift(4));break;case"N":(We=We.replace(/\u0000/g,"").trim())&&"."!=We&&(p[re][Ae]=+We||0);break;case"@":p[re][Ae]=new Date(Se.read_shift(-8,"f")-621356832e5);break;case"T":p[re][Ae]=new Date(864e5*(Se.read_shift(4)-2440588)+Se.read_shift(4));break;case"Y":p[re][Ae]=Se.read_shift(4,"i")/1e4+Se.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[re][Ae]=-Se.read_shift(-8,"f");break;case"B":if(C&&8==V[Ae].len){p[re][Ae]=Se.read_shift(8,"f");break}case"G":case"P":Se.l+=V[Ae].len;break;case"0":if("_NullFlags"===V[Ae].name)break;default:throw new Error("DBF Unsupported data type "+V[Ae].type)}}else _.l+=j;if(2!=w&&_.l<_.length&&26!=_[_.l++])throw new Error("DBF EOF Marker missing "+(_.l-1)+" of "+_.length+" "+_[_.l-1].toString(16));return h&&h.sheetRows&&(p=p.slice(0,h.sheetRows)),h.DBF=V,p}(u,p),p);return _["!cols"]=p.DBF.map(function(w){return{wch:w.len,DBF:w}}),delete p.DBF,_}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(u,h){try{return lm(r(u,h),h)}catch(p){if(h&&h.WTF)throw p}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function o(u,h){var p=h||{};if(+p.codepage>=0&&Gu(+p.codepage),"string"==p.type)throw new Error("Cannot write DBF to JS string");var _=wl(),w=f2(u,{header:1,raw:!0,cellDates:!0}),E=w[0],C=w.slice(1),I=u["!cols"]||[],D=0,M=0,j=0,z=1;for(D=0;D<E.length;++D)if(((I[D]||{}).DBF||{}).name)E[D]=I[D].DBF.name,++j;else if(null!=E[D]){if(++j,"number"==typeof E[D]&&(E[D]=E[D].toString(10)),"string"!=typeof E[D])throw new Error("DBF Invalid column name "+E[D]+" |"+typeof E[D]+"|");if(E.indexOf(E[D])!==D)for(M=0;M<1024;++M)if(-1==E.indexOf(E[D]+"_"+M)){E[D]+="_"+M;break}}var V=br(u["!ref"]),oe=[],be=[],Ie=[];for(D=0;D<=V.e.c-V.s.c;++D){var re="",Ae="",Se=0,We=[];for(M=0;M<C.length;++M)null!=C[M][D]&&We.push(C[M][D]);if(0!=We.length&&null!=E[D]){for(M=0;M<We.length;++M){switch(typeof We[M]){case"number":Ae="B";break;case"string":default:Ae="C";break;case"boolean":Ae="L";break;case"object":Ae=We[M]instanceof Date?"D":"C"}Se=Math.max(Se,String(We[M]).length),re=re&&re!=Ae?"C":Ae}Se>250&&(Se=250),"C"==(Ae=((I[D]||{}).DBF||{}).type)&&I[D].DBF.len>Se&&(Se=I[D].DBF.len),"B"==re&&"N"==Ae&&(re="N",Ie[D]=I[D].DBF.dec,Se=I[D].DBF.len),be[D]="C"==re||"N"==Ae?Se:s[re]||0,z+=be[D],oe[D]=re}else oe[D]="?"}var Je=_.next(32);for(Je.write_shift(4,318902576),Je.write_shift(4,C.length),Je.write_shift(2,296+32*j),Je.write_shift(2,z),D=0;D<4;++D)Je.write_shift(4,0);for(Je.write_shift(4,0|(+e[Pv]||3)<<8),D=0,M=0;D<E.length;++D)if(null!=E[D]){var Me=_.next(32),Dt=(E[D].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Me.write_shift(1,Dt,"sbcs"),Me.write_shift(1,"?"==oe[D]?"C":oe[D],"sbcs"),Me.write_shift(4,M),Me.write_shift(1,be[D]||s[oe[D]]||0),Me.write_shift(1,Ie[D]||0),Me.write_shift(1,2),Me.write_shift(4,0),Me.write_shift(1,0),Me.write_shift(4,0),Me.write_shift(4,0),M+=be[D]||s[oe[D]]||0}var cn=_.next(264);for(cn.write_shift(4,13),D=0;D<65;++D)cn.write_shift(4,0);for(D=0;D<C.length;++D){var Gt=_.next(z);for(Gt.write_shift(1,0),M=0;M<E.length;++M)if(null!=E[M])switch(oe[M]){case"L":Gt.write_shift(1,null==C[D][M]?63:C[D][M]?84:70);break;case"B":Gt.write_shift(8,C[D][M]||0,"f");break;case"N":var _t="0";for("number"==typeof C[D][M]&&(_t=C[D][M].toFixed(Ie[M]||0)),j=0;j<be[M]-_t.length;++j)Gt.write_shift(1,32);Gt.write_shift(1,_t,"sbcs");break;case"D":C[D][M]?(Gt.write_shift(4,("0000"+C[D][M].getFullYear()).slice(-4),"sbcs"),Gt.write_shift(2,("00"+(C[D][M].getMonth()+1)).slice(-2),"sbcs"),Gt.write_shift(2,("00"+C[D][M].getDate()).slice(-2),"sbcs")):Gt.write_shift(8,"00000000","sbcs");break;case"C":var pt=String(null!=C[D][M]?C[D][M]:"").slice(0,be[M]);for(Gt.write_shift(1,pt,"sbcs"),j=0;j<be[M]-pt.length;++j)Gt.write_shift(1,32)}}return _.next(1).write_shift(1,26),_.end()}}}(),uB=function(){var n={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1bN("+ys(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(E,C){var I=n[C];return"number"==typeof I?MM(I):I},r=function(E,C,I){var D=C.charCodeAt(0)-32<<4|I.charCodeAt(0)-48;return 59==D?E:MM(D)};function s(E,C){var Je,I=E.split(/[\n\r]+/),D=-1,M=-1,j=0,z=0,V=[],oe=[],be=null,Ie={},re=[],Ae=[],Se=[],We=0;for(+C.codepage>=0&&Gu(+C.codepage);j!==I.length;++j){We=0;var Gt,Me=I[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),Dt=Me.replace(/;;/g,"\0").split(";").map(function(xe){return xe.replace(/\u0000/g,";")});if(Me.length>0)switch(Dt[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Dt[1].charAt(0)&&oe.push(Me.slice(3).replace(/;;/g,";"));break;case"C":var _t=!1,pt=!1,Ut=!1,xt=!1,pn=-1,ht=-1;for(z=1;z<Dt.length;++z)switch(Dt[z].charAt(0)){case"A":case"G":break;case"X":M=parseInt(Dt[z].slice(1))-1,pt=!0;break;case"Y":for(D=parseInt(Dt[z].slice(1))-1,pt||(M=0),Je=V.length;Je<=D;++Je)V[Je]=[];break;case"K":'"'===(Gt=Dt[z].slice(1)).charAt(0)?Gt=Gt.slice(1,Gt.length-1):"TRUE"===Gt?Gt=!0:"FALSE"===Gt?Gt=!1:isNaN(Xd(Gt))?isNaN(Vw(Gt).getDate())||(Gt=ss(Gt)):(Gt=Xd(Gt),null!==be&&Bw(be)&&(Gt=BM(Gt))),_t=!0;break;case"E":xt=!0;var he=Zw(Dt[z].slice(1),{r:D,c:M});V[D][M]=[V[D][M],he];break;case"S":Ut=!0,V[D][M]=[V[D][M],"S5S"];break;case"R":pn=parseInt(Dt[z].slice(1))-1;break;case"C":ht=parseInt(Dt[z].slice(1))-1;break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+Me)}if(_t&&(V[D][M]&&2==V[D][M].length?V[D][M][0]=Gt:V[D][M]=Gt,be=null),Ut){if(xt)throw new Error("SYLK shared formula cannot have own formula");var Be=pn>-1&&V[pn][ht];if(!Be||!Be[1])throw new Error("SYLK shared formula cannot find base");V[D][M][1]=PB(Be[1],{r:D-pn,c:M-ht})}break;case"F":var ge=0;for(z=1;z<Dt.length;++z)switch(Dt[z].charAt(0)){case"X":M=parseInt(Dt[z].slice(1))-1,++ge;break;case"Y":for(D=parseInt(Dt[z].slice(1))-1,Je=V.length;Je<=D;++Je)V[Je]=[];break;case"M":We=parseInt(Dt[z].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":be=oe[parseInt(Dt[z].slice(1))];break;case"W":for(Se=Dt[z].slice(1).split(" "),Je=parseInt(Se[0],10);Je<=parseInt(Se[1],10);++Je)We=parseInt(Se[2],10),Ae[Je-1]=0===We?{hidden:!0}:{wch:We},um(Ae[Je-1]);break;case"C":Ae[M=parseInt(Dt[z].slice(1))-1]||(Ae[M]={});break;case"R":re[D=parseInt(Dt[z].slice(1))-1]||(re[D]={}),We>0?(re[D].hpt=We,re[D].hpx=r2(We)):0===We&&(re[D].hidden=!0);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+Me)}ge<1&&(be=null);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+Me)}}return re.length>0&&(Ie["!rows"]=re),Ae.length>0&&(Ie["!cols"]=Ae),C&&C.sheetRows&&(V=V.slice(0,C.sheetRows)),[V,Ie]}function o(E,C){var I=function i(E,C){switch(C.type){case"base64":return s(zc(E),C);case"binary":return s(E,C);case"buffer":return s(nr&&Buffer.isBuffer(E)?E.toString("binary"):rm(E),C);case"array":return s(Mv(E),C)}throw new Error("Unrecognized type "+C.type)}(E,C),M=I[1],j=Gw(I[0],C);return ys(M).forEach(function(z){j[z]=M[z]}),j}function h(E,C,I,D){var M="C;Y"+(I+1)+";X"+(D+1)+";K";switch(E.t){case"n":M+=E.v||0,E.f&&!E.F&&(M+=";E"+TF(E.f,{r:I,c:D}));break;case"b":M+=E.v?"TRUE":"FALSE";break;case"e":M+=E.w||E.v;break;case"d":M+='"'+(E.w||E.v)+'"';break;case"s":M+='"'+E.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return M}return n["|"]=254,{to_workbook:function u(E,C){return lm(o(E,C),C)},to_sheet:o,from_sheet:function w(E,C){var j,I=["ID;PWXL;N;E"],D=[],M=br(E["!ref"]),z=Array.isArray(E),V="\r\n";I.push("P;PGeneral"),I.push("F;P0;DG0G8;M255"),E["!cols"]&&function p(E,C){C.forEach(function(I,D){var M="F;W"+(D+1)+" "+(D+1)+" ";I.hidden?M+="0":("number"==typeof I.width&&!I.wpx&&(I.wpx=LT(I.width)),"number"==typeof I.wpx&&!I.wch&&(I.wch=BT(I.wpx)),"number"==typeof I.wch&&(M+=Math.round(I.wch)))," "!=M.charAt(M.length-1)&&E.push(M)})}(I,E["!cols"]),E["!rows"]&&function _(E,C){C.forEach(function(I,D){var M="F;";I.hidden?M+="M0;":I.hpt?M+="M"+20*I.hpt+";":I.hpx&&(M+="M"+20*UT(I.hpx)+";"),M.length>2&&E.push(M+"R"+(D+1))})}(I,E["!rows"]),I.push("B;Y"+(M.e.r-M.s.r+1)+";X"+(M.e.c-M.s.c+1)+";D"+[M.s.c,M.s.r,M.e.c,M.e.r].join(" "));for(var oe=M.s.r;oe<=M.e.r;++oe)for(var be=M.s.c;be<=M.e.c;++be){var Ie=Nn({r:oe,c:be});(j=z?(E[oe]||[])[be]:E[Ie])&&(null!=j.v||j.f&&!j.F)&&D.push(h(j,0,oe,be))}return I.join(V)+V+D.join(V)+V+"E"+V}}}(),dB=function(){function e(s,o){for(var u=s.split("\n"),h=-1,p=-1,_=0,w=[];_!==u.length;++_)if("BOT"!==u[_].trim()){if(!(h<0)){for(var E=u[_].trim().split(","),C=E[0],I=E[1],D=u[++_]||"";1&(D.match(/["]/g)||[]).length&&_<u.length-1;)D+="\n"+u[++_];switch(D=D.trim(),+C){case-1:if("BOT"===D){w[++h]=[],p=0;continue}if("EOD"!==D)throw new Error("Unrecognized DIF special command "+D);break;case 0:w[h][p]="TRUE"===D||"FALSE"!==D&&(isNaN(Xd(I))?isNaN(Vw(I).getDate())?I:ss(I):Xd(I)),++p;break;case 1:(D=(D=D.slice(1,D.length-1)).replace(/""/g,'"'))&&D.match(/^=".*"$/)&&(D=D.slice(2,-1)),w[h][p++]=""!==D?D:null}if("EOD"===D)break}}else w[++h]=[],p=0;return o&&o.sheetRows&&(w=w.slice(0,o.sheetRows)),w}function t(s,o){return Gw(function n(s,o){switch(o.type){case"base64":return e(zc(s),o);case"binary":return e(s,o);case"buffer":return e(nr&&Buffer.isBuffer(s)?s.toString("binary"):rm(s),o);case"array":return e(Mv(s),o)}throw new Error("Unrecognized type "+o.type)}(s,o),o)}return{to_workbook:function r(s,o){return lm(t(s,o),o)},to_sheet:t,from_sheet:function(){var s=function(h,p,_,w,E){h.push(p),h.push(_+","+w),h.push('"'+E.replace(/"/g,'""')+'"')},o=function(h,p,_,w){h.push(p+","+_),h.push(1==p?'"'+w.replace(/"/g,'""')+'"':w)};return function(h){var w,p=[],_=br(h["!ref"]),E=Array.isArray(h);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,_.e.r-_.s.r+1,""),s(p,"TUPLES",0,_.e.c-_.s.c+1,""),s(p,"DATA",0,0,"");for(var C=_.s.r;C<=_.e.r;++C){o(p,-1,0,"BOT");for(var I=_.s.c;I<=_.e.c;++I){var D=Nn({r:C,c:I});if(w=E?(h[C]||[])[I]:h[D])switch(w.t){case"n":var M=w.w;!M&&null!=w.v&&(M=w.v),null==M?o(p,1,0,w.f&&!w.F?"="+w.f:""):o(p,0,M,"V");break;case"b":o(p,0,w.v?1:0,w.v?"TRUE":"FALSE");break;case"s":o(p,1,0,isNaN(w.v)?w.v:'="'+w.v+'"');break;case"d":w.w||(w.w=Kc(w.z||Mn[14],Go(ss(w.v)))),o(p,0,w.w,"V");break;default:o(p,1,0,"")}else o(p,1,0,"")}}return o(p,-1,0,"EOD"),p.join("\r\n")}}()}}(),hB=function(){function n(w){return w.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function e(w){return w.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(w,E){return Gw(function t(w,E){for(var C=w.split("\n"),I=-1,D=-1,M=0,j=[];M!==C.length;++M){var z=C[M].trim().split(":");if("cell"===z[0]){var V=Bs(z[1]);if(j.length<=V.r)for(I=j.length;I<=V.r;++I)j[I]||(j[I]=[]);switch(I=V.r,D=V.c,z[2]){case"t":j[I][D]=n(z[3]);break;case"v":j[I][D]=+z[3];break;case"vtf":var oe=z[z.length-1];case"vtc":j[I][D]="nl"===z[3]?!!+z[4]:+z[4],"vtf"==z[2]&&(j[I][D]=[j[I][D],oe])}}}return E&&E.sheetRows&&(j=j.slice(0,E.sheetRows)),j}(w,E),E)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),h="--SocialCalcSpreadsheetControlSave--";function p(w){if(!w||!w["!ref"])return"";for(var I,E=[],C=[],D="",M=xl(w["!ref"]),j=Array.isArray(w),z=M.s.r;z<=M.e.r;++z)for(var V=M.s.c;V<=M.e.c;++V)if(D=Nn({r:z,c:V}),(I=j?(w[z]||[])[V]:w[D])&&null!=I.v&&"z"!==I.t){switch(C=["cell",D,"t"],I.t){case"s":case"str":C.push(e(I.v));break;case"n":I.f?(C[2]="vtf",C[3]="n",C[4]=I.v,C[5]=e(I.f)):(C[2]="v",C[3]=I.v);break;case"b":C[2]="vt"+(I.f?"f":"c"),C[3]="nl",C[4]=I.v?"1":"0",C[5]=e(I.f||(I.v?"TRUE":"FALSE"));break;case"d":var oe=Go(ss(I.v));C[2]="vtc",C[3]="nd",C[4]=""+oe,C[5]=I.w||Kc(I.z||Mn[14],oe);break;case"e":continue}E.push(C.join(":"))}return E.push("sheet:c:"+(M.e.c-M.s.c+1)+":r:"+(M.e.r-M.s.r+1)+":tvf:1"),E.push("valueformat:1:text-wiki"),E.join("\n")}return{to_workbook:function i(w,E){return lm(r(w,E),E)},to_sheet:r,from_sheet:function _(w){return[s,o,u,o,p(w),h].join("\n")}}}(),qw=function(){function n(_,w,E,C,I){I.raw?w[E][C]=_:""===_||(w[E][C]="TRUE"===_||"FALSE"!==_&&(isNaN(Xd(_))?isNaN(Vw(_).getDate())?_:ss(_):Xd(_)))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(_){for(var w={},E=!1,C=0,I=0;C<_.length;++C)34==(I=_.charCodeAt(C))?E=!E:!E&&I in t&&(w[I]=(w[I]||0)+1);for(C in I=[],w)Object.prototype.hasOwnProperty.call(w,C)&&I.push([w[C],C]);if(!I.length)for(C in w=r)Object.prototype.hasOwnProperty.call(w,C)&&I.push([w[C],C]);return I.sort(function(D,M){return D[0]-M[0]||r[D[1]]-r[M[1]]}),t[I.pop()[1]]||44}function o(_,w){return!w||!w.PRN||w.FS||"sep="==_.slice(0,4)||_.indexOf("\t")>=0||_.indexOf(",")>=0||_.indexOf(";")>=0?function s(_,w){var E=w||{},C="",I=E.dense?[]:{},D={s:{c:0,r:0},e:{c:0,r:0}};"sep="==_.slice(0,4)?13==_.charCodeAt(5)&&10==_.charCodeAt(6)?(C=_.charAt(4),_=_.slice(7)):13==_.charCodeAt(5)||10==_.charCodeAt(5)?(C=_.charAt(4),_=_.slice(6)):C=i(_.slice(0,1024)):C=E&&E.FS?E.FS:i(_.slice(0,1024));var M=0,j=0,z=0,V=0,oe=0,be=C.charCodeAt(0),Ie=!1,re=0,Ae=_.charCodeAt(0);_=_.replace(/\r\n/gm,"\n");var Se=null!=E.dateNF?function qG(n){var e="number"==typeof n?Mn[n]:n;return e=e.replace(M4,"(\\d+)"),new RegExp("^"+e+"$")}(E.dateNF):null;function We(){var Je=_.slice(V,oe),Me={};if('"'==Je.charAt(0)&&'"'==Je.charAt(Je.length-1)&&(Je=Je.slice(1,-1).replace(/""/g,'"')),0===Je.length)Me.t="z";else if(E.raw)Me.t="s",Me.v=Je;else if(0===Je.trim().length)Me.t="s",Me.v=Je;else if(61==Je.charCodeAt(0))34==Je.charCodeAt(1)&&34==Je.charCodeAt(Je.length-1)?(Me.t="s",Me.v=Je.slice(2,-1).replace(/""/g,'"')):function mK(n){return 1!=n.length}(Je)?(Me.t="n",Me.f=Je.slice(1)):(Me.t="s",Me.v=Je);else if("TRUE"==Je)Me.t="b",Me.v=!0;else if("FALSE"==Je)Me.t="b",Me.v=!1;else if(isNaN(z=Xd(Je)))if(!isNaN(Vw(Je).getDate())||Se&&Je.match(Se)){Me.z=E.dateNF||Mn[14];var Dt=0;Se&&Je.match(Se)&&(Je=function zG(n,e,t){var r=-1,i=-1,s=-1,o=-1,u=-1,h=-1;(e.match(M4)||[]).forEach(function(w,E){var C=parseInt(t[E+1],10);switch(w.toLowerCase().charAt(0)){case"y":r=C;break;case"d":s=C;break;case"h":o=C;break;case"s":h=C;break;case"m":o>=0?u=C:i=C}}),h>=0&&-1==u&&i>=0&&(u=i,i=-1);var p=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==p.length&&(p="0"+p),8==p.length&&(p="20"+p);var _=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return-1==o&&-1==u&&-1==h?p:-1==r&&-1==i&&-1==s?_:p+"T"+_}(0,E.dateNF,Je.match(Se)||[]),Dt=1),E.cellDates?(Me.t="d",Me.v=ss(Je,Dt)):(Me.t="n",Me.v=Go(ss(Je,Dt))),!1!==E.cellText&&(Me.w=Kc(Me.z,Me.v instanceof Date?Go(Me.v):Me.v)),E.cellNF||delete Me.z}else Me.t="s",Me.v=Je;else Me.t="n",!1!==E.cellText&&(Me.w=Je),Me.v=z;if("z"==Me.t||(E.dense?(I[M]||(I[M]=[]),I[M][j]=Me):I[Nn({c:j,r:M})]=Me),Ae=_.charCodeAt(V=oe+1),D.e.c<j&&(D.e.c=j),D.e.r<M&&(D.e.r=M),re==be)++j;else if(j=0,++M,E.sheetRows&&E.sheetRows<=M)return!0}e:for(;oe<_.length;++oe)switch(re=_.charCodeAt(oe)){case 34:34===Ae&&(Ie=!Ie);break;case be:case 10:case 13:if(!Ie&&We())break e}return oe-V>0&&We(),I["!ref"]=Xn(D),I}(_,w):Gw(function e(_,w){var E=w||{},C=[];if(!_||0===_.length)return C;for(var I=_.split(/[\r\n]/),D=I.length-1;D>=0&&0===I[D].length;)--D;for(var M=10,j=0,z=0;z<=D;++z)-1==(j=I[z].indexOf(" "))?j=I[z].length:j++,M=Math.max(M,j);for(z=0;z<=D;++z){C[z]=[];var V=0;for(n(I[z].slice(0,M).trim(),C,z,V,E),V=1;V<=(I[z].length-M)/10+1;++V)n(I[z].slice(M+10*(V-1),M+10*V).trim(),C,z,V,E)}return E.sheetRows&&(C=C.slice(0,E.sheetRows)),C}(_,w),w)}function u(_,w){var E="",C="string"==w.type?[0,0,0,0]:function HF(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=zc(n.slice(0,12));break;case"binary":t=n;break;default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}(_,w);switch(w.type){case"base64":E=zc(_);break;case"binary":case"string":E=_;break;case"buffer":E=65001==w.codepage?_.toString("utf8"):nr&&Buffer.isBuffer(_)?_.toString("binary"):rm(_);break;case"array":E=Mv(_);break;default:throw new Error("Unrecognized type "+w.type)}return 239==C[0]&&187==C[1]&&191==C[2]?E=Oi(E.slice(3)):"string"!=w.type&&"buffer"!=w.type&&65001==w.codepage&&(E=Oi(E)),"socialcalc:version:"==E.slice(0,19)?hB.to_sheet("string"==w.type?E:Oi(E),w):o(E,w)}return{to_workbook:function h(_,w){return lm(u(_,w),w)},to_sheet:u,from_sheet:function p(_){for(var C,w=[],E=br(_["!ref"]),I=Array.isArray(_),D=E.s.r;D<=E.e.r;++D){for(var M=[],j=E.s.c;j<=E.e.c;++j){var z=Nn({r:D,c:j});if((C=I?(_[D]||[])[j]:_[z])&&null!=C.v){for(var V=(C.w||(_f(C),C.w)||"").slice(0,10);V.length<10;)V+=" ";M.push(V+(0===j?" ":""))}else M.push("          ")}w.push(M.join(""))}return w.join("\n")}}}(),Wv=function(){function n(he,Be,ge){if(he){ca(he,he.l||0);for(var xe=ge.Enum||pn;he.l<he.length;){var ct=he.read_shift(2),kt=xe[ct]||xe[65535],At=he.read_shift(2),Tt=he.l+At,gt=kt.f&&kt.f(he,At,ge);if(he.l=Tt,Be(gt,kt,ct))return}}}function t(he,Be){if(!he)return he;var ge=Be||{},xe=ge.dense?[]:{},ct="Sheet1",kt="",At=0,Tt={},gt=[],qn=[],pe={s:{r:0,c:0},e:{r:0,c:0}},Yr=ge.sheetRows||0;if(0==he[2]&&(8==he[3]||9==he[3])&&he.length>=16&&5==he[14]&&108===he[15])throw new Error("Unsupported Works 3 for Mac file");if(2==he[2])ge.Enum=pn,n(he,function(sn,Hs,sd){switch(sd){case 0:ge.vers=sn,sn>=4096&&(ge.qpro=!0);break;case 6:pe=sn;break;case 204:sn&&(kt=sn);break;case 222:kt=sn;break;case 15:case 51:ge.qpro||(sn[1].v=sn[1].v.slice(1));case 13:case 14:case 16:14==sd&&112==(112&sn[2])&&(15&sn[2])>1&&(15&sn[2])<15&&(sn[1].z=ge.dateNF||Mn[14],ge.cellDates&&(sn[1].t="d",sn[1].v=BM(sn[1].v))),ge.qpro&&sn[3]>At&&(xe["!ref"]=Xn(pe),Tt[ct]=xe,gt.push(ct),xe=ge.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},At=sn[3],ct=kt||"Sheet"+(At+1),kt="");var Of=ge.dense?(xe[sn[0].r]||[])[sn[0].c]:xe[Nn(sn[0])];if(Of){Of.t=sn[1].t,Of.v=sn[1].v,null!=sn[1].z&&(Of.z=sn[1].z),null!=sn[1].f&&(Of.f=sn[1].f);break}ge.dense?(xe[sn[0].r]||(xe[sn[0].r]=[]),xe[sn[0].r][sn[0].c]=sn[1]):xe[Nn(sn[0])]=sn[1]}},ge);else{if(26!=he[2]&&14!=he[2])throw new Error("Unrecognized LOTUS BOF "+he[2]);ge.Enum=ht,14==he[2]&&(ge.qpro=!0,he.l=0),n(he,function(sn,Hs,sd){switch(sd){case 204:ct=sn;break;case 22:sn[1].v=sn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(sn[3]>At&&(xe["!ref"]=Xn(pe),Tt[ct]=xe,gt.push(ct),xe=ge.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ct="Sheet"+((At=sn[3])+1)),Yr>0&&sn[0].r>=Yr)break;ge.dense?(xe[sn[0].r]||(xe[sn[0].r]=[]),xe[sn[0].r][sn[0].c]=sn[1]):xe[Nn(sn[0])]=sn[1],pe.e.c<sn[0].c&&(pe.e.c=sn[0].c),pe.e.r<sn[0].r&&(pe.e.r=sn[0].r);break;case 27:sn[14e3]&&(qn[sn[14e3][0]]=sn[14e3][1]);break;case 1537:qn[sn[0]]=sn[1],sn[0]==At&&(ct=sn[1])}},ge)}if(xe["!ref"]=Xn(pe),Tt[kt||ct]=xe,gt.push(kt||ct),!qn.length)return{SheetNames:gt,Sheets:Tt};for(var ur={},Qr=[],dr=0;dr<qn.length;++dr)Tt[gt[dr]]?(Qr.push(qn[dr]||gt[dr]),ur[qn[dr]]=Tt[qn[dr]]||Tt[gt[dr]]):(Qr.push(qn[dr]),ur[qn[dr]]={"!ref":"A1"});return{SheetNames:Qr,Sheets:ur}}function p(he,Be,ge){var xe=[{c:0,r:0},{t:"n",v:0},0,0];return ge.qpro&&20768!=ge.vers?(xe[0].c=he.read_shift(1),xe[3]=he.read_shift(1),xe[0].r=he.read_shift(2),he.l+=2):(xe[2]=he.read_shift(1),xe[0].c=he.read_shift(2),xe[0].r=he.read_shift(2)),xe}function _(he,Be,ge){var xe=he.l+Be,ct=p(he,0,ge);if(ct[1].t="s",20768==ge.vers){he.l++;var kt=he.read_shift(1);return ct[1].v=he.read_shift(kt,"utf8"),ct}return ge.qpro&&he.l++,ct[1].v=he.read_shift(xe-he.l,"cstr"),ct}function w(he,Be,ge){var xe=rt(7+ge.length);xe.write_shift(1,255),xe.write_shift(2,Be),xe.write_shift(2,he),xe.write_shift(1,39);for(var ct=0;ct<xe.length;++ct){var kt=ge.charCodeAt(ct);xe.write_shift(1,kt>=128?95:kt)}return xe.write_shift(1,0),xe}function C(he,Be,ge){var xe=rt(7);return xe.write_shift(1,255),xe.write_shift(2,Be),xe.write_shift(2,he),xe.write_shift(2,ge,"i"),xe}function D(he,Be,ge){var xe=rt(13);return xe.write_shift(1,255),xe.write_shift(2,Be),xe.write_shift(2,he),xe.write_shift(8,ge,"f"),xe}function j(he,Be,ge){var xe=32768&Be;return Be=(xe?he:0)+((Be&=-32769)>=8192?Be-16384:Be),(xe?"":"$")+(ge?Mi(Be):Es(Be))}var z={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},V=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function be(he){var Be=[{c:0,r:0},{t:"n",v:0},0];return Be[0].r=he.read_shift(2),Be[3]=he[he.l++],Be[0].c=he[he.l++],Be}function re(he,Be,ge,xe){var ct=rt(6+xe.length);ct.write_shift(2,he),ct.write_shift(1,ge),ct.write_shift(1,Be),ct.write_shift(1,39);for(var kt=0;kt<xe.length;++kt){var At=xe.charCodeAt(kt);ct.write_shift(1,At>=128?95:At)}return ct.write_shift(1,0),ct}function Se(he,Be){var ge=be(he),xe=he.read_shift(4),ct=he.read_shift(4),kt=he.read_shift(2);if(65535==kt)return 0===xe&&3221225472===ct?(ge[1].t="e",ge[1].v=15):0===xe&&3489660928===ct?(ge[1].t="e",ge[1].v=42):ge[1].v=0,ge;var At=32768&kt;return kt=(32767&kt)-16446,ge[1].v=(1-2*At)*(ct*Math.pow(2,kt+32)+xe*Math.pow(2,kt)),ge}function We(he,Be,ge,xe){var ct=rt(14);if(ct.write_shift(2,he),ct.write_shift(1,ge),ct.write_shift(1,Be),0==xe)return ct.write_shift(4,0),ct.write_shift(4,0),ct.write_shift(2,65535),ct;var kt=0,At=0,gt=0;return xe<0&&(kt=1,xe=-xe),At=0|Math.log2(xe),0==(2147483648&(gt=(xe/=Math.pow(2,At-31))>>>0))&&(++At,gt=(xe/=2)>>>0),xe-=gt,gt|=2147483648,gt>>>=0,xe*=Math.pow(2,32),ct.write_shift(4,xe>>>0),ct.write_shift(4,gt),ct.write_shift(2,At+=16383+(kt?32768:0)),ct}function Dt(he,Be){var ge=be(he),xe=he.read_shift(8,"f");return ge[1].v=xe,ge}function Gt(he,Be){return 0==he[he.l+Be-1]?he.read_shift(Be,"cstr"):""}function xt(he,Be){var ge=rt(5+he.length);ge.write_shift(2,14e3),ge.write_shift(2,Be);for(var xe=0;xe<he.length;++xe){var ct=he.charCodeAt(xe);ge[ge.l++]=ct>127?95:ct}return ge[ge.l++]=0,ge}var pn={0:{n:"BOF",f:oo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function u(he,Be,ge){var xe={s:{c:0,r:0},e:{c:0,r:0}};return 8==Be&&ge.qpro?(xe.s.c=he.read_shift(1),he.l++,xe.s.r=he.read_shift(2),xe.e.c=he.read_shift(1),he.l++,xe.e.r=he.read_shift(2),xe):(xe.s.c=he.read_shift(2),xe.s.r=he.read_shift(2),12==Be&&ge.qpro&&(he.l+=2),xe.e.c=he.read_shift(2),xe.e.r=he.read_shift(2),12==Be&&ge.qpro&&(he.l+=2),65535==xe.s.c&&(xe.s.c=xe.e.c=xe.s.r=xe.e.r=0),xe)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function E(he,Be,ge){var xe=p(he,0,ge);return xe[1].v=he.read_shift(2,"i"),xe}},14:{n:"NUMBER",f:function I(he,Be,ge){var xe=p(he,0,ge);return xe[1].v=he.read_shift(8,"f"),xe}},15:{n:"LABEL",f:_},16:{n:"FORMULA",f:function M(he,Be,ge){var xe=he.l+Be,ct=p(he,0,ge);if(ct[1].v=he.read_shift(8,"f"),ge.qpro)he.l=xe;else{var kt=he.read_shift(2);(function oe(he,Be){ca(he,0);for(var ge=[],xe=0,ct="",kt="",At="",Tt="";he.l<he.length;){var gt=he[he.l++];switch(gt){case 0:ge.push(he.read_shift(8,"f"));break;case 1:kt=j(Be[0].c,he.read_shift(2),!0),ct=j(Be[0].r,he.read_shift(2),!1),ge.push(kt+ct);break;case 2:var qn=j(Be[0].c,he.read_shift(2),!0),pe=j(Be[0].r,he.read_shift(2),!1);kt=j(Be[0].c,he.read_shift(2),!0),ct=j(Be[0].r,he.read_shift(2),!1),ge.push(qn+pe+":"+kt+ct);break;case 3:if(he.l<he.length)return void console.error("WK1 premature formula end");break;case 4:ge.push("("+ge.pop()+")");break;case 5:ge.push(he.read_shift(2));break;case 6:for(var Yr="";gt=he[he.l++];)Yr+=String.fromCharCode(gt);ge.push('"'+Yr.replace(/"/g,'""')+'"');break;case 8:ge.push("-"+ge.pop());break;case 23:ge.push("+"+ge.pop());break;case 22:ge.push("NOT("+ge.pop()+")");break;case 20:case 21:Tt=ge.pop(),At=ge.pop(),ge.push(["AND","OR"][gt-20]+"("+At+","+Tt+")");break;default:if(gt<32&&V[gt])Tt=ge.pop(),At=ge.pop(),ge.push(At+V[gt]+Tt);else{if(!z[gt])return gt<=7?console.error("WK1 invalid opcode "+gt.toString(16)):gt<=24?console.error("WK1 unsupported op "+gt.toString(16)):gt<=30?console.error("WK1 invalid opcode "+gt.toString(16)):gt<=115?console.error("WK1 unsupported function opcode "+gt.toString(16)):console.error("WK1 unrecognized opcode "+gt.toString(16));if(69==(xe=z[gt][1])&&(xe=he[he.l++]),xe>ge.length)return void console.error("WK1 bad formula parse 0x"+gt.toString(16)+":|"+ge.join("|")+"|");var ur=ge.slice(-xe);ge.length-=xe,ge.push(z[gt][0]+"("+ur.join(",")+")")}}}1==ge.length?Be[1].f=""+ge[0]:console.error("WK1 bad formula parse |"+ge.join("|")+"|")})(he.slice(he.l,he.l+kt),ct),he.l+=kt}return ct}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:_},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Gt},222:{n:"SHEETNAMELP",f:function _t(he,Be){var ge=he[he.l++];ge>Be-1&&(ge=Be-1);for(var xe="";xe.length<ge;)xe+=String.fromCharCode(he[he.l++]);return xe}},65535:{n:""}},ht={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function Ie(he,Be){var ge=be(he);return ge[1].t="s",ge[1].v=he.read_shift(Be-4,"cstr"),ge}},23:{n:"NUMBER17",f:Se},24:{n:"NUMBER18",f:function Ae(he,Be){var ge=be(he);ge[1].v=he.read_shift(2);var xe=ge[1].v>>1;if(1&ge[1].v)switch(7&xe){case 0:xe=5e3*(xe>>3);break;case 1:xe=500*(xe>>3);break;case 2:xe=(xe>>3)/20;break;case 3:xe=(xe>>3)/200;break;case 4:xe=(xe>>3)/2e3;break;case 5:xe=(xe>>3)/2e4;break;case 6:xe=(xe>>3)/16;break;case 7:xe=(xe>>3)/64}return ge[1].v=xe,ge}},25:{n:"FORMULA19",f:function Je(he,Be){var ge=Se(he);return he.l+=Be-14,ge}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ut(he,Be){for(var ge={},xe=he.l+Be;he.l<xe;){var ct=he.read_shift(2);if(14e3==ct){for(ge[ct]=[0,""],ge[ct][0]=he.read_shift(2);he[he.l];)ge[ct][1]+=String.fromCharCode(he[he.l]),he.l++;he.l++}}return ge}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Me(he,Be){var ge=be(he),xe=he.read_shift(4);return ge[1].v=xe>>6,ge}},38:{n:"??"},39:{n:"NUMBER27",f:Dt},40:{n:"FORMULA28",f:function cn(he,Be){var ge=Dt(he);return he.l+=Be-10,ge}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Gt},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function pt(he,Be,ge){if(ge.qpro&&!(Be<21)){var xe=he.read_shift(1);return he.l+=17,he.l+=1,he.l+=2,[xe,he.read_shift(Be-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(he,Be){var ge=Be||{};if(+ge.codepage>=0&&Gu(+ge.codepage),"string"==ge.type)throw new Error("Cannot write WK1 to JS string");var xe=wl(),ct=br(he["!ref"]),kt=Array.isArray(he),At=[];jt(xe,0,function s(he){var Be=rt(2);return Be.write_shift(2,he),Be}(1030)),jt(xe,6,function h(he){var Be=rt(8);return Be.write_shift(2,he.s.c),Be.write_shift(2,he.s.r),Be.write_shift(2,he.e.c),Be.write_shift(2,he.e.r),Be}(ct));for(var Tt=Math.min(ct.e.r,8191),gt=ct.s.r;gt<=Tt;++gt)for(var qn=Es(gt),pe=ct.s.c;pe<=ct.e.c;++pe){gt===ct.s.r&&(At[pe]=Mi(pe));var ur=kt?(he[gt]||[])[pe]:he[At[pe]+qn];ur&&"z"!=ur.t&&("n"==ur.t?(0|ur.v)==ur.v&&ur.v>=-32768&&ur.v<=32767?jt(xe,13,C(gt,pe,ur.v)):jt(xe,14,D(gt,pe,ur.v)):jt(xe,15,w(gt,pe,_f(ur).slice(0,239))))}return jt(xe,1),xe.end()},book_to_wk3:function i(he,Be){var ge=Be||{};if(+ge.codepage>=0&&Gu(+ge.codepage),"string"==ge.type)throw new Error("Cannot write WK3 to JS string");var xe=wl();jt(xe,0,function o(he){var Be=rt(26);Be.write_shift(2,4096),Be.write_shift(2,4),Be.write_shift(4,0);for(var ge=0,xe=0,ct=0,kt=0;kt<he.SheetNames.length;++kt){var Tt=he.Sheets[he.SheetNames[kt]];if(Tt&&Tt["!ref"]){++ct;var gt=xl(Tt["!ref"]);ge<gt.e.r&&(ge=gt.e.r),xe<gt.e.c&&(xe=gt.e.c)}}return ge>8191&&(ge=8191),Be.write_shift(2,ge),Be.write_shift(1,ct),Be.write_shift(1,xe),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(1,1),Be.write_shift(1,2),Be.write_shift(4,0),Be.write_shift(4,0),Be}(he));for(var ct=0,kt=0;ct<he.SheetNames.length;++ct)(he.Sheets[he.SheetNames[ct]]||{})["!ref"]&&jt(xe,27,xt(he.SheetNames[ct],kt++));var At=0;for(ct=0;ct<he.SheetNames.length;++ct){var Tt=he.Sheets[he.SheetNames[ct]];if(Tt&&Tt["!ref"]){for(var gt=br(Tt["!ref"]),qn=Array.isArray(Tt),pe=[],Yr=Math.min(gt.e.r,8191),ur=gt.s.r;ur<=Yr;++ur)for(var Qr=Es(ur),dr=gt.s.c;dr<=gt.e.c;++dr){ur===gt.s.r&&(pe[dr]=Mi(dr));var Hs=qn?(Tt[ur]||[])[dr]:Tt[pe[dr]+Qr];Hs&&"z"!=Hs.t&&("n"==Hs.t?jt(xe,23,We(ur,dr,At,Hs.v)):jt(xe,22,re(ur,dr,At,_f(Hs).slice(0,239))))}++At}}return jt(xe,1),xe.end()},to_workbook:function e(he,Be){switch(Be.type){case"base64":return t(Zc(zc(he)),Be);case"binary":return t(Zc(he),Be);case"buffer":case"array":return t(he,Be)}throw"Unsupported type "+Be.type}}}(),yz=/^\s|\s$|[\t\n\r]/;function pB(n,e){if(!e.bookSST)return"";var t=[xs];t[t.length]=Lt("sst",null,{xmlns:am[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(null!=n[r]){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(yz)&&(s+=' xml:space="preserve"'),s+=">"+Kr(i.t)+"</t>"),t[t.length]=s+="</si>"}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}var bz=function M$(n,e){var t=!1;return null==e&&(t=!0,e=rt(15+4*n.t.length)),e.write_shift(1,0),Wo(n.t,e),t?e.slice(0,e.l):e};function Tz(n){var e=wl();yt(e,159,function Ez(n,e){return e||(e=rt(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}(n));for(var t=0;t<n.length;++t)yt(e,19,bz(n[t]));return yt(e,160),e.end()}function vF(n){var t,s,e=0,r=function gB(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}(n),i=r.length+1;for((t=nm(i))[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)e=((0==(16384&e)?0:1)|e<<1&32767)^t[s];return 52811^e}var yB=function(){function n(i,s){switch(s.type){case"base64":return e(zc(i),s);case"binary":return e(i,s);case"buffer":return e(nr&&Buffer.isBuffer(i)?i.toString("binary"):rm(i),s);case"array":return e(Mv(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var u=(s||{}).dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(_,w){Array.isArray(u)&&(u[w]=[]);for(var I,E=/\\\w+\b/g,C=0,D=-1;I=E.exec(_);){if("\\cell"===I[0]){var M=_.slice(C,E.lastIndex-I[0].length);if(" "==M[0]&&(M=M.slice(1)),++D,M.length){var j={v:M,t:"s"};Array.isArray(u)?u[w][D]=j:u[Nn({r:w,c:D})]=j}}C=E.lastIndex}D>p.e.c&&(p.e.c=D)}),u["!ref"]=Xn(p),u}return{to_workbook:function t(i,s){return lm(n(i,s),s)},to_sheet:n,from_sheet:function r(i){for(var u,s=["{\\rtf1\\ansi"],o=br(i["!ref"]),h=Array.isArray(i),p=o.s.r;p<=o.e.r;++p){s.push("\\trowd\\trautofit1");for(var _=o.s.c;_<=o.e.c;++_)s.push("\\cellx"+(_+1));for(s.push("\\pard\\intbl"),_=o.s.c;_<=o.e.c;++_){var w=Nn({r:p,c:_});(u=h?(i[p]||[])[_]:i[w])&&(null!=u.v||u.f&&!u.F)&&(s.push(" "+(u.w||(_f(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function RT(n){for(var e=0,t=1;3!=e;++e)t=256*t+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var Na=6;function LT(n){return Math.floor((n+Math.round(128/Na)/256)*Na)}function BT(n){return Math.floor((n-5)/Na*100+.5)/100}function n2(n){return Math.round((n*Na+5)/Na*256)/256}function um(n){n.width?(n.wpx=LT(n.width),n.wch=BT(n.wpx),n.MDW=Na):n.wpx?(n.wch=BT(n.wpx),n.width=n2(n.wch),n.MDW=Na):"number"==typeof n.wch&&(n.width=n2(n.wch),n.wpx=LT(n.width),n.MDW=Na),n.customWidth&&delete n.customWidth}function UT(n){return 96*n/96}function r2(n){return 96*n/96}function EB(n,e){var r,t=[xs,Lt("styleSheet",null,{xmlns:am[0],"xmlns:vt":so_vt})];return n.SSF&&null!=(r=function Kz(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)null!=n[r]&&(e[e.length]=Lt("numFmt",null,{numFmtId:r,formatCode:Kr(n[r])}))}),1===e.length?"":(e[e.length]="</numFmts>",e[0]=Lt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}(n.SSF))&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function Yz(n){var e=[];return e[e.length]=Lt("cellXfs",null),n.forEach(function(t){e[e.length]=Lt("xf",null,t)}),e[e.length]="</cellXfs>",2===e.length?"":(e[0]=Lt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Jz(n,e,t){t||(t=rt(6+4*e.length)),t.write_shift(2,n),Wo(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return null==t.l&&(t.l=t.length),r}var xF,nZ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rZ=Pa;function bB(n,e){e||(e=rt(84)),xF||(xF=UD(nZ));var t=xF[n.patternType];null==t&&(t=40),e.write_shift(4,t);var r=0;if(40!=t)for(qD({auto:1},e),qD({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function TB(n,e,t){return t||(t=rt(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function VT(n,e){return e||(e=rt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var sZ=Pa;function yZ(n,e){var t=wl();return yt(t,278),function uZ(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=e[i]&&++t}),0!=t&&(yt(n,615,Jd(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=e[i]&&yt(n,44,Jz(i,e[i]))}),yt(n,616))}}(t,n.SSF),function dZ(n){yt(n,611,Jd(1)),yt(n,43,function tZ(n,e){e||(e=rt(153)),e.write_shift(2,20*n.sz),function H$(n,e){e||(e=rt(2)),e.write_shift(1,(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0)),e.write_shift(1,0)}(n,e),e.write_shift(2,n.bold?700:400);var t=0;"superscript"==n.vertAlign?t=1:"subscript"==n.vertAlign&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),qD(n.color,e);var r=0;return"major"==n.scheme&&(r=1),"minor"==n.scheme&&(r=2),e.write_shift(1,r),Wo(n.name,e),e.length>e.l?e.slice(0,e.l):e}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),yt(n,612)}(t),function hZ(n){yt(n,603,Jd(2)),yt(n,45,bB({patternType:"none"})),yt(n,45,bB({patternType:"gray125"})),yt(n,604)}(t),function fZ(n){yt(n,613,Jd(1)),yt(n,46,function oZ(n,e){return e||(e=rt(51)),e.write_shift(1,0),VT(0,e),VT(0,e),VT(0,e),VT(0,e),VT(0,e),e.length>e.l?e.slice(0,e.l):e}()),yt(n,614)}(t),function pZ(n){yt(n,626,Jd(1)),yt(n,47,TB({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),yt(n,627)}(t),function gZ(n,e){yt(n,617,Jd(e.length)),e.forEach(function(t){yt(n,47,TB(t,0))}),yt(n,618)}(t,e.cellXfs),function mZ(n){yt(n,619,Jd(1)),yt(n,48,function aZ(n,e){return e||(e=rt(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,+n.builtinId),e.write_shift(1,0),WD(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}({xfId:0,builtinId:0,name:"Normal"})),yt(n,620)}(t),function _Z(n){yt(n,505,Jd(0)),yt(n,506)}(t),function vZ(n){yt(n,508,function lZ(n,e,t){var r=rt(2052);return r.write_shift(4,n),WD(e,r),WD(t,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),yt(n,509)}(t),yt(t,279),t.end()}function EF(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&"string"==typeof n.raw)return n.raw;var t=[xs];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function WZ(){var n=wl();return yt(n,332),yt(n,334,Jd(1)),yt(n,335,function BZ(n){var e=rt(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Wo(n.name,e),e.slice(0,e.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),yt(n,336),yt(n,339,function HZ(n,e){var t=rt(8+2*e.length);return t.write_shift(4,n),Wo(e,t),t.slice(0,t.l)}(1,"XLDAPR")),yt(n,52),yt(n,35,Jd(514)),yt(n,4096,Jd(0)),yt(n,4097,zu(1)),yt(n,36),yt(n,53),yt(n,340),yt(n,337,function GZ(n,e){var t=rt(8);return t.write_shift(4,n),t.write_shift(4,e?1:0),t}(1,!0)),yt(n,51,function VZ(n){var e=rt(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}([[1,0]])),yt(n,338),yt(n,333),n.end()}function SB(){var n=[xs];return n.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),n.join("")}var zw=1024;function AB(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Lt("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":Qc_o,"xmlns:x":Qc_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),Lt("o:shapelayout",Lt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Lt("v:shapetype",[Lt("v:stroke",null,{joinstyle:"miter"}),Lt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];zw<1e3*n;)zw+=1e3;return e.forEach(function(s){var o=Bs(s[0]),u={color2:"#BEFF82",type:"gradient"};"gradient"==u.type&&(u.angle="-180");var h="gradient"==u.type?Lt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Lt("v:fill",h,u);++zw,i=i.concat(["<v:shape"+AT({id:"_x0000_s"+zw,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Lt("v:shadow",null,{on:"t",obscured:"t"}),Lt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",la("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),la("x:AutoFill","False"),la("x:Row",String(o.r)),la("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function DB(n){var e=[xs,Lt("comments",null,{xmlns:am[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Kr(i.a);-1==t.indexOf(s)&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&-1==t.indexOf("tc="+i.ID)&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),0==t.length&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(i=t.indexOf(Kr(h.a))),s.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(la("t",Kr(s[0]||"")));else{for(var o="Comment:\n    "+s[0]+"\n",u=1;u<s.length;++u)o+="Reply:\n    "+s[u]+"\n";e.push(la("t",Kr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function eK(n,e,t){var r=[xs,Lt("ThreadedComments",null,{xmlns:so_TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,u){if(o.T){o.a&&-1==e.indexOf(o.a)&&e.push(o.a);var h={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};0==u?s=h.id:h.parentId=s,o.ID=h.id,o.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Lt("threadedComment",la("text",o.t||""),h))}else delete o.ID})}),r.push("</ThreadedComments>"),r.join("")}var sK=Oa;function lK(n){var e=wl(),t=[];return yt(e,628),yt(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),yt(e,632,function oK(n){return Wo(n.slice(0,54))}(i.a)))})}),yt(e,631),yt(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Bs(r[0]),e:Bs(r[0])};yt(e,635,function iK(n,e){return null==e&&(e=rt(36)),e.write_shift(4,n[1].iauthor),$w(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}([s,i])),i.t&&i.t.length>0&&yt(e,637,function N$(n,e){var t=!1;return null==e&&(t=!0,e=rt(23+4*n.t.length)),e.write_shift(1,1),Wo(n.t,e),e.write_shift(4,1),function O$(n,e){e||(e=rt(4)),e.write_shift(2,n.ich||0),e.write_shift(2,n.ifnt||0)}({ich:0,ifnt:0},e),t?e.slice(0,e.l):e}(i)),yt(e,636),delete i.iauthor})}),yt(e,634),yt(e,629),e.end()}var kB=["xlsb","xlsm","xlam","biff8","xla"],Zw=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var u=!1,h=!1;0==s.length?h=!0:"["==s.charAt(0)&&(h=!0,s=s.slice(1,-1)),0==o.length?u=!0:"["==o.charAt(0)&&(u=!0,o=o.slice(1,-1));var p=s.length>0?0|parseInt(s,10):0,_=o.length>0?0|parseInt(o,10):0;return u?_+=e.c:--_,h?p+=e.r:--p,i+(u?"":"$")+Mi(_)+(h?"":"$")+Es(p)}return function(i,s){return e=s,i.replace(n,t)}}(),bF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,TF=function(){return function(e,t){return e.replace(bF,function(r,i,s,o,u,h){var p=eF(o)-(s?0:t.c),_=JM(h)-(u?0:t.r);return i+"R"+(0==_?"":u?_+1:"["+_+"]")+"C"+(0==p?"":s?p+1:"["+p+"]")})}}();function PB(n,e){return n.replace(bF,function(t,r,i,s,o,u){return r+("$"==i?i+s:Mi(eF(s)+e.c))+("$"==o?o+u:Es(JM(u)+e.r))})}function ao(n){n.l+=1}function dm(n,e){var t=n.read_shift(1==e?1:2);return[16383&t,t>>14&1,t>>15&1]}function OB(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return MB(n);12==t.biff&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=dm(n,2),u=dm(n,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function MB(n){var e=dm(n,2),t=dm(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function FB(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return function vK(n){var e=dm(n,2),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}(n);var r=n.read_shift(t&&12==t.biff?4:2),i=dm(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function yK(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:255&t,fQuoted:!!(16384&t),cRel:t>>15,rRel:t>>15}}function NB(n){var e=1&n[n.l+1];return n.l+=4,[e,1]}function RB(n){return[n.read_shift(1),n.read_shift(1)]}function ZK(n,e){var t=[n.read_shift(1)];if(12==e)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2}switch(t[0]){case 4:t[1]=function Us(n,e){return 1===n.read_shift(e)}(n,1)?"TRUE":"FALSE",12!=e&&(n.l+=7);break;case 37:case 16:t[1]=ng[n[n.l]],n.l+=12==e?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Ma(n);break;case 2:t[1]=function Gv(n,e,t){if(t.biff>5)return function NT(n,e,t){var r=n.read_shift(t&&2==t.biff?1:2);return 0===r?(n.l++,""):function jv(n,e,t){if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return n.read_shift(e,0===i?"sbcs-cont":"dbcs-cont")}(n,r,t)}(n,0,t);var r=n.read_shift(1);return 0===r?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function KK(n,e,t){for(var r=n.read_shift(12==t.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==t.biff?Bv:JD)(n,8));return i}function YK(n,e,t){var r=0,i=0;12==t.biff?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var u=0;u!=i;++u)o[s][u]=ZK(n,t.biff);return o}function HT(n,e,t){return n.l+=2,[yK(n)]}function CF(n){return n.l+=6,[]}function LB(n){return n.l+=2,[oo(n),1&n.read_shift(2)]}var mY=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],BB={1:{n:"PtgExp",f:function jK(n,e,t){return n.l++,t&&12==t.biff?[n.read_shift(4,"i"),0]:[n.read_shift(2),n.read_shift(t&&2==t.biff?1:2)]}},2:{n:"PtgTbl",f:Pa},3:{n:"PtgAdd",f:ao},4:{n:"PtgSub",f:ao},5:{n:"PtgMul",f:ao},6:{n:"PtgDiv",f:ao},7:{n:"PtgPower",f:ao},8:{n:"PtgConcat",f:ao},9:{n:"PtgLt",f:ao},10:{n:"PtgLe",f:ao},11:{n:"PtgEq",f:ao},12:{n:"PtgGe",f:ao},13:{n:"PtgGt",f:ao},14:{n:"PtgNe",f:ao},15:{n:"PtgIsect",f:ao},16:{n:"PtgUnion",f:ao},17:{n:"PtgRange",f:ao},18:{n:"PtgUplus",f:ao},19:{n:"PtgUminus",f:ao},20:{n:"PtgPercent",f:ao},21:{n:"PtgParen",f:ao},22:{n:"PtgMissArg",f:ao},23:{n:"PtgStr",f:function zK(n,e,t){return n.l++,FT(n,0,t)}},26:{n:"PtgSheet",f:function yY(n,e,t){return n.l+=5,n.l+=2,n.l+=2==t.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function wY(n,e,t){return n.l+=2==t.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function GK(n){return n.l++,ng[n.read_shift(1)]}},29:{n:"PtgBool",f:function WK(n){return n.l++,0!==n.read_shift(1)}},30:{n:"PtgInt",f:function $K(n){return n.l++,n.read_shift(2)}},31:{n:"PtgNum",f:function qK(n){return n.l++,Ma(n)}},32:{n:"PtgArray",f:function AK(n,e,t){var r=(96&n[n.l++])>>5;return n.l+=2==t.biff?6:12==t.biff?14:7,[r]}},33:{n:"PtgFunc",f:function BK(n,e,t){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[HY[i],HB[i],r]}},34:{n:"PtgFuncVar",f:function UK(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[88==r?-1:0,n.read_shift(1)]:function VK(n){return[n[n.l+1]>>7,32767&n.read_shift(2)]}(n);return[i,(0===s[0]?HB:VY)[s[1]]]}},35:{n:"PtgName",f:function QK(n,e,t){var r=n.read_shift(1)>>>5&3,s=n.read_shift(!t||t.biff>=8?4:2);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function NK(n,e,t){var r=(96&n[n.l])>>5;return n.l+=1,[r,FB(n,0,t)]}},37:{n:"PtgArea",f:function EK(n,e,t){return[(96&n[n.l++])>>5,OB(n,0,t)]}},38:{n:"PtgMemArea",f:function eY(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=t&&2==t.biff?3:4,[r,n.read_shift(t&&2==t.biff?1:2)]}},39:{n:"PtgMemErr",f:Pa},40:{n:"PtgMemNoMem",f:Pa},41:{n:"PtgMemFunc",f:function tY(n,e,t){return[n.read_shift(1)>>>5&3,n.read_shift(t&&2==t.biff?1:2)]}},42:{n:"PtgRefErr",f:function nY(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,12==t.biff&&(n.l+=2),[r]}},43:{n:"PtgAreaErr",f:function TK(n,e,t){var r=(96&n[n.l++])>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function RK(n,e,t){var r=(96&n[n.l])>>5;n.l+=1;var i=function wK(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return function xK(n){var e=n.read_shift(2),t=n.read_shift(1),r=(32768&e)>>15,i=(16384&e)>>14;return e&=16383,1==r&&e>=8192&&(e-=16384),1==i&&t>=128&&(t-=256),{r:e,c:t,cRel:i,rRel:r}}(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(16384&s)>>14,u=(32768&s)>>15;if(s&=16383,1==u)for(;i>524287;)i-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:o,rRel:u}}(n,0,t);return[r,i]}},45:{n:"PtgAreaN",f:function SK(n,e,t){var r=(96&n[n.l++])>>5,i=function _K(n,e,t){if(t.biff<8)return MB(n);var r=n.read_shift(12==t.biff?4:2),i=n.read_shift(12==t.biff?4:2),s=dm(n,2),o=dm(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(n,0,t);return[r,i]}},46:{n:"PtgMemAreaN",f:function xY(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function EY(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},57:{n:"PtgNameX",f:function XK(n,e,t){return 5==t.biff?function JK(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}(n):[n.read_shift(1)>>>5&3,n.read_shift(2),n.read_shift(4)]}},58:{n:"PtgRef3d",f:function LK(n,e,t){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(2);return t&&5==t.biff&&(n.l+=12),[r,i,FB(n,0,t)]}},59:{n:"PtgArea3d",f:function bK(n,e,t){var r=(96&n[n.l++])>>5,i=n.read_shift(2,"i");if(t&&5===t.biff)n.l+=12;return[r,i,OB(n,0,t)]}},60:{n:"PtgRefErr3d",f:function rY(n,e,t){var r=(96&n[n.l++])>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6}return n.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function CK(n,e,t){var r=(96&n[n.l++])>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12}return n.l+=s,[r,i]}},255:{}},TY={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},CY={1:{n:"PtgElfLel",f:LB},2:{n:"PtgElfRw",f:HT},3:{n:"PtgElfCol",f:HT},6:{n:"PtgElfRwV",f:HT},7:{n:"PtgElfColV",f:HT},10:{n:"PtgElfRadical",f:HT},11:{n:"PtgElfRadicalS",f:CF},13:{n:"PtgElfColS",f:CF},15:{n:"PtgElfColSV",f:CF},16:{n:"PtgElfRadicalLel",f:LB},25:{n:"PtgList",f:function _Y(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2);return{ixti:e,coltype:3&t,rt:mY[t>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function vY(n){return n.l+=2,[n.read_shift(4)]}},255:{}},SY={0:{n:"PtgAttrNoop",f:function bY(n){return n.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function OK(n,e,t){var r=255&n[n.l+1]?1:0;return n.l+=t&&2==t.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function kK(n,e,t){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(t&&2==t.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function IK(n,e,t){n.l+=2;for(var r=n.read_shift(t&&2==t.biff?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&2==t.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function DK(n,e,t){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(t&&2==t.biff?1:2)]}},16:{n:"PtgAttrSum",f:function HK(n,e,t){n.l+=t&&2==t.biff?3:4}},32:{n:"PtgAttrBaxcel",f:NB},33:{n:"PtgAttrBaxcel",f:NB},64:{n:"PtgAttrSpace",f:function MK(n){return n.read_shift(2),RB(n)}},65:{n:"PtgAttrSpaceSemi",f:function FK(n){return n.read_shift(2),RB(n)}},128:{n:"PtgAttrIfError",f:function PK(n){var e=255&n[n.l+1]?1:0;return n.l+=2,[e,n.read_shift(2)]}},255:{}};function jT(n,e,t,r){if(r.biff<8)return Pa(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=YK(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=KK(n,0,r),s.push(t[o][2]);break;case"PtgExp":r&&12==r.biff&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return 0!=(e=i-n.l)&&s.push(Pa(n,e)),s}function AY(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];i.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}e.push(i.join(","))}return e.join(";")}var IY={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function UB(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),0==e?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=-1==r[1]?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return null!=t.SID?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=-1==r[1]?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function VB(n,e,t){var r=UB(n,e,t);return"#REF"==r?r:function DY(n,e){if(!(n||e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}(r,t)}function Ra(n,e,t,r,i){var h,p,_,C,s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},u=[],w=0,E=0,I="";if(!n[0]||!n[0][0])return"";for(var D=-1,M="",j=0,z=n[0].length;j<z;++j){var V=n[0][j];switch(V[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),p=u.pop(),D>=0){switch(n[0][D][1][0]){case 0:M=ws(" ",n[0][D][1][1]);break;case 1:M=ws("\r",n[0][D][1][1]);break;default:if(M="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][D][1][0])}p+=M,D=-1}u.push(p+IY[V[0]]+h);break;case"PtgIsect":h=u.pop(),p=u.pop(),u.push(p+" "+h);break;case"PtgUnion":h=u.pop(),p=u.pop(),u.push(p+","+h);break;case"PtgRange":h=u.pop(),p=u.pop(),u.push(p+":"+h);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":_=kT(V[1][1],o,i),u.push(PT(_,s));break;case"PtgRefN":_=t?kT(V[1][1],t,i):V[1][1],u.push(PT(_,s));break;case"PtgRef3d":w=V[1][1],_=kT(V[1][2],o,i),I=VB(r,w,i),u.push(I+"!"+PT(_,s));break;case"PtgFunc":case"PtgFuncVar":var be=V[1][0],Ie=V[1][1];be||(be=0);var re=0==(be&=127)?[]:u.slice(-be);u.length-=be,"User"===Ie&&(Ie=re.shift()),u.push(Ie+"("+re.join(",")+")");break;case"PtgBool":u.push(V[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(V[1]);break;case"PtgNum":u.push(String(V[1]));break;case"PtgStr":u.push('"'+V[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":C=p6(V[1][1],t?{s:t}:o,i),u.push(XM(C,i));break;case"PtgArea":C=p6(V[1][1],o,i),u.push(XM(C,i));break;case"PtgArea3d":C=V[1][2],I=VB(r,w=V[1][1],i),u.push(I+"!"+XM(C,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":var Ae=(r.names||[])[(E=V[1][2])-1]||(r[0]||[])[E],Se=Ae?Ae.Name:"SH33TJSNAME"+String(E);Se&&"_xlfn."==Se.slice(0,6)&&!i.xlfn&&(Se=Se.slice(6)),u.push(Se);break;case"PtgNameX":var Je,We=V[1][1];if(E=V[1][2],!(i.biff<=5)){var Me="";if(14849==((r[We]||[])[0]||[])[0]||(1025==((r[We]||[])[0]||[])[0]?r[We][E]&&r[We][E].itab>0&&(Me=r.SheetNames[r[We][E].itab-1]+"!"):Me=r.SheetNames[E-1]+"!"),r[We]&&r[We][E])Me+=r[We][E].Name;else if(r[0]&&r[0][E])Me+=r[0][E].Name;else{var Dt=(UB(r,We,i)||"").split(";;");Dt[E-1]?Me=Dt[E-1]:Me+="SH33TJSERRX"}u.push(Me);break}We<0&&(We=-We),r[We]&&(Je=r[We][E]),Je||(Je={Name:"SH33TJSERRY"}),u.push(Je.Name);break;case"PtgParen":var cn="(",Gt=")";if(D>=0){switch(M="",n[0][D][1][0]){case 2:cn=ws(" ",n[0][D][1][1])+cn;break;case 3:cn=ws("\r",n[0][D][1][1])+cn;break;case 4:Gt=ws(" ",n[0][D][1][1])+Gt;break;case 5:Gt=ws("\r",n[0][D][1][1])+Gt;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][D][1][0])}D=-1}u.push(cn+u.pop()+Gt);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":var _t={c:t.c,r:t.r};if(r.sharedf[Nn(_={c:V[1][1],r:V[1][0]})]){var pt=r.sharedf[Nn(_)];u.push(Ra(pt,0,_t,r,i))}else{var Ut=!1;for(h=0;h!=r.arrayf.length;++h)if(!(_.c<(p=r.arrayf[h])[0].s.c||_.c>p[0].e.c||_.r<p[0].s.r||_.r>p[0].e.r)){u.push(Ra(p[1],0,_t,r,i)),Ut=!0;break}Ut||u.push(V[1])}break;case"PtgArray":u.push("{"+AY(V[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":D=j;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+V[1].idx+"[#"+V[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(V))}if(3!=i.biff&&D>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(n[0][j][0])){var pn=!0;switch((V=n[0][D])[1][0]){case 4:pn=!1;case 0:M=ws(" ",V[1][1]);break;case 5:pn=!1;case 1:M=ws("\r",V[1][1]);break;default:if(M="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+V[1][0])}u.push((pn?M:"")+u.pop()+(pn?"":M)),D=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function a2(n,e,t){var r=n.read_shift(4),i=function GT(n,e,t){for(var i,s,r=n.l+e,o=[];r!=n.l;)e=r-n.l,i=BB[s=n[n.l]]||BB[TY[s]],(24===s||25===s)&&(i=(24===s?CY:SY)[n[n.l+1]]),i&&i.f?o.push([i.n,i.f(n,e,t)]):Pa(n,e);return o}(n,r,t),s=n.read_shift(4);return[i,s>0?jT(n,s,i,t):null]}var LY=a2,l2=a2,BY=a2,UY=a2,VY={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},HY={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function jY(n){return("of:="+n.replace(bF,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function GY(n){return n.replace(/\./,"!")}var $T="undefined"!=typeof Map;function IF(n,e,t){var r=0,i=n.length;if(t){if($T?t.has(e):Object.prototype.hasOwnProperty.call(t,e))for(var s=$T?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&($T?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function u2(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Na=e.MDW),null!=e.width?t.customWidth=1:null!=e.wpx?r=BT(e.wpx):null!=e.wch&&(r=e.wch),r>-1?(t.width=n2(r),t.customWidth=1):null!=e.width&&(t.width=e.width),e.hidden&&(t.hidden=!0),null!=e.level&&(t.outlineLevel=t.level=e.level),t}function qv(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];"xlml"==e&&(t=[1,1,1,1,.5,.5]),null==n.left&&(n.left=t[0]),null==n.right&&(n.right=t[1]),null==n.top&&(n.top=t[2]),null==n.bottom&&(n.bottom=t[3]),null==n.header&&(n.header=t[4]),null==n.footer&&(n.footer=t[5])}}function hm(n,e,t){var r=t.revssf[null!=e.z?e.z:"General"],i=60,s=n.length;if(null==r&&t.ssf)for(;i<392;++i)if(null==t.ssf[i]){pf(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function WY(n,e,t){if(n&&n["!ref"]){var r=br(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}var oQ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],aQ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function yQ(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),void 0===n.v&&"string"!=typeof n.f||"z"===n.t&&!n.f)return"";var i="",s=n.t,o=n.v;if("z"!==n.t)switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=ng[n.v];break;case"d":r&&r.cellDates?i=ss(n.v,-1).toISOString():((n=di(n)).t="n",i=""+(n.v=Go(ss(n.v)))),void 0===n.z&&(n.z=Mn[14]);break;default:i=n.v}var u=la("v",Kr(i)),h={r:e},p=hm(r.cellXfs,n,r);switch(0!==p&&(h.s=p),n.t){case"n":case"z":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;default:if(null==n.v){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=la("v",""+IF(r.Strings,n.v,r.revStrings)),h.t="s";break}h.t="str"}if(n.t!=s&&(n.t=s,n.v=o),"string"==typeof n.f&&n.f){var _=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=Lt("f",Kr(n.f),_)+(null!=n.v?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(h.cm=1),Lt("c",u,h)}function $B(n,e,t,r){var o,i=[xs,Lt("worksheet",null,{xmlns:am[0],"xmlns:r":so_r})],u="",h=t.Sheets[t.SheetNames[n]];null==h&&(h={});var p=h["!ref"]||"A1",_=br(p);if(_.e.c>16383||_.e.r>1048575){if(e.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");_.e.c=Math.min(_.e.c,16383),_.e.r=Math.min(_.e.c,1048575),p=Xn(_)}r||(r={}),h["!comments"]=[];var w=[];(function sQ(n,e,t,r,i){var s=!1,o={},u=null;if("xlsx"!==r.bookType&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch(_){}s=!0,o.codeName=mf(Kr(h))}if(n&&n["!outline"]){var p={summaryBelow:1,summaryRight:1};n["!outline"].above&&(p.summaryBelow=0),n["!outline"].left&&(p.summaryRight=0),u=(u||"")+Lt("outlinePr",null,p)}!s&&!u||(i[i.length]=Lt("sheetPr",u,o))})(h,t,n,e,i),i[i.length]=Lt("dimension",null,{ref:p}),i[i.length]=function vQ(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Lt("sheetViews",Lt("sheetView",null,i),{})}(0,0,0,t),e.sheetFormat&&(i[i.length]=Lt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),null!=h["!cols"]&&h["!cols"].length>0&&(i[i.length]=function fQ(n,e){for(var r,t=["<cols>"],i=0;i!=e.length;++i)!(r=e[i])||(t[t.length]=Lt("col",null,u2(i,r)));return t[t.length]="</cols>",t.join("")}(0,h["!cols"])),i[o=i.length]="<sheetData/>",h["!links"]=[],null!=h["!ref"]&&(u=function xQ(n,e,t,r){var h,M,i=[],s=[],o=br(n["!ref"]),u="",p="",_=[],w=0,E=0,C=n["!rows"],I=Array.isArray(n),D={r:p},j=-1;for(E=o.s.c;E<=o.e.c;++E)_[E]=Mi(E);for(w=o.s.r;w<=o.e.r;++w){for(s=[],p=Es(w),E=o.s.c;E<=o.e.c;++E){h=_[E]+p;var z=I?(n[w]||[])[E]:n[h];void 0!==z&&null!=(u=yQ(z,h,n,e))&&s.push(u)}(s.length>0||C&&C[w])&&(D={r:p},C&&C[w]&&((M=C[w]).hidden&&(D.hidden=1),j=-1,M.hpx?j=UT(M.hpx):M.hpt&&(j=M.hpt),j>-1&&(D.ht=j,D.customHeight=1),M.level&&(D.outlineLevel=M.level)),i[i.length]=Lt("row",s.join(""),D))}if(C)for(;w<C.length;++w)C&&C[w]&&(D={r:w+1},(M=C[w]).hidden&&(D.hidden=1),j=-1,M.hpx?j=UT(M.hpx):M.hpt&&(j=M.hpt),j>-1&&(D.ht=j,D.customHeight=1),M.level&&(D.outlineLevel=M.level),i[i.length]=Lt("row","",D));return i.join("")}(h,e),u.length>0&&(i[i.length]=u)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),h["!protect"]&&(i[i.length]=function lQ(n){var e={sheet:1};return oQ.forEach(function(t){null!=n[t]&&n[t]&&(e[t]="1")}),aQ.forEach(function(t){null!=n[t]&&!n[t]&&(e[t]="0")}),n.password&&(e.password=vF(n.password).toString(16).toUpperCase()),Lt("sheetProtection",null,e)}(h["!protect"])),null!=h["!autofilter"]&&(i[i.length]=function gQ(n,e,t,r){var i="string"==typeof n.ref?n.ref:Xn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=xl(i);o.s.r==o.e.r&&(o.e.r=xl(e["!ref"]).e.r,i=Xn(o));for(var u=0;u<s.length;++u){var h=s[u];if("_xlnm._FilterDatabase"==h.Name&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Lt("autoFilter",null,{ref:i})}(h["!autofilter"],h,t,n)),null!=h["!merges"]&&h["!merges"].length>0&&(i[i.length]=function rQ(n){if(0===n.length)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Xn(n[t])+'"/>';return e+"</mergeCells>"}(h["!merges"]));var C,E=-1,I=-1;return h["!links"].length>0&&(i[i.length]="<hyperlinks>",h["!links"].forEach(function(D){!D[1].Target||(C={ref:D[0]},"#"!=D[1].Target.charAt(0)&&(I=Ur(r,-1,Kr(D[1].Target).replace(/#.*$/,""),Jn.HLINK),C["r:id"]="rId"+I),(E=D[1].Target.indexOf("#"))>-1&&(C.location=Kr(D[1].Target.slice(E+1))),D[1].Tooltip&&(C.tooltip=Kr(D[1].Tooltip)),i[i.length]=Lt("hyperlink",null,C))}),i[i.length]="</hyperlinks>"),delete h["!links"],null!=h["!margins"]&&(i[i.length]=function dQ(n){return qv(n),Lt("pageMargins",null,n)}(h["!margins"])),(!e||e.ignoreEC||null==e.ignoreEC)&&(i[i.length]=la("ignoredErrors",Lt("ignoredError",null,{numberStoredAsText:1,sqref:p}))),w.length>0&&(I=Ur(r,-1,"../drawings/drawing"+(n+1)+".xml",Jn.DRAW),i[i.length]=Lt("drawing",null,{"r:id":"rId"+I}),h["!drawing"]=w),h["!comments"].length>0&&(I=Ur(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Jn.VML),i[i.length]=Lt("legacyDrawing",null,{"r:id":"rId"+I}),h["!legacy"]=I),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function TQ(n,e,t,r){var i=function bQ(n,e,t){var r=rt(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=20*UT(i.hpx):i.hpt&&(s=20*i.hpt),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var u=0,h=r.l;r.l+=4;for(var p={r:n,c:0},_=0;_<16;++_)if(!(e.s.c>_+1<<10||e.e.c<_<<10)){for(var w=-1,E=-1,C=_<<10;C<_+1<<10;++C)p.c=C,(Array.isArray(t)?(t[p.r]||[])[p.c]:t[Nn(p)])&&(w<0&&(w=C),E=C);w<0||(++u,r.write_shift(4,w),r.write_shift(4,E))}var D=r.l;return r.l=h,r.write_shift(4,u),r.l=D,r.length>r.l?r.slice(0,r.l):r}(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&yt(n,0,i)}var CQ=Bv,SQ=$w;var lX=Bv,cX=$w,qB=["left","right","top","bottom","header","footer"];function SX(n,e,t,r,i,s,o){if(void 0===e.v)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":(e=di(e)).z=e.z||Mn[14],e.v=Go(ss(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v}var h={r:t,c:r};switch(h.s=hm(i.cellXfs,e,i),e.l&&s["!links"].push([Nn(h),e.l]),e.c&&s["!comments"].push([Nn(h),e.c]),e.t){case"s":case"str":return i.bookSST?(u=IF(i.Strings,e.v,i.revStrings),h.t="s",h.v=u,o?yt(n,18,function WQ(n,e,t){return null==t&&(t=rt(8)),Lv(e,t),t.write_shift(4,e.v),t}(0,h)):yt(n,7,function GQ(n,e,t){return null==t&&(t=rt(12)),Nv(e,t),t.write_shift(4,e.v),t}(0,h))):(h.t="str",o?yt(n,17,function rX(n,e,t){return null==t&&(t=rt(8+4*n.v.length)),Lv(e,t),Wo(n.v,t),t.length>t.l?t.slice(0,t.l):t}(e,h)):yt(n,6,function tX(n,e,t){return null==t&&(t=rt(12+4*n.v.length)),Nv(e,t),Wo(n.v,t),t.length>t.l?t.slice(0,t.l):t}(e,h))),!0;case"n":return e.v==(0|e.v)&&e.v>-1e3&&e.v<1e3?o?yt(n,13,function XQ(n,e,t){return null==t&&(t=rt(8)),Lv(e,t),v6(n.v,t),t}(e,h)):yt(n,2,function YQ(n,e,t){return null==t&&(t=rt(12)),Nv(e,t),v6(n.v,t),t}(e,h)):o?yt(n,16,function ZQ(n,e,t){return null==t&&(t=rt(12)),Lv(e,t),Uv(n.v,t),t}(e,h)):yt(n,5,function zQ(n,e,t){return null==t&&(t=rt(16)),Nv(e,t),Uv(n.v,t),t}(e,h)),!0;case"b":return h.t="b",o?yt(n,15,function LQ(n,e,t){return null==t&&(t=rt(5)),Lv(e,t),t.write_shift(1,n.v?1:0),t}(e,h)):yt(n,4,function NQ(n,e,t){return null==t&&(t=rt(9)),Nv(e,t),t.write_shift(1,n.v?1:0),t}(e,h)),!0;case"e":return h.t="e",o?yt(n,14,function HQ(n,e,t){return null==t&&(t=rt(8)),Lv(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}(e,h)):yt(n,3,function UQ(n,e,t){return null==t&&(t=rt(9)),Nv(e,t),t.write_shift(1,n.v),t}(e,h)),!0}return o?yt(n,12,function MQ(n,e,t){return null==t&&(t=rt(4)),Lv(e,t)}(0,h)):yt(n,1,function PQ(n,e,t){return null==t&&(t=rt(8)),Nv(e,t)}(0,h)),!0}function RX(n,e,t,r){var i=wl(),s=t.SheetNames[n],o=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch(p){}var h=br(o["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],yt(i,129),(t.vbaraw||o["!outline"])&&yt(i,147,function DQ(n,e,t){null==t&&(t=rt(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return qD({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),_6(n,t),t.slice(0,t.l)}(u,o["!outline"])),yt(i,148,SQ(h)),function FX(n,e,t){yt(n,133),yt(n,137,function wX(n,e,t){null==t&&(t=rt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}(0,t)),yt(n,138),yt(n,134)}(i,0,t.Workbook),function DX(n,e){!e||!e["!cols"]||(yt(n,390),e["!cols"].forEach(function(t,r){t&&yt(n,60,function mX(n,e,t){null==t&&(t=rt(18));var r=u2(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,256*(r.width||10)),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}(r,t))}),yt(n,391))}(i,o),function AX(n,e,t,r){var i=br(e["!ref"]||"A1"),o="",u=[];yt(n,145);var h=Array.isArray(e),p=i.e.r;e["!rows"]&&(p=Math.max(i.e.r,e["!rows"].length-1));for(var _=i.s.r;_<=p;++_){o=Es(_),TQ(n,e,i,_);var w=!1;if(_<=i.e.r)for(var E=i.s.c;E<=i.e.c;++E){_===i.s.r&&(u[E]=Mi(E));var C=h?(e[_]||[])[E]:e[u[E]+o];w=!!C&&SX(n,C,_,E,r,e,w)}}yt(n,146)}(i,o,0,e),function NX(n,e){!e["!protect"]||yt(n,535,function EX(n,e){return null==e&&(e=rt(66)),e.write_shift(2,n.password?vF(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){e.write_shift(4,t[1]?null==n[t[0]]||n[t[0]]?0:1:null!=n[t[0]]&&n[t[0]]?0:1)}),e}(e["!protect"]))}(i,o),function MX(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s="string"==typeof i.ref?i.ref:Xn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,u=xl(s);u.s.r==u.e.r&&(u.e.r=xl(e["!ref"]).e.r,s=Xn(u));for(var h=0;h<o.length;++h){var p=o[h];if("_xlnm._FilterDatabase"==p.Name&&p.Sheet==r){p.Ref="'"+t.SheetNames[r]+"'!"+s;break}}h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),yt(n,161,$w(br(s))),yt(n,162)}}(i,o,t,n),function IX(n,e){!e||!e["!merges"]||(yt(n,177,function uX(n,e){return null==e&&(e=rt(4)),e.write_shift(4,n),e}(e["!merges"].length)),e["!merges"].forEach(function(t){yt(n,176,cX(t))}),yt(n,178))}(i,o),function PX(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Ur(t,-1,r[1].Target.replace(/#.*$/,""),Jn.HLINK);yt(n,494,function hX(n,e){var t=rt(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));$w({s:Bs(n[0]),e:Bs(n[0])},t),iF("rId"+e,t);var r=n[1].Target.indexOf("#");return Wo((-1==r?"":n[1].Target.slice(r+1))||"",t),Wo(n[1].Tooltip||"",t),Wo("",t),t.slice(0,t.l)}(r,i))}}),delete e["!links"]}(i,o,r),o["!margins"]&&yt(i,476,function vX(n,e){return null==e&&(e=rt(48)),qv(n),qB.forEach(function(t){Uv(n[t],e)}),e}(o["!margins"])),(!e||e.ignoreEC||null==e.ignoreEC)&&function kX(n,e){!e||!e["!ref"]||(yt(n,648),yt(n,649,function xX(n){var e=rt(24);return e.write_shift(4,4),e.write_shift(4,1),$w(n,e),e}(br(e["!ref"]))),yt(n,650))}(i,o),function OX(n,e,t,r){if(e["!comments"].length>0){var i=Ur(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Jn.VML);yt(n,551,iF("rId"+i)),e["!legacy"]=i}}(i,o,n,r),yt(i,130),i.end()}var kF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ZX="][*?/\\".split("");function YB(n,e){if(n.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var t=!0;return ZX.forEach(function(r){if(-1!=n.indexOf(r)){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=!1}}),t}function XB(n){var e=[xs];e[e.length]=Lt("workbook",null,{xmlns:am[0],"xmlns:r":so_r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(kF.forEach(function(u){null!=n.Workbook.WBProps[u[0]]&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Lt("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&i[s]&&i[s].Hidden;++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:Kr(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}e[e.length]=Lt("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),null!=u.Sheet&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(e[e.length]=Lt("definedName",Kr(u.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function JX(n,e){return e||(e=rt(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),iF(n.strRelID,e),Wo(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function cJ(n,e){var t=wl();return yt(t,131),yt(t,128,function oJ(n,e){e||(e=rt(127));for(var t=0;4!=t;++t)e.write_shift(4,0);return Wo("SheetJS",e),Wo(_T_version,e),Wo(_T_version,e),Wo("7262",e),e.length>e.l?e.slice(0,e.l):e}()),yt(t,153,function tJ(n,e){e||(e=rt(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),_6(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}(n.Workbook&&n.Workbook.WBProps||null)),function lJ(n,e){if(e.Workbook&&e.Workbook.Sheets){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&-1==i?i=r:1==t[r].Hidden&&-1==s&&(s=r);s>i||(yt(n,135),yt(n,158,function aJ(n,e){return e||(e=rt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n),e.write_shift(1,120),e.length>e.l?e.slice(0,e.l):e}(i)),yt(n,136))}}(t,n),function sJ(n,e){yt(n,143);for(var t=0;t!=e.SheetNames.length;++t)yt(n,156,JX({Hidden:e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]}));yt(n,144)}(t,n),yt(t,132),t.end()}function bJ(n,e,t,r,i){return(".bin"===e.slice(-4)?RX:$B)(n,t,r,i)}function SJ(n,e,t){return(".bin"===e.slice(-4)?lK:DB)(n,t)}function tU(n){return Lt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+TF(n.Ref,{r:0,c:0})})}function jJ(n,e,t,r,i,s,o){if(!n||null==n.v&&null==n.f)return"";var u={};if(n.f&&(u["ss:Formula"]="="+Kr(TF(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var h=Bs(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==o.r?"":"["+(h.r-o.r)+"]")+"C"+(h.c==o.c?"":"["+(h.c-o.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=Kr(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=Kr(n.l.Tooltip))),t["!merges"])for(var p=t["!merges"],_=0;_!=p.length;++_)p[_].s.c!=o.c||p[_].s.r!=o.r||(p[_].e.c>p[_].s.c&&(u["ss:MergeAcross"]=p[_].e.c-p[_].s.c),p[_].e.r>p[_].s.r&&(u["ss:MergeDown"]=p[_].e.r-p[_].s.r));var w="",E="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":w="Number",E=String(n.v);break;case"b":w="Boolean",E=n.v?"1":"0";break;case"e":w="Error",E=ng[n.v];break;case"d":w="DateTime",E=new Date(n.v).toISOString(),null==n.z&&(n.z=n.z||Mn[14]);break;case"s":w="String",E=function u$(n){return(n+"").replace(jM,function(t){return HM[t]}).replace(q4,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}(n.v||"")}var C=hm(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+C),u["ss:Index"]=o.c+1;var D="z"==n.t?"":'<Data ss:Type="'+w+'">'+(null!=n.v?E:"")+"</Data>";return(n.c||[]).length>0&&(D+=function HJ(n){return n.map(function(e){var t=function d$(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}(e.t||""),r=Lt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Lt("Comment",r,{"ss:Author":e.a})}).join("")}(n.c)),Lt("Cell",D,u)}function GJ(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=r2(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function WJ(n,e,t){var r=[],s=t.Sheets[t.SheetNames[n]],o=s?function UJ(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var u=i[o];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(tU(u)))}return s.join("")}(s,0,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?function $J(n,e,t,r){if(!n["!ref"])return"";var i=br(n["!ref"]),s=n["!merges"]||[],o=0,u=[];n["!cols"]&&n["!cols"].forEach(function(M,j){um(M);var z=!!M.width,V=u2(j,M),oe={"ss:Index":j+1};z&&(oe["ss:Width"]=LT(V.width)),M.hidden&&(oe["ss:Hidden"]="1"),u.push(Lt("Column",null,oe))});for(var h=Array.isArray(n),p=i.s.r;p<=i.e.r;++p){for(var _=[GJ(p,(n["!rows"]||[])[p])],w=i.s.c;w<=i.e.c;++w){var E=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>w||s[o].s.r>p||s[o].e.c<w||s[o].e.r<p)){(s[o].s.c!=w||s[o].s.r!=p)&&(E=!0);break}if(!E){var C={r:p,c:w},I=Nn(C);_.push(jJ(h?(n[p]||[])[w]:n[I],I,n,e,0,0,C))}}_.push("</Row>"),_.length>2&&u.push(_.join(""))}return u.join("")}(s,e):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(function VJ(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Lt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Lt("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Lt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Lt("Visible",1==r.Workbook.Sheets[t].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&(!r.Workbook.Sheets[s]||r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(la("ProtectContents","True")),n["!protect"].objects&&i.push(la("ProtectObjects","True")),n["!protect"].scenarios&&i.push(la("ProtectScenarios","True")),null==n["!protect"].selectLockedCells||n["!protect"].selectLockedCells?null!=n["!protect"].selectUnlockedCells&&!n["!protect"].selectUnlockedCells&&i.push(la("EnableSelection","UnlockedCells")):i.push(la("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),0==i.length?"":Lt("WorksheetOptions",i.join(""),{xmlns:Qc_x})}(s,0,n,t)),r.join("")}function qJ(n,e){e||(e={}),n.SSF||(n.SSF=di(Mn)),n.SSF&&(Uw(),TT(n.SSF),e.revssf=VD(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],hm(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(function NJ(n,e){var t=[];return n.Props&&t.push(function uW(n,e){var t=[];return ys(hF).map(function(r){for(var i=0;i<rg.length;++i)if(rg[i][1]==r)return rg[i];for(i=0;i<Hv.length;++i)if(Hv[i][1]==r)return Hv[i];throw r}).forEach(function(r){if(null!=n[r[1]]){var i=e&&e.Props&&null!=e.Props[r[1]]?e.Props[r[1]]:n[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(la(hF[r[1]]||r[1],i))}}),Lt("DocumentProperties",t.join(""),{xmlns:Qc_o})}(n.Props,e)),n.Custprops&&t.push(function dW(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&ys(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<rg.length;++o)if(s==rg[o][1])return;for(o=0;o<Hv.length;++o)if(s==Hv[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var u=n[s],h="string";"number"==typeof u?(h="float",u=String(u)):!0===u||!1===u?(h="boolean",u=u?"1":"0"):u=String(u),i.push(Lt(W4(s),u,{"dt:dt":h}))}}),e&&ys(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&(!n||!Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],u="string";"number"==typeof o?(u="float",o=String(o)):!0===o||!1===o?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Lt(W4(s),o,{"dt:dt":u}))}}),"<"+r+' xmlns="'+Qc_o+'">'+i.join("")+"</"+r+">"}(n.Props,n.Custprops)),t.join("")}(n,e)),t.push(""),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Lt("Worksheet",WJ(r,e,n),{"ss:Name":Kr(n.SheetNames[r])}));return t[2]=function LJ(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Lt("NumberFormat",null,{"ss:Format":Kr(Mn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(Lt("Style",s.join(""),o))}),Lt("Styles",t.join(""))}(0,e),t[3]=function BJ(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||t.push(tU(i)))}return Lt("Names",t.join(""))}(n),xs+Lt("Workbook",t.join(""),{xmlns:Qc_ss,"xmlns:o":Qc_o,"xmlns:x":Qc_x,"xmlns:ss":Qc_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var zT={0:{f:function EQ(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,7&s&&(t.level=7&s),16&s&&(t.hidden=!0),32&s&&(t.hpt=i/20),t}},1:{f:function kQ(n){return[qu(n)]}},2:{f:function KQ(n){return[qu(n),sF(n),"n"]}},3:{f:function BQ(n){return[qu(n),n.read_shift(1),"e"]}},4:{f:function FQ(n){return[qu(n),n.read_shift(1),"b"]}},5:{f:function qQ(n){return[qu(n),Ma(n),"n"]}},6:{f:function eX(n){return[qu(n),Oa(n),"str"]}},7:{f:function jQ(n){return[qu(n),n.read_shift(4),"s"]}},8:{f:function aX(n,e,t){var r=n.l+e,i=qu(n);i.r=t["!row"];var o=[i,Oa(n),"str"];if(t.cellFormula){n.l+=2;var u=l2(n,r-n.l,t);o[3]=Ra(u,0,i,t.supbooks,t)}else n.l=r;return o}},9:{f:function oX(n,e,t){var r=n.l+e,i=qu(n);i.r=t["!row"];var o=[i,Ma(n),"n"];if(t.cellFormula){n.l+=2;var u=l2(n,r-n.l,t);o[3]=Ra(u,0,i,t.supbooks,t)}else n.l=r;return o}},10:{f:function iX(n,e,t){var r=n.l+e,i=qu(n);i.r=t["!row"];var o=[i,n.read_shift(1),"b"];if(t.cellFormula){n.l+=2;var u=l2(n,r-n.l,t);o[3]=Ra(u,0,i,t.supbooks,t)}else n.l=r;return o}},11:{f:function sX(n,e,t){var r=n.l+e,i=qu(n);i.r=t["!row"];var o=[i,n.read_shift(1),"e"];if(t.cellFormula){n.l+=2;var u=l2(n,r-n.l,t);o[3]=Ra(u,0,i,t.supbooks,t)}else n.l=r;return o}},12:{f:function OQ(n){return[Rv(n)]}},13:{f:function QQ(n){return[Rv(n),sF(n),"n"]}},14:{f:function VQ(n){return[Rv(n),n.read_shift(1),"e"]}},15:{f:function RQ(n){return[Rv(n),n.read_shift(1),"b"]}},16:{f:function WB(n){return[Rv(n),Ma(n),"n"]}},17:{f:function nX(n){return[Rv(n),Oa(n),"str"]}},18:{f:function $Q(n){return[Rv(n),n.read_shift(4),"s"]}},19:{f:tF},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function rJ(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=L$(n),o=BY(n,0,t),u=nF(n);n.l=r;var h={Name:s,Ptg:o};return i<268435455&&(h.Sheet=i),u&&(h.Comment=u),h}},40:{},42:{},43:{f:function eZ(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=function V$(n){var e=n.read_shift(1);return n.l++,{fBold:1&e,fItalic:2&e,fUnderline:4&e,fStrikeout:8&e,fOutline:16&e,fShadow:32&e,fCondense:64&e,fExtend:128&e}}(n);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===n.read_shift(2)&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=n.read_shift(1);0!=o&&(r.underline=o);var u=n.read_shift(1);u>0&&(r.family=u);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=function U$(n){var e={},r=n.read_shift(1)>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),u=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var p=Vv[i];p&&(e.rgb=RT(p));break;case 2:e.rgb=RT([o,u,h]);break;case 3:e.theme=i}return 0!=s&&(e.tint=s>0?s/32767:s/32768),e}(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Oa(n),r}},44:{f:function Xz(n,e){return[n.read_shift(2),Oa(n)]}},45:{f:rZ},46:{f:sZ},47:{f:function iZ(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}},48:{},49:{f:function k$(n){return n.read_shift(4,"i")}},50:{},51:{f:function UZ(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function cB(n,e,t){if(!t.cellStyles)return Pa(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),u=n.read_shift(r),h=n.read_shift(2);2==r&&(n.l+=2);var p={s:i,e:s,w:o,ixfe:u,flags:h};return(t.biff>=5||!t.biff)&&(p.level=h>>8&7),p}},62:{f:function JQ(n){return[qu(n),tF(n),"is"]}},63:{f:function ZZ(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Nn(t);var r=n.read_shift(1);return 2&r&&(e.l="1"),8&r&&(e.a="1"),e}},64:{f:function bX(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Pa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function yX(n){var e=n.read_shift(2);return n.l+=28,{RTL:32&e}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function IQ(n,e){var t={},r=n[n.l];return++n.l,t.above=!(64&r),t.left=!(128&r),n.l+=18,t.name=R$(n,e-19),t}},148:{f:CQ,p:16},151:{f:function fX(){}},152:{},153:{f:function eJ(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Oa(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(65536&r),t.backupFile=!!(64&r),t.checkCompatibility=!!(4096&r),t.date1904=!!(1&r),t.filterPrivacy=!!(8&r),t.hidePivotFieldList=!!(1024&r),t.promptedSolutions=!!(16&r),t.publishItems=!!(2048&r),t.refreshAllConnections=!!(262144&r),t.saveExternalLinkValues=!!(128&r),t.showBorderUnselectedTables=!!(4&r),t.showInkAnnotation=!!(32&r),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(32768&r),t.updateLinks=["userSet","never","always"][r>>8&3],t}},154:{},155:{},156:{f:function XX(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=rF(n,e-8),t.name=Oa(n),t}},157:{},158:{},159:{T:1,f:function wz(n){return[n.read_shift(4),n.read_shift(4)]}},160:{T:-1},161:{T:1,f:Bv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function LZ(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Oa(n)}}},336:{T:-1},337:{f:function jZ(n){return n.l+=4,0!=n.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:rF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function aB(n,e,t){if(t.biff<8)return function Cq(n,e,t){3==n[n.l+1]&&n[n.l]++;var r=FT(n,0,t);return 3==r.charCodeAt(0)?r.slice(1):r}(n,0,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);0!=s--;)r.push(MW(n,0,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function pX(n,e,t){var r=n.l+e,i=y6(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var u=LY(n,r-n.l,t);o[1]=u}else n.l=r;return o}},427:{f:function gX(n,e,t){var r=n.l+e,s=[Bv(n,16)];if(t.cellFormula){var o=UY(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function _X(n){var e={};return qB.forEach(function(t){e[t]=Ma(n)}),e}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function AQ(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function dX(n,e){var t=n.l+e,r=Bv(n,16),i=nF(n),s=Oa(n),o=Oa(n),u=Oa(n);n.l=t;var h={rfx:r,relId:i,loc:s,display:u};return o&&(h.Tooltip=o),h}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:rF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sK},633:{T:1},634:{T:-1},635:{T:1,f:function rK(n){var e={};e.iauthor=n.read_shift(4);var t=Bv(n,16);return e.rfx=t.s,e.ref=Nn(t.s),n.l+=16,e}},636:{T:-1},637:{f:F$},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function HX(n,e){return n.l+=10,{name:Oa(n)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function TX(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function jt(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&QM(t)&&n.push(t)}}function ZT(n,e,t){return n||(n=rt(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function ree(n,e,t,r){if(null!=e.v)switch(e.t){case"d":case"n":var i="d"==e.t?Go(ss(e.v)):e.v;return void(i==(0|i)&&i>=0&&i<65536?jt(n,2,function iz(n,e,t){var r=rt(9);return ZT(r,n,e),r.write_shift(2,t),r}(t,r,i)):jt(n,3,function nz(n,e,t){var r=rt(15);return ZT(r,n,e),r.write_shift(8,t,"f"),r}(t,r,i)));case"b":case"e":return void jt(n,5,function tee(n,e,t,r){var i=rt(9);return ZT(i,n,e),W6(t,r||"b",i),i}(t,r,e.v,e.t));case"s":case"str":return void jt(n,4,function nee(n,e,t){var r=rt(8+2*t.length);return ZT(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(t,r,(e.v||"").slice(0,255)))}jt(n,1,ZT(null,t,r))}function hee(n,e,t,r,i){var s=16+hm(i.cellXfs,e,i);if(null!=e.v||e.bf)if(e.bf)jt(n,6,function RY(n,e,t,r,i){var s=$v(e,t,i),o=function NY(n){if(null==n){var e=rt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}return Uv("number"==typeof n?n:0)}(n.v),u=rt(6);u.write_shift(2,33),u.write_shift(4,0);for(var p=rt(n.bf.length),_=0;_<n.bf.length;++_)p[_]=n.bf[_];return jo([s,o,u,p])}(e,t,r,0,s));else switch(e.t){case"d":case"n":jt(n,515,function Eq(n,e,t,r){var i=rt(14);return $v(n,e,r,i),Uv(t,i),i}(t,r,"d"==e.t?Go(ss(e.v)):e.v,s));break;case"b":case"e":jt(n,517,function wq(n,e,t,r,i,s){var o=rt(8);return $v(n,e,r,o),W6(t,s,o),o}(t,r,e.v,s,0,e.t));break;case"s":case"str":i.bookSST?jt(n,253,function oq(n,e,t,r){var i=rt(10);return $v(n,e,r,i),i.write_shift(4,t),i}(t,r,IF(i.Strings,e.v,i.revStrings),s)):jt(n,516,function lq(n,e,t,r,i){var s=!i||8==i.biff,o=rt(+s+8+(1+s)*t.length);return $v(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}(t,r,(e.v||"").slice(0,255),s,i));break;default:jt(n,513,$v(t,r,s))}else jt(n,513,$v(t,r,s))}function fee(n,e,t){var _,r=wl(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},u=(o.Sheets||[])[n]||{},h=Array.isArray(s),p=8==e.biff,w="",E=[],C=br(s["!ref"]||"A1"),I=p?65536:16384;if(C.e.c>255||C.e.r>=I){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");C.e.c=Math.min(C.e.c,255),C.e.r=Math.min(C.e.c,I-1)}jt(r,2057,mF(0,16,e)),jt(r,13,zu(1)),jt(r,12,zu(100)),jt(r,15,El(!0)),jt(r,17,El(!1)),jt(r,16,Uv(.001)),jt(r,95,El(!0)),jt(r,42,El(!1)),jt(r,43,El(!1)),jt(r,130,zu(1)),jt(r,128,function yq(n){var e=rt(8);return e.write_shift(4,0),e.write_shift(2,n[0]?n[0]+1:0),e.write_shift(2,n[1]?n[1]+1:0),e}([0,0])),jt(r,131,El(!1)),jt(r,132,El(!1)),p&&function dee(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&jt(n,125,function qq(n,e){var t=rt(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,256*n.width),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),t.write_shift(1,r=n.level||0),t.write_shift(2,0),t}(u2(i,r),i))})}}(r,s["!cols"]),jt(r,512,function hq(n,e){var t=8!=e.biff&&e.biff?2:4,r=rt(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}(C,e)),p&&(s["!links"]=[]);for(var D=C.s.r;D<=C.e.r;++D){w=Es(D);for(var M=C.s.c;M<=C.e.c;++M){D===C.s.r&&(E[M]=Mi(M)),_=E[M]+w;var j=h?(s[D]||[])[M]:s[_];!j||(hee(r,j,D,M,e),p&&j.l&&s["!links"].push([_,j.l]))}}var z=u.CodeName||u.name||i;return p&&jt(r,574,function tq(n){var e=rt(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}((o.Views||[])[0])),p&&(s["!merges"]||[]).length&&jt(r,229,function Oq(n){var e=rt(2+8*n.length);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)Q6(n[t],e);return e}(s["!merges"])),p&&function uee(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];jt(n,440,Bq(r)),r[1].Tooltip&&jt(n,2048,Vq(r))}delete e["!links"]}(r,s),jt(r,442,q6(z)),p&&function lee(n,e){var t=rt(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),jt(n,2151,t),(t=rt(39)).write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),Q6(br(e["!ref"]||"A1"),t),t.write_shift(4,4),jt(n,2152,t)}(r,s),jt(r,10),r.end()}function pee(n,e,t){var r=wl(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},u=8==t.biff,h=5==t.biff;jt(r,2057,mF(0,5,t)),"xla"==t.bookType&&jt(r,135),jt(r,225,u?zu(1200):null),jt(r,193,function wW(n,e){e||(e=rt(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}(2)),h&&jt(r,191),h&&jt(r,192),jt(r,226),jt(r,92,function jW(n,e){var t=!e||8==e.biff,r=rt(t?112:54);for(r.write_shift(8==e.biff?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}(0,t)),jt(r,66,zu(u?1200:1252)),u&&jt(r,353,zu(0)),u&&jt(r,448),jt(r,317,function Kq(n){for(var e=rt(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}(n.SheetNames.length)),u&&n.vbaraw&&jt(r,211),u&&n.vbaraw&&jt(r,442,q6(o.CodeName||"ThisWorkbook")),jt(r,156,zu(17)),jt(r,25,El(!1)),jt(r,18,El(!1)),jt(r,19,zu(0)),u&&jt(r,431,El(!1)),u&&jt(r,444,zu(0)),jt(r,61,function JW(){var n=rt(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}()),jt(r,64,El(!1)),jt(r,141,zu(0)),jt(r,34,El("true"==function zX(n){return n.Workbook&&n.Workbook.WBProps&&function Gi(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(n.Workbook.WBProps.date1904)?"true":"false"}(n))),jt(r,14,El(!0)),u&&jt(r,439,El(!1)),jt(r,218,zu(0)),function oee(n,e,t){jt(n,49,function iq(n,e){var t=n.name||"Arial",r=e&&5==e.biff,s=rt(r?15+t.length:16+2*t.length);return s.write_shift(2,20*(n.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}(r,0,t),function aee(n,e,t){!e||[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=e[i]&&jt(n,1054,uq(i,e[i],t))})}(r,n.SSF,t),function cee(n,e){for(var t=0;t<16;++t)jt(n,224,nB({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){jt(n,224,nB(r,0,e))})}(r,t),u&&jt(r,352,El(!1));var _=r.end(),w=wl();u&&jt(w,140,function jq(n){return n||(n=rt(4)),n.write_shift(2,1),n.write_shift(2,1),n}()),u&&t.Strings&&function eee(n,e,t,r){var i=r||(t||[]).length||0;if(i<=8224)return jt(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],u=0,h=0,p=0;p+(o[u]||8224)<=8224;)p+=o[u]||8224,u++;var _=n.next(4);for(_.write_shift(2,s),_.write_shift(2,p),n.push(t.slice(h,h+p)),h+=p;h<i;){for((_=n.next(4)).write_shift(2,60),p=0;p+(o[u]||8224)<=8224;)p+=o[u]||8224,u++;_.write_shift(2,p),n.push(t.slice(h,h+p)),h+=p}}}(w,252,function zW(n,e){var t=rt(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=TW(n[i]);var s=jo([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}(t.Strings)),jt(w,10);var E=w.end(),C=wl(),I=0,D=0;for(D=0;D<n.SheetNames.length;++D)I+=(u?12:11)+(u?2:1)*n.SheetNames[D].length;var M=_.length+I+E.length;for(D=0;D<n.SheetNames.length;++D)jt(C,133,WW({pos:M,hs:(s[D]||{}).Hidden||0,dt:0,name:n.SheetNames[D]},t)),M+=e[D].length;var z=C.end();if(I!=z.length)throw new Error("BS8 "+I+" != "+z.length);var V=[];return _.length&&V.push(_),z.length&&V.push(z),E.length&&V.push(E),jo(V)}function rU(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];r&&r["!ref"]&&xl(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}var s=e||{};switch(s.biff||2){case 8:case 5:return function gee(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=di(Mn)),n&&n.SSF&&(Uw(),TT(n.SSF),t.revssf=VD(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,VF(t),t.cellXfs=[],hm(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=fee(i,t,n);return r.unshift(pee(n,r,t)),jo(r)}(n,e);case 4:case 3:case 2:return function see(n,e){for(var t=e||{},r=wl(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(0==i&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return jt(r,4==t.biff?1033:3==t.biff?521:9,mF(0,16,t)),function iee(n,e,t,r){var o,i=Array.isArray(e),s=br(e["!ref"]||"A1"),u="",h=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Xn(s)}for(var p=s.s.r;p<=s.e.r;++p){u=Es(p);for(var _=s.s.c;_<=s.e.c;++_){p===s.s.r&&(h[_]=Mi(_)),o=h[_]+u;var w=i?(e[p]||[])[_]:e[o];!w||ree(n,w,p,_)}}}(r,n.Sheets[n.SheetNames[i]],0,t),jt(r,10),r.end()}(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function sU(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,h=0,p=0;p<i.length;++p)if(!(i[p].s.r>t||i[p].s.c>o||i[p].e.r<t||i[p].e.c<o)){if(i[p].s.r<t||i[p].s.c<o){u=-1;break}u=i[p].e.r-i[p].s.r+1,h=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var _=Nn({r:t,c:o}),w=r.dense?(n[t]||[])[o]:n[_],E=w&&null!=w.v&&(w.h||z4(w.w||(_f(w),w.w)||""))||"",C={};u>1&&(C.rowspan=u),h>1&&(C.colspan=h),r.editable?E='<span contenteditable="true">'+E+"</span>":w&&(C["data-t"]=w&&w.t||"z",null!=w.v&&(C["data-v"]=w.v),null!=w.z&&(C["data-z"]=w.z),w.l&&"#"!=(w.l.Target||"#").charAt(0)&&(E='<a href="'+w.l.Target+'">'+E+"</a>")),C.id=(r.id||"sjs")+"-"+_,s.push(Lt("td",E,C))}}return"<tr>"+s.join("")+"</tr>"}function cU(n,e){var t=e||{},i=null!=t.footer?t.footer:"</body></html>",s=[null!=t.header?t.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],o=xl(n["!ref"]);t.dense=Array.isArray(n),s.push(function lU(n,e,t){return[].join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}(0,0,t));for(var u=o.s.r;u<=o.e.r;++u)s.push(sU(n,o,u,t));return s.push("</table>"+i),s.join("")}function uU(n,e,t){var r=t||{},i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?Bs(r.origin):r.origin;i=o.r,s=o.c}var u=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var _=xl(n["!ref"]);p.s.r=Math.min(p.s.r,_.s.r),p.s.c=Math.min(p.s.c,_.s.c),p.e.r=Math.max(p.e.r,_.e.r),p.e.c=Math.max(p.e.c,_.e.c),-1==i&&(p.e.r=i=_.e.r+1)}var w=[],E=0,C=n["!rows"]||(n["!rows"]=[]),I=0,D=0,M=0,j=0,z=0,V=0;for(n["!cols"]||(n["!cols"]=[]);I<u.length&&D<h;++I){var oe=u[I];if(hU(oe)){if(r.display)continue;C[D]={hidden:!0}}var be=oe.children;for(M=j=0;M<be.length;++M){var Ie=be[M];if(!r.display||!hU(Ie)){var re=Ie.hasAttribute("data-v")?Ie.getAttribute("data-v"):Ie.hasAttribute("v")?Ie.getAttribute("v"):Q4(Ie.innerHTML),Ae=Ie.getAttribute("data-z")||Ie.getAttribute("z");for(E=0;E<w.length;++E){var Se=w[E];Se.s.c==j+s&&Se.s.r<D+i&&D+i<=Se.e.r&&(j=Se.e.c+1-s,E=-1)}V=+Ie.getAttribute("colspan")||1,((z=+Ie.getAttribute("rowspan")||1)>1||V>1)&&w.push({s:{r:D+i,c:j+s},e:{r:D+i+(z||1)-1,c:j+s+(V||1)-1}});var We={t:"s",v:re},Je=Ie.getAttribute("data-t")||Ie.getAttribute("t")||"";null!=re&&(0==re.length?We.t=Je||"z":r.raw||0==re.trim().length||"s"==Je||("TRUE"===re?We={t:"b",v:!0}:"FALSE"===re?We={t:"b",v:!1}:isNaN(Xd(re))?isNaN(Vw(re).getDate())||(We={t:"d",v:ss(re)},r.cellDates||(We={t:"n",v:Go(We.v)}),We.z=r.dateNF||Mn[14]):We={t:"n",v:Xd(re)})),void 0===We.z&&null!=Ae&&(We.z=Ae);var Me="",Dt=Ie.getElementsByTagName("A");if(Dt&&Dt.length)for(var cn=0;cn<Dt.length&&(!Dt[cn].hasAttribute("href")||"#"==(Me=Dt[cn].getAttribute("href")).charAt(0));++cn);Me&&"#"!=Me.charAt(0)&&(We.l={Target:Me}),r.dense?(n[D+i]||(n[D+i]=[]),n[D+i][j+s]=We):n[Nn({c:j+s,r:D+i})]=We,p.e.c<j+s&&(p.e.c=j+s),j+=V}}++D}return w.length&&(n["!merges"]=(n["!merges"]||[]).concat(w)),p.e.r=Math.max(p.e.r,D-1+i),n["!ref"]=Xn(p),D>=h&&(n["!fullref"]=Xn((p.e.r=u.length-I+D-1+i,p))),n}function dU(n,e){return uU((e||{}).dense?[]:{},n,e)}function hU(n){var e="",t=function vee(n){return n.ownerDocument.defaultView&&"function"==typeof n.ownerDocument.defaultView.getComputedStyle?n.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),"none"===e}var wee=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+AT({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return xs+e}}(),_U=function(){var n=function(s){return Kr(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e="          <table:table-cell />\n",r=function(s,o,u){var h=[];h.push('      <table:table table:name="'+Kr(o.SheetNames[u])+'" table:style-name="ta1">\n');var p=0,_=0,w=xl(s["!ref"]||"A1"),E=s["!merges"]||[],C=0,I=Array.isArray(s);if(s["!cols"])for(_=0;_<=w.e.c;++_)h.push("        <table:table-column"+(s["!cols"][_]?' table:style-name="co'+s["!cols"][_].ods+'"':"")+"></table:table-column>\n");var M=s["!rows"]||[];for(p=0;p<w.s.r;++p)h.push("        <table:table-row"+(M[p]?' table:style-name="ro'+M[p].ods+'"':"")+"></table:table-row>\n");for(;p<=w.e.r;++p){for(h.push("        <table:table-row"+(M[p]?' table:style-name="ro'+M[p].ods+'"':"")+">\n"),_=0;_<w.s.c;++_)h.push(e);for(;_<=w.e.c;++_){var j=!1,z={},V="";for(C=0;C!=E.length;++C)if(!(E[C].s.c>_||E[C].s.r>p||E[C].e.c<_||E[C].e.r<p)){(E[C].s.c!=_||E[C].s.r!=p)&&(j=!0),z["table:number-columns-spanned"]=E[C].e.c-E[C].s.c+1,z["table:number-rows-spanned"]=E[C].e.r-E[C].s.r+1;break}if(j)h.push("          <table:covered-table-cell/>\n");else{var oe=Nn({r:p,c:_}),be=I?(s[p]||[])[_]:s[oe];if(be&&be.f&&(z["table:formula"]=Kr(jY(be.f)),be.F&&be.F.slice(0,oe.length)==oe)){var Ie=xl(be.F);z["table:number-matrix-columns-spanned"]=Ie.e.c-Ie.s.c+1,z["table:number-matrix-rows-spanned"]=Ie.e.r-Ie.s.r+1}if(be){switch(be.t){case"b":V=be.v?"TRUE":"FALSE",z["office:value-type"]="boolean",z["office:boolean-value"]=be.v?"true":"false";break;case"n":V=be.w||String(be.v||0),z["office:value-type"]="float",z["office:value"]=be.v||0;break;case"s":case"str":V=null==be.v?"":be.v,z["office:value-type"]="string";break;case"d":V=be.w||ss(be.v).toISOString(),z["office:value-type"]="date",z["office:date-value"]=ss(be.v).toISOString(),z["table:style-name"]="ce1";break;default:h.push(e);continue}var re=n(V);if(be.l&&be.l.Target){var Ae=be.l.Target;"#"!=(Ae="#"==Ae.charAt(0)?"#"+GY(Ae.slice(1)):Ae).charAt(0)&&!Ae.match(/^\w+:/)&&(Ae="../"+Ae),re=Lt("text:a",re,{"xlink:href":Ae.replace(/&/g,"&amp;")})}h.push("          "+Lt("table:table-cell",Lt("text:p",re,{}),z)+"\n")}else h.push(e)}}h.push("        </table:table-row>\n")}return h.push("      </table:table>\n"),h.join("")};return function(o,u){var h=[xs],p=AT({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),_=AT({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==u.bookType?(h.push("<office:document"+p+_+">\n"),h.push(S6().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+p+">\n"),function(s,o){s.push(" <office:automatic-styles>\n"),s.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),s.push('   <number:month number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push('   <number:day number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push("   <number:year/>\n"),s.push("  </number:date-style>\n");var u=0;o.SheetNames.map(function(p){return o.Sheets[p]}).forEach(function(p){if(p&&p["!cols"])for(var _=0;_<p["!cols"].length;++_)if(p["!cols"][_]){var w=p["!cols"][_];if(null==w.width&&null==w.wpx&&null==w.wch)continue;um(w),w.ods=u;var E=p["!cols"][_].wpx+"px";s.push('  <style:style style:name="co'+u+'" style:family="table-column">\n'),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+E+'"/>\n'),s.push("  </style:style>\n"),++u}});var h=0;o.SheetNames.map(function(p){return o.Sheets[p]}).forEach(function(p){if(p&&p["!rows"])for(var _=0;_<p["!rows"].length;++_)if(p["!rows"][_]){p["!rows"][_].ods=h;var w=p["!rows"][_].hpx+"px";s.push('  <style:style style:name="ro'+h+'" style:family="table-row">\n'),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+w+'"/>\n'),s.push("  </style:style>\n"),++h}}),s.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),s.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),s.push("  </style:style>\n"),s.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),s.push(" </office:automatic-styles>\n")}(h,o),h.push("  <office:body>\n"),h.push("    <office:spreadsheet>\n");for(var w=0;w!=o.SheetNames.length;++w)h.push(r(o.Sheets[o.SheetNames[w]],o,w));return h.push("    </office:spreadsheet>\n"),h.push("  </office:body>\n"),h.push("fods"==u.bookType?"</office:document>":"</office:document-content>"),h.join("")}}();function vU(n,e){if("fods"==e.bookType)return _U(n,e);var t=VM(),r="",i=[],s=[];return er(t,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),er(t,r="content.xml",_U(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),er(t,r="styles.xml",wee(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),er(t,r="meta.xml",xs+S6()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),er(t,r="manifest.rdf",function iW(n){var e=[xs];e.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=n.length;++t)e.push(C6(n[t][0],n[t][1])),e.push(rW("",n[t][0]));return e.push(C6("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}(s)),i.push([r,"application/rdf+xml"]),er(t,r="META-INF/manifest.xml",function nW(n){var e=[xs];e.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),e.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+'"/>\n');return e.push("</manifest:manifest>"),e.join("")}(i)),t}function zv(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function xee(n){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(n):Zc(mf(n))}function fm(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function KT(n,e){var t=e?e[0]:0,r=127&n[t];e:if(n[t++]>=128&&(r|=(127&n[t])<<7,n[t++]<128||(r|=(127&n[t])<<14,n[t++]<128)||(r|=(127&n[t])<<21,n[t++]<128)||(r+=(127&n[t])*Math.pow(2,28),++t,n[t++]<128)||(r+=(127&n[t])*Math.pow(2,35),++t,n[t++]<128)||(r+=(127&n[t])*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Vr(n){var e=new Uint8Array(7);e[0]=127&n;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function bs(n){var e=0,t=127&n[e];e:if(n[e++]>=128){if(t|=(127&n[e])<<7,n[e++]<128||(t|=(127&n[e])<<14,n[e++]<128)||(t|=(127&n[e])<<21,n[e++]<128))break e;t|=(127&n[e])<<28}return t}function Pr(n){for(var e=[],t=[0];t[0]<n.length;){var u,r=t[0],i=KT(n,t),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var h=t[0];n[t[0]++]>=128;);u=n.slice(h,t[0]);break;case 5:u=n.slice(t[0],t[0]+(o=4)),t[0]+=o;break;case 1:u=n.slice(t[0],t[0]+(o=8)),t[0]+=o;break;case 2:o=KT(n,t),u=n.slice(t[0],t[0]+o),t[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var p={data:u,type:s};null==e[i]?e[i]=[p]:e[i].push(p)}return e}function zo(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){!i.data||(e.push(Vr(8*r+i.type)),2==i.type&&e.push(Vr(i.data.length)),e.push(i.data))})}),fm(e)}function Zu(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=KT(n,r),s=Pr(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:bs(s[1][0].data),messages:[]};s[2].forEach(function(u){var h=Pr(u.data),p=bs(h[3][0].data);o.messages.push({meta:h,data:n.slice(r[0],r[0]+p)}),r[0]+=p}),(null==(e=s[3])?void 0:e[0])&&(o.merge=bs(s[3][0].data)>>>0>0),t.push(o)}return t}function Yw(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Vr(t.id),type:0}],r[2]=[],null!=t.merge&&(r[3]=[{data:Vr(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Vr(o.data.length)}],r[2].push({data:zo(o.meta),type:2})});var s=zo(r);e.push(Vr(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),fm(e)}function Cee(n,e){if(0!=n)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=KT(e,t),i=[];t[0]<e.length;){var s=3&e[t[0]];if(0!=s){var h=0,p=0;if(1==s?(p=4+(e[t[0]]>>2&7),h=(224&e[t[0]++])<<3,h|=e[t[0]++]):(p=1+(e[t[0]++]>>2),2==s?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[fm(i)],0==h)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(p>=h)for(i.push(i[0].slice(-h)),p-=h;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-h,-h+p))}else{var o=e[t[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[t[0]],u>1&&(o|=e[t[0]+1]<<8),u>2&&(o|=e[t[0]+2]<<16),u>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=u}i.push(e.slice(t[0],t[0]+o)),t[0]+=o}}var _=fm(i);if(_.length!=r)throw new Error("Unexpected length: ".concat(_.length," != ").concat(r));return _}function Ku(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;e.push(Cee(r,n.slice(t+=3,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return fm(e)}function Qw(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Vr(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=255&o,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return fm(e)}function RF(n,e){var t=new Uint8Array(32),r=zv(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,function Tee(n,e,t){var r=Math.floor(0==t?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(127&r)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=255&i;n[e+15]|=t>=0?0:128}(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(-1==e.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function LF(n,e){var t=new Uint8Array(32),r=zv(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(-1==e.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function La(n){return KT(Pr(n)[1][0].data)}function Nee(n,e,t){var r,i,s,o;if(!(null==(r=n[6])?void 0:r[0])||!(null==(i=n[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(o=null==(s=n[8])?void 0:s[0])?void 0:o.data)&&bs(n[8][0].data)>0)throw"Math only works with normal offsets";for(var h=0,p=zv(n[7][0].data),_=0,w=[],E=zv(n[4][0].data),C=0,I=[],D=0;D<e.length;++D)if(null!=e[D]){var M,j;switch(p.setUint16(2*D,_,!0),E.setUint16(2*D,C,!0),typeof e[D]){case"string":M=RF({t:"s",v:e[D]},t),j=LF({t:"s",v:e[D]},t);break;case"number":M=RF({t:"n",v:e[D]},t),j=LF({t:"n",v:e[D]},t);break;case"boolean":M=RF({t:"b",v:e[D]},t),j=LF({t:"b",v:e[D]},t);break;default:throw new Error("Unsupported value "+e[D])}w.push(M),_+=M.length,I.push(j),C+=j.length,++h}else p.setUint16(2*D,65535,!0),E.setUint16(2*D,65535);for(n[2][0].data=Vr(h);D<n[7][0].data.length/2;++D)p.setUint16(2*D,65535,!0),E.setUint16(2*D,65535,!0);return n[6][0].data=fm(w),n[3][0].data=fm(I),h}function VF(n){!function xU(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];void 0===t[i[0]]&&(t[i[0]]=i[1]),"n"===i[2]&&(t[i[0]]=Number(t[i[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function jee(n,e){return"ods"==e.bookType?vU(n,e):"numbers"==e.bookType?function Ree(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=xl(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Xn(r)));var s=f2(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(ge){return ge.forEach(function(xe){"string"==typeof xe&&o.push(xe)})});var u={},h=[],p=kn.read(e.numbers,{type:"base64"});p.FileIndex.map(function(ge,xe){return[ge,p.FullPaths[xe]]}).forEach(function(ge){var xe=ge[0],ct=ge[1];2==xe.type&&xe.name.match(/\.iwa/)&&Zu(Ku(xe.content)).forEach(function(gt){h.push(gt.id),u[gt.id]={deps:[],location:ct,type:bs(gt.messages[0].meta[1][0].data)}})}),h.sort(function(ge,xe){return ge-xe});var _=h.filter(function(ge){return ge>1}).map(function(ge){return[ge,Vr(ge)]});p.FileIndex.map(function(ge,xe){return[ge,p.FullPaths[xe]]}).forEach(function(ge){var xe=ge[0];xe.name.match(/\.iwa/)&&Zu(Ku(xe.content)).forEach(function(At){At.messages.forEach(function(Tt){_.forEach(function(gt){At.messages.some(function(qn){return 11006!=bs(qn.meta[1][0].data)&&function Eee(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}(qn.data,gt[1])})&&u[gt[0]].deps.push(At.id)})})})});for(var I,E=kn.find(p,u[1].location),C=Zu(Ku(E.content)),D=0;D<C.length;++D){var M=C[D];1==M.id&&(I=M)}var j=La(Pr(I.messages[0].data)[1][0].data);for(C=Zu(Ku((E=kn.find(p,u[j].location)).content)),D=0;D<C.length;++D)(M=C[D]).id==j&&(I=M);for(j=La(Pr(I.messages[0].data)[2][0].data),C=Zu(Ku((E=kn.find(p,u[j].location)).content)),D=0;D<C.length;++D)(M=C[D]).id==j&&(I=M);for(j=La(Pr(I.messages[0].data)[2][0].data),C=Zu(Ku((E=kn.find(p,u[j].location)).content)),D=0;D<C.length;++D)(M=C[D]).id==j&&(I=M);var z=Pr(I.messages[0].data);z[6][0].data=Vr(r.e.r+1),z[7][0].data=Vr(r.e.c+1);for(var V=La(z[46][0].data),oe=kn.find(p,u[V].location),be=Zu(Ku(oe.content)),Ie=0;Ie<be.length&&be[Ie].id!=V;++Ie);if(be[Ie].id!=V)throw"Bad ColumnRowUIDMapArchive";var re=Pr(be[Ie].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var Ae=0;Ae<=r.e.c;++Ae){var Se=[];Se[1]=Se[2]=[{type:0,data:Vr(Ae+420690)}],re[1].push({type:2,data:zo(Se)}),re[2].push({type:0,data:Vr(Ae)}),re[3].push({type:0,data:Vr(Ae)})}re[4]=[],re[5]=[],re[6]=[];for(var We=0;We<=r.e.r;++We)(Se=[])[1]=Se[2]=[{type:0,data:Vr(We+726270)}],re[4].push({type:2,data:zo(Se)}),re[5].push({type:0,data:Vr(We)}),re[6].push({type:0,data:Vr(We)});be[Ie].messages[0].data=zo(re),oe.content=Qw(Yw(be)),oe.size=oe.content.length,delete z[46];var Je=Pr(z[4][0].data);Je[7][0].data=Vr(r.e.r+1);var Dt=La(Pr(Je[1][0].data)[2][0].data);if((be=Zu(Ku((oe=kn.find(p,u[Dt].location)).content)))[0].id!=Dt)throw"Bad HeaderStorageBucket";var cn=Pr(be[0].messages[0].data);for(We=0;We<s.length;++We){var Gt=Pr(cn[2][0].data);Gt[1][0].data=Vr(We),Gt[4][0].data=Vr(s[We].length),cn[2][We]={type:cn[2][0].type,data:zo(Gt)}}be[0].messages[0].data=zo(cn),oe.content=Qw(Yw(be)),oe.size=oe.content.length;var _t=La(Je[2][0].data);if((be=Zu(Ku((oe=kn.find(p,u[_t].location)).content)))[0].id!=_t)throw"Bad HeaderStorageBucket";for(cn=Pr(be[0].messages[0].data),Ae=0;Ae<=r.e.c;++Ae)(Gt=Pr(cn[2][0].data))[1][0].data=Vr(Ae),Gt[4][0].data=Vr(r.e.r+1),cn[2][Ae]={type:cn[2][0].type,data:zo(Gt)};be[0].messages[0].data=zo(cn),oe.content=Qw(Yw(be)),oe.size=oe.content.length;var pt=La(Je[4][0].data);!function(){for(var ct,ge=kn.find(p,u[pt].location),xe=Zu(Ku(ge.content)),kt=0;kt<xe.length;++kt){var At=xe[kt];At.id==pt&&(ct=At)}var Tt=Pr(ct.messages[0].data);Tt[3]=[];var gt=[];o.forEach(function(Yr,ur){gt[1]=[{type:0,data:Vr(ur)}],gt[2]=[{type:0,data:Vr(1)}],gt[3]=[{type:2,data:xee(Yr)}],Tt[3].push({type:2,data:zo(gt)})}),ct.messages[0].data=zo(Tt);var pe=Qw(Yw(xe));ge.content=pe,ge.size=ge.content.length}();var Ut=Pr(Je[3][0].data),xt=Ut[1][0];delete Ut[2];var pn=Pr(xt.data),ht=La(pn[2][0].data);!function(){for(var ct,ge=kn.find(p,u[ht].location),xe=Zu(Ku(ge.content)),kt=0;kt<xe.length;++kt){var At=xe[kt];At.id==ht&&(ct=At)}var Tt=Pr(ct.messages[0].data);delete Tt[6],delete Ut[7];var gt=new Uint8Array(Tt[5][0].data);Tt[5]=[];for(var qn=0,pe=0;pe<=r.e.r;++pe){var Yr=Pr(gt);qn+=Nee(Yr,s[pe],o),Yr[1][0].data=Vr(pe),Tt[5].push({data:zo(Yr),type:2})}Tt[1]=[{type:0,data:Vr(r.e.c+1)}],Tt[2]=[{type:0,data:Vr(r.e.r+1)}],Tt[3]=[{type:0,data:Vr(qn)}],Tt[4]=[{type:0,data:Vr(r.e.r+1)}],ct.messages[0].data=zo(Tt);var Qr=Qw(Yw(xe));ge.content=Qr,ge.size=ge.content.length}(),xt.data=zo(pn),Je[3][0].data=zo(Ut),z[4][0].data=zo(Je),I.messages[0].data=zo(z);var Be=Qw(Yw(C));return E.content=Be,E.size=E.content.length,p}(n,e):"xlsb"==e.bookType?function Gee(n,e){zw=1024,n&&!n.SSF&&(n.SSF=di(Mn)),n&&n.SSF&&(Uw(),TT(n.SSF),e.revssf=VD(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$T?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xlsb"==e.bookType?"bin":"xml",r=kB.indexOf(e.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};VF(e=e||{});var s=VM(),o="",u=0;if(e.cellXfs=[],hm(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),er(s,o="docProps/core.xml",I6(n.Props,e)),i.coreprops.push(o),Ur(e.rels,2,o,Jn.CORE_PROPS),o="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var h=[],p=0;p<n.SheetNames.length;++p)2!=(n.Workbook.Sheets[p]||{}).Hidden&&h.push(n.SheetNames[p]);n.Props.SheetNames=h}else n.Props.SheetNames=n.SheetNames;for(n.Props.Worksheets=n.Props.SheetNames.length,er(s,o,P6(n.Props)),i.extprops.push(o),Ur(e.rels,3,o,Jn.EXT_PROPS),n.Custprops!==n.Props&&ys(n.Custprops||{}).length>0&&(er(s,o="docProps/custom.xml",O6(n.Custprops)),i.custprops.push(o),Ur(e.rels,4,o,Jn.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var _={"!id":{}},w=n.Sheets[n.SheetNames[u-1]];if(er(s,o="xl/worksheets/sheet"+u+"."+t,bJ(u-1,o,e,n,_)),i.sheets.push(o),Ur(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Jn.WS[0]),w){var C=w["!comments"],I=!1,D="";C&&C.length>0&&(er(s,D="xl/comments"+u+"."+t,SJ(C,D,e)),i.comments.push(D),Ur(_,-1,"../comments"+u+"."+t,Jn.CMNT),I=!0),w["!legacy"]&&I&&er(s,"xl/drawings/vmlDrawing"+u+".vml",AB(u,w["!comments"])),delete w["!comments"],delete w["!legacy"]}_["!id"].rId1&&er(s,OT(o),Ww(_))}return null!=e.Strings&&e.Strings.length>0&&(er(s,o="xl/sharedStrings."+t,function CJ(n,e,t){return(".bin"===e.slice(-4)?Tz:pB)(n,t)}(e.Strings,o,e)),i.strs.push(o),Ur(e.wbrels,-1,"sharedStrings."+t,Jn.SST)),er(s,o="xl/workbook."+t,function EJ(n,e,t){return(".bin"===e.slice(-4)?cJ:XB)(n,t)}(n,o,e)),i.workbooks.push(o),Ur(e.rels,1,o,Jn.WB),er(s,o="xl/theme/theme1.xml",EF(n.Themes,e)),i.themes.push(o),Ur(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),er(s,o="xl/styles."+t,function TJ(n,e,t){return(".bin"===e.slice(-4)?yZ:EB)(n,t)}(n,o,e)),i.styles.push(o),Ur(e.wbrels,-1,"styles."+t,Jn.STY),n.vbaraw&&r&&(er(s,o="xl/vbaProject.bin",n.vbaraw),i.vba.push(o),Ur(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),er(s,o="xl/metadata."+t,function AJ(n){return(".bin"===n.slice(-4)?WZ:SB)()}(o)),i.metadata.push(o),Ur(e.wbrels,-1,"metadata."+t,Jn.XLMETA),er(s,"[Content_Types].xml",T6(i,e)),er(s,"_rels/.rels",Ww(e.rels)),er(s,"xl/_rels/workbook."+t+".rels",Ww(e.wbrels)),delete e.revssf,delete e.ssf,s}(n,e):function EU(n,e){zw=1024,n&&!n.SSF&&(n.SSF=di(Mn)),n&&n.SSF&&(Uw(),TT(n.SSF),e.revssf=VD(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$T?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=kB.indexOf(e.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};VF(e=e||{});var s=VM(),o="",u=0;if(e.cellXfs=[],hm(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),er(s,o="docProps/core.xml",I6(n.Props,e)),i.coreprops.push(o),Ur(e.rels,2,o,Jn.CORE_PROPS),o="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var h=[],p=0;p<n.SheetNames.length;++p)2!=(n.Workbook.Sheets[p]||{}).Hidden&&h.push(n.SheetNames[p]);n.Props.SheetNames=h}else n.Props.SheetNames=n.SheetNames;n.Props.Worksheets=n.Props.SheetNames.length,er(s,o,P6(n.Props)),i.extprops.push(o),Ur(e.rels,3,o,Jn.EXT_PROPS),n.Custprops!==n.Props&&ys(n.Custprops||{}).length>0&&(er(s,o="docProps/custom.xml",O6(n.Custprops)),i.custprops.push(o),Ur(e.rels,4,o,Jn.CUST_PROPS));var _=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var w={"!id":{}},E=n.Sheets[n.SheetNames[u-1]];if(er(s,o="xl/worksheets/sheet"+u+"."+t,$B(u-1,e,n,w)),i.sheets.push(o),Ur(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Jn.WS[0]),E){var I=E["!comments"],D=!1,M="";if(I&&I.length>0){var j=!1;I.forEach(function(z){z[1].forEach(function(V){1==V.T&&(j=!0)})}),j&&(er(s,M="xl/threadedComments/threadedComment"+u+"."+t,eK(I,_,e)),i.threadedcomments.push(M),Ur(w,-1,"../threadedComments/threadedComment"+u+"."+t,Jn.TCMNT)),er(s,M="xl/comments"+u+"."+t,DB(I)),i.comments.push(M),Ur(w,-1,"../comments"+u+"."+t,Jn.CMNT),D=!0}E["!legacy"]&&D&&er(s,"xl/drawings/vmlDrawing"+u+".vml",AB(u,E["!comments"])),delete E["!comments"],delete E["!legacy"]}w["!id"].rId1&&er(s,OT(o),Ww(w))}return null!=e.Strings&&e.Strings.length>0&&(er(s,o="xl/sharedStrings."+t,pB(e.Strings,e)),i.strs.push(o),Ur(e.wbrels,-1,"sharedStrings."+t,Jn.SST)),er(s,o="xl/workbook."+t,XB(n)),i.workbooks.push(o),Ur(e.rels,1,o,Jn.WB),er(s,o="xl/theme/theme1.xml",EF(n.Themes,e)),i.themes.push(o),Ur(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),er(s,o="xl/styles."+t,EB(n,e)),i.styles.push(o),Ur(e.wbrels,-1,"styles."+t,Jn.STY),n.vbaraw&&r&&(er(s,o="xl/vbaProject.bin",n.vbaraw),i.vba.push(o),Ur(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),er(s,o="xl/metadata."+t,SB()),i.metadata.push(o),Ur(e.wbrels,-1,"metadata."+t,Jn.XLMETA),_.length>1&&(er(s,o="xl/persons/person.xml",function nK(n){var e=[xs,Lt("personList",null,{xmlns:so_TCMNT,"xmlns:x":am[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Lt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}(_)),i.people.push(o),Ur(e.wbrels,-1,"persons/person.xml",Jn.PEOPLE)),er(s,"[Content_Types].xml",T6(i,e)),er(s,"_rels/.rels",Ww(e.rels)),er(s,"xl/_rels/workbook.xml.rels",Ww(e.wbrels)),delete e.revssf,delete e.ssf,s}(n,e)}function TU(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return CT(e.file,kn.write(n,{type:nr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kn.write(n,e)}function wf(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return wT(mf(r));case"binary":return mf(r);case"string":return n;case"file":return CT(e.file,r,"utf8");case"buffer":return nr?Xp(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):wf(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function h2(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return"base64"==e.type?wT(t):"string"==e.type?Oi(t):t;case"file":return CT(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function $F(n,e){(function FD(){Gu(1200),function vG(){MD(1252)}()})(),function QB(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");!function KX(n,e,t){n.forEach(function(r,i){YB(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(n.SheetNames,n.Workbook&&n.Workbook.Sheets||[],!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)WY(n.Sheets[n.SheetNames[t]],0,t)}(n);var t=di(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),"array"==t.type){t.type="binary";var r=$F(n,t);return t.type="array",xT(r)}var i=0;if(t.sheet&&(i="number"==typeof t.sheet?t.sheet:n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return wf(qJ(n,t),t);case"slk":case"sylk":return wf(uB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return wf(cU(n.Sheets[n.SheetNames[i]],t),t);case"txt":return function Xee(n,e){switch(e.type){case"base64":return wT(n);case"binary":case"string":return n;case"file":return CT(e.file,n,"binary");case"buffer":return nr?Xp(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}(PU(n.Sheets[n.SheetNames[i]],t),t);case"csv":return wf(qF(n.Sheets[n.SheetNames[i]],t),t,"\ufeff");case"dif":return wf(dB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return h2(_F.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return wf(qw.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return wf(yB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return wf(hB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return wf(vU(n,t),t);case"wk1":return h2(Wv.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return h2(Wv.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),h2(rU(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),function Qee(n,e){var t=e||{};return TU(function JJ(n,e){var t=e||{},r=kn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return kn.utils.cfb_add(r,i,rU(n,t)),8==t.biff&&(n.Props||n.Custprops)&&function XJ(n,e){var o,t=[],r=[],i=[],s=0,u=F4(aF,"n"),h=F4(lF,"n");if(n.Props)for(o=ys(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(u,o[s])?t:Object.prototype.hasOwnProperty.call(h,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=ys(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(u,o[s])?t:Object.prototype.hasOwnProperty.call(h,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var p=[];for(s=0;s<i.length;++s)V6.indexOf(i[s][0])>-1||D6.indexOf(i[s][0])>-1||null!=i[s][1]&&p.push(i[s]);r.length&&kn.utils.cfb_add(e,"/\x05SummaryInformation",G6(r,"e0859ff2f94f6810ab9108002b27b3d9",h,lF)),(t.length||p.length)&&kn.utils.cfb_add(e,"/\x05DocumentSummaryInformation",G6(t,"02d5cdd59c2e1b10939708002b2cf9ae",u,aF,p.length?p:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(n,r),8==t.biff&&n.vbaraw&&function dK(n,e){e.FullPaths.forEach(function(t,r){if(0!=r){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&kn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}(r,kn.read(n.vbaraw,{type:"string"==typeof n.vbaraw?"binary":"buffer"})),r}(n,t),t)}(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function Kee(n,e){var t=di(e||{});return function CU(n,e){var t={},r=nr?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?kn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if("undefined"!=typeof Deno&&"string"==typeof i){if("binary"==e.type||"base64"==e.type)return i;i=new Uint8Array(xT(i))}return e.password&&"undefined"!=typeof encrypt_agile?TU(encrypt_agile(i,e.password),e):"file"===e.type?CT(e.file,i):"string"==e.type?Oi(i):i}(jee(n,t),t)}(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function AU(n,e,t){var r=t||{};return r.type="file",r.file=e,function WF(n){if(!n.bookType){var t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[n.bookType]||n.bookType}}(r),$F(n,r)}function IU(n,e,t,r,i,s,o,u){var h=Es(t),p=u.defval,_=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),w=!0,E=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(E,"__rowNum__",{value:t,enumerable:!1})}catch(M){E.__rowNum__=t}else E.__rowNum__=t;if(!o||n[t])for(var C=e.s.c;C<=e.e.c;++C){var I=o?n[t][C]:n[r[C]+h];if(void 0!==I&&void 0!==I.t){var D=I.v;switch(I.t){case"z":if(null==D)break;continue;case"e":D=0==D?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+I.t)}if(null!=s[C]){if(null==D)if("e"==I.t&&null===D)E[s[C]]=null;else if(void 0!==p)E[s[C]]=p;else{if(!_||null!==D)continue;E[s[C]]=null}else E[s[C]]=_&&("n"!==I.t||"n"===I.t&&!1!==u.rawNumbers)?D:_f(I,D,u);null!=D&&(w=!1)}}else{if(void 0===p)continue;null!=s[C]&&(E[s[C]]=p)}}return{row:E,isempty:w}}function f2(n,e){if(null==n||null==n["!ref"])return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},p=e||{},_=null!=p.range?p.range:n["!ref"];switch(1===p.header?r=1:"A"===p.header?r=2:Array.isArray(p.header)?r=3:null==p.header&&(r=0),typeof _){case"string":h=br(_);break;case"number":(h=br(n["!ref"])).s.r=_;break;default:h=_}r>0&&(i=0);var w=Es(h.s.r),E=[],C=[],I=0,D=0,M=Array.isArray(n),j=h.s.r,z=0,V={};M&&!n[j]&&(n[j]=[]);var oe=p.skipHidden&&n["!cols"]||[],be=p.skipHidden&&n["!rows"]||[];for(z=h.s.c;z<=h.e.c;++z)if(!(oe[z]||{}).hidden)switch(E[z]=Mi(z),t=M?n[j][z]:n[E[z]+w],r){case 1:s[z]=z-h.s.c;break;case 2:s[z]=E[z];break;case 3:s[z]=p.header[z-h.s.c];break;default:if(null==t&&(t={w:"__EMPTY",t:"s"}),u=o=_f(t,null,p),D=V[o]||0){do{u=o+"_"+D++}while(V[u]);V[o]=D,V[u]=1}else V[o]=1;s[z]=u}for(j=h.s.r+i;j<=h.e.r;++j)if(!(be[j]||{}).hidden){var Ie=IU(n,h,j,E,r,s,M,p);(!1===Ie.isempty||(1===r?!1!==p.blankrows:p.blankrows))&&(C[I++]=Ie.row)}return C.length=I,C}var DU=/"/g;function kU(n,e,t,r,i,s,o,u){for(var h=!0,p=[],_="",w=Es(t),E=e.s.c;E<=e.e.c;++E)if(r[E]){var C=u.dense?(n[t]||[])[E]:n[r[E]+w];if(null==C)_="";else if(null!=C.v){h=!1,_=""+(u.rawNumbers&&"n"==C.t?C.v:_f(C,null,u));for(var I=0,D=0;I!==_.length;++I)if((D=_.charCodeAt(I))===i||D===s||34===D||u.forceQuotes){_='"'+_.replace(DU,'""')+'"';break}"ID"==_&&(_='"ID"')}else null==C.f||C.F?_="":(h=!1,(_="="+C.f).indexOf(",")>=0&&(_='"'+_.replace(DU,'""')+'"'));p.push(_)}return!1===u.blankrows&&h?null:p.join(o)}function qF(n,e){var t=[],r=null==e?{}:e;if(null==n||null==n["!ref"])return"";var i=br(n["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),u=void 0!==r.RS?r.RS:"\n",h=u.charCodeAt(0),p=new RegExp(("|"==s?"\\|":s)+"+$"),_="",w=[];r.dense=Array.isArray(n);for(var E=r.skipHidden&&n["!cols"]||[],C=r.skipHidden&&n["!rows"]||[],I=i.s.c;I<=i.e.c;++I)(E[I]||{}).hidden||(w[I]=Mi(I));for(var D=0,M=i.s.r;M<=i.e.r;++M)(C[M]||{}).hidden||null!=(_=kU(n,i,M,w,o,h,s,r))&&(r.strip&&(_=_.replace(p,"")),(_||!1!==r.blankrows)&&t.push((D++?u:"")+_));return delete r.dense,t.join("")}function PU(n,e){e||(e={}),e.FS="\t",e.RS="\n";var t=qF(n,e);return t}function OU(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,u=0;if(s&&null!=r.origin)if("number"==typeof r.origin)o=r.origin;else{var h="string"==typeof r.origin?Bs(r.origin):r.origin;o=h.r,u=h.c}var p,_={s:{c:0,r:0},e:{c:u,r:o+e.length-1+i}};if(s["!ref"]){var w=br(s["!ref"]);_.e.c=Math.max(_.e.c,w.e.c),_.e.r=Math.max(_.e.r,w.e.r),-1==o&&(_.e.r=(o=w.e.r+1)+e.length-1+i)}else-1==o&&(o=0,_.e.r=e.length-1+i);var E=r.header||[],C=0;e.forEach(function(D,M){ys(D).forEach(function(j){-1==(C=E.indexOf(j))&&(E[C=E.length]=j);var z=D[j],V="z",oe="",be=Nn({c:u+C,r:o+M+i});p=YT(s,be),!z||"object"!=typeof z||z instanceof Date?("number"==typeof z?V="n":"boolean"==typeof z?V="b":"string"==typeof z?V="s":z instanceof Date?(V="d",r.cellDates||(V="n",z=Go(z)),oe=r.dateNF||Mn[14]):null===z&&r.nullError&&(V="e",z=0),p?(p.t=V,p.v=z,delete p.w,delete p.R,oe&&(p.z=oe)):s[be]=p={t:V,v:z},oe&&(p.z=oe)):s[be]=z})}),_.e.c=Math.max(_.e.c,u+E.length-1);var I=Es(o);if(i)for(C=0;C<E.length;++C)s[Mi(C+u)+I]={t:"s",v:E[C]};return s["!ref"]=Xn(_),s}function YT(n,e,t){if("string"==typeof e){if(Array.isArray(n)){var r=Bs(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return YT(n,Nn("number"!=typeof e?e:{r:e,c:t||0}))}function MU(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}var Xw={encode_col:Mi,encode_row:Es,encode_cell:Nn,encode_range:Xn,decode_col:eF,decode_row:JM,split_cell:function D$(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Bs,decode_range:xl,format_cell:_f,sheet_add_aoa:m6,sheet_add_json:OU,sheet_add_dom:uU,aoa_to_sheet:Gw,json_to_sheet:function ete(n,e){return OU(null,n,e)},table_to_sheet:dU,table_to_book:function _ee(n,e){return lm(dU(n,e),e)},sheet_to_csv:qF,sheet_to_txt:PU,sheet_to_json:f2,sheet_to_html:cU,sheet_to_formulae:function Jee(n){var t,e="",r="";if(null==n||null==n["!ref"])return[];var u,i=br(n["!ref"]),s="",o=[],h=[],p=Array.isArray(n);for(u=i.s.c;u<=i.e.c;++u)o[u]=Mi(u);for(var _=i.s.r;_<=i.e.r;++_)for(s=Es(_),u=i.s.c;u<=i.e.c;++u)if(e=o[u]+s,r="",void 0!==(t=p?(n[_]||[])[u]:n[e])){if(null!=t.F){if(e=t.F,!t.f)continue;r=t.f,-1==e.indexOf(":")&&(e=e+":"+e)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}h[h.length]=e+"="+r}return h},sheet_to_row_object_array:f2,sheet_get_cell:YT,book_new:function zF(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function ZF(n,e,t,r){var i=1;if(!t)for(;i<=65535&&-1!=n.SheetNames.indexOf(t="Sheet"+i);++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&-1!=n.SheetNames.indexOf(t=o+i);++i);}if(YB(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t},book_set_sheet_visibility:function nte(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=function tte(n,e){if("number"==typeof e){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}if("string"==typeof e){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}throw new Error("Cannot find sheet |"+e+"|")}(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t},cell_set_number_format:function rte(n,e){return n.z=e,n},cell_set_hyperlink:MU,cell_set_internal_link:function ite(n,e,t){return MU(n,"#"+e,t)},cell_add_comment:function ste(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})},sheet_set_array_formula:function ote(n,e,t,r){for(var i="string"!=typeof e?e:br(e),s="string"==typeof e?e:Xn(e),o=i.s.r;o<=i.e.r;++o)for(var u=i.s.c;u<=i.e.c;++u){var h=YT(n,o,u);h.t="n",h.F=s,delete h.v,o==i.s.r&&u==i.s.c&&(h.f=t,r&&(h.D=!0))}return n},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};let Jw=(()=>{class n{constructor(t){this.db=t,this.dbpath="users",this.data=t.collection(this.dbpath)}getId(){return this.data}add(t,r){return this.data.doc(t).collection("task").add(r)}updateTask(t,r,i){return this.data.doc(t).collection("task").doc(r).update(i)}deleteTask(t,r){return this.data.doc(t).collection("task").doc(r).delete()}getAllTask(t){return this.getId().doc(t).collection("task").snapshotChanges().pipe((0,Yt.U)(r=>r.map(i=>Object.assign({uid:i.payload.doc.id},i.payload.doc.data()))))}getMonth(){switch((new Date).getMonth()){case 0:this.month="Jan";break;case 1:this.month="Feb";break;case 2:this.month="Mar";break;case 3:this.month="Apr";break;case 4:this.month="May";break;case 5:this.month="Jun";break;case 6:this.month="Jul";break;case 7:this.month="Aug";break;case 8:this.month="Sep";break;case 9:this.month="Oct";break;case 10:this.month="Nov";break;case 11:this.month="Dec"}return this.month}getDay(){switch((new Date).getDay()){case 0:this.day="Sunday";break;case 1:this.day="Monday";break;case 2:this.day="Tuesday";break;case 3:this.day="Wednesday";break;case 4:this.day="Thursday";break;case 5:this.day="Friday";break;case 6:this.day="Saturday"}return this.day}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Zv=(()=>{class n extends FU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const th=new c.OlP("NgValueAccessor"),fte={provide:th,useExisting:(0,c.Gpc)(()=>xf),multi:!0},gte=new c.OlP("CompositionEventMode");let xf=(()=>{class n extends FU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pte(){const n=G()?G().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(gte,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[c._Bn([fte]),c.qOj]}),n})();function pm(n){return null==n||0===n.length}function RU(n){return null!=n&&"number"==typeof n.length}const Ba=new c.OlP("NgValidators"),gm=new c.OlP("NgAsyncValidators"),mte=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ua{static min(e){return function LU(n){return e=>{if(pm(e.value)||pm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function BU(n){return e=>{if(pm(e.value)||pm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function UU(n){return pm(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function VU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function HU(n){return pm(n.value)||mte.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jU(n){return e=>pm(e.value)||!RU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function GU(n){return e=>RU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $U(n){if(!n)return g2;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pm(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return YU(e)}static composeAsync(e){return QU(e)}}function g2(n){return null}function WU(n){return null!=n}function qU(n){const e=(0,c.QGY)(n)?(0,Tr.D)(n):n;return(0,c.CqO)(e),e}function zU(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ZU(n,e){return e.map(t=>t(n))}function KU(n){return n.map(e=>function _te(n){return!n.validate}(e)?e:t=>e.validate(t))}function YU(n){if(!n)return null;const e=n.filter(WU);return 0==e.length?null:function(t){return zU(ZU(t,e))}}function KF(n){return null!=n?YU(KU(n)):null}function QU(n){if(!n)return null;const e=n.filter(WU);return 0==e.length?null:function(t){return function dte(...n){const e=(0,$l.jO)(n),{args:t,keys:r}=Bt(n),i=new A.y(s=>{const{length:o}=t;if(!o)return void s.complete();const u=new Array(o);let h=o,p=o;for(let _=0;_<o;_++){let w=!1;(0,Ac.Xf)(t[_]).subscribe((0,Wr.x)(s,E=>{w||(w=!0,p--),u[_]=E},()=>h--,void 0,()=>{(!h||!w)&&(p||s.next(r?Vf(r,u):u),s.complete())}))}});return e?i.pipe(Th(e)):i}(ZU(t,e).map(qU)).pipe((0,Yt.U)(zU))}}function YF(n){return null!=n?QU(KU(n)):null}function XU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JU(n){return n._rawValidators}function e8(n){return n._rawAsyncValidators}function QF(n){return n?Array.isArray(n)?n:[n]:[]}function m2(n,e){return Array.isArray(n)?n.includes(e):n===e}function t8(n,e){const t=QF(e);return QF(n).forEach(i=>{m2(t,i)||t.push(i)}),t}function n8(n,e){return QF(e).filter(t=>!m2(n,t))}class r8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mm extends r8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bl extends r8{get formDirective(){return null}get path(){return null}}class i8{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let nh=(()=>{class n extends i8{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mm,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),sg=(()=>{class n extends i8{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bl,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function v2(n,e){return[...e.path,n]}function QT(n,e){eN(n,e),e.valueAccessor.writeValue(n.value),function Cte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&o8(n,e)})}(n,e),function Ate(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ste(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&o8(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Tte(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function y2(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),x2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function w2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eN(n,e){const t=JU(n);null!==e.validator?n.setValidators(XU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=e8(n);null!==e.asyncValidator?n.setAsyncValidators(XU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();w2(e._rawValidators,i),w2(e._rawAsyncValidators,i)}function x2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=JU(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=e8(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return w2(e._rawValidators,r),w2(e._rawAsyncValidators,r),t}function o8(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function a8(n,e){eN(n,e)}function tN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function c8(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nN(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xf?t=s:function kte(n){return Object.getPrototypeOf(n.constructor)===Zv}(s)?r=s:i=s}),i||r||t||null}function rN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const XT="VALID",E2="INVALID",ex="PENDING",JT="DISABLED";function sN(n){return(b2(n)?n.validators:n)||null}function u8(n){return Array.isArray(n)?KF(n):n||null}function oN(n,e){return(b2(e)?e.asyncValidators:n)||null}function d8(n){return Array.isArray(n)?YF(n):n||null}function b2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const h8=n=>n instanceof Hr,aN=n=>n instanceof Ef;function f8(n){return h8(n)?n.value:n.getRawValue()}function p8(n,e){const t=aN(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function g8(n,e){aN(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class lN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=u8(this._rawValidators),this._composedAsyncValidatorFn=d8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===XT}get invalid(){return this.status===E2}get pending(){return this.status==ex}get disabled(){return this.status===JT}get enabled(){return this.status!==JT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=u8(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=d8(e)}addValidators(e){this.setValidators(t8(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(t8(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(n8(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(n8(e,this._rawAsyncValidators))}hasValidator(e){return m2(this._rawValidators,e)}hasAsyncValidator(e){return m2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ex,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=JT,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=XT,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===XT||this.status===ex)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?JT:XT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ex,this._hasOwnPendingAsyncValidator=!0;const t=qU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Pte(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=aN(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Mte)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?JT:this.errors?E2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ex)?ex:this._anyControlsHaveStatus(E2)?E2:XT}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){b2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hr extends lN{constructor(e=null,t,r){super(sN(t),oN(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),b2(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ef extends lN{constructor(e,t,r){super(sN(t),oN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){g8(this,e),Object.keys(e).forEach(r=>{p8(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=f8(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Mte extends lN{constructor(e,t,r){super(sN(t),oN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){g8(this,e),e.forEach((r,i)=>{p8(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>f8(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Fte={provide:bl,useExisting:(0,c.Gpc)(()=>T2)},eC=(()=>Promise.resolve(null))();let T2=(()=>{class n extends bl{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Ef({},KF(t),YF(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){eC.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),QT(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){eC.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){eC.then(()=>{const r=this._findContainer(t.path),i=new Ef({});a8(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){eC.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){eC.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,c8(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ba,10),c.Y36(gm,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Fte]),c.qOj]}),n})();const Rte={provide:mm,useExisting:(0,c.Gpc)(()=>tC)},v8=(()=>Promise.resolve(null))();let tC=(()=>{class n extends mm{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Hr,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nN(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){QT(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){v8.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;v8.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?v2(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bl,9),c.Y36(Ba,10),c.Y36(gm,10),c.Y36(th,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Rte]),c.qOj,c.TTD]}),n})(),og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Lte={provide:th,useExisting:(0,c.Gpc)(()=>cN),multi:!0};let cN=(()=>{class n extends Zv{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([Lte]),c.qOj]}),n})(),y8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const uN=new c.OlP("NgModelWithFormControlWarning"),jte={provide:bl,useExisting:(0,c.Gpc)(()=>bf)};let bf=(()=>{class n extends bl{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return QT(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){y2(t.control||null,t,!1),rN(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,c8(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(y2(r||null,t),h8(i)&&(QT(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);a8(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ite(n,e){return x2(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eN(this.form,this),this._oldForm&&x2(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ba,10),c.Y36(gm,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([jte]),c.qOj,c.TTD]}),n})();const Wte={provide:mm,useExisting:(0,c.Gpc)(()=>ag)};let ag=(()=>{class n extends mm{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nN(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),tN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return v2(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(bl,13),c.Y36(Ba,10),c.Y36(gm,10),c.Y36(th,10),c.Y36(uN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Wte]),c.qOj,c.TTD]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[y8]]}),n})(),ane=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[N8]}),n})(),lne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[N8]}),n})();var R8=K(5032);function Yv(n){return(0,ai.e)((e,t)=>{(0,Ac.Xf)(n).subscribe((0,Wr.x)(t,()=>t.complete(),R8.Z)),!t.closed&&e.subscribe(t)})}var une=K(3532);function fne(n,e=Yg.z){return function cne(n){return(0,ai.e)((e,t)=>{let r=!1,i=null,s=null,o=!1;const u=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const p=i;i=null,t.next(p)}o&&t.complete()},h=()=>{s=null,o&&t.complete()};e.subscribe((0,Wr.x)(t,p=>{r=!0,i=p,s||(0,Ac.Xf)(n(p)).subscribe(s=(0,Wr.x)(t,u,h))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function hne(n=0,e,t=Yg.P){let r=-1;return null!=e&&((0,une.K)(e)?t=e:r=e),new A.y(i=>{let s=function dne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}function L8(n,e=Yg.z){return(0,ai.e)((t,r)=>{let i=null,s=null,o=null;const u=()=>{if(i){i.unsubscribe(),i=null;const p=s;s=null,r.next(p)}};function h(){const p=o+n,_=e.now();if(_<p)return i=this.schedule(void 0,p-_),void r.add(i);u()}t.subscribe((0,Wr.x)(r,p=>{s=p,o=e.now(),i||(i=e.schedule(h,n),r.add(i))},()=>{u(),r.complete()},void 0,()=>{s=i=null}))})}var B8=K(4408);const nC={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=nC;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Zl.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=nC;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=nC;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var U8=K(7565);const mne=new class gne extends U8.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pne extends B8.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=nC.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(nC.cancelAnimationFrame(t),e._scheduled=void 0)}});let mN,_ne=1;const C2={};function V8(n){return n in C2&&(delete C2[n],!0)}const vne={setImmediate(n){const e=_ne++;return C2[e]=!0,mN||(mN=Promise.resolve()),mN.then(()=>V8(e)&&n()),e},clearImmediate(n){V8(n)}},{setImmediate:yne,clearImmediate:wne}=vne,S2={setImmediate(...n){const{delegate:e}=S2;return((null==e?void 0:e.setImmediate)||yne)(...n)},clearImmediate(n){const{delegate:e}=S2;return((null==e?void 0:e.clearImmediate)||wne)(n)},delegate:void 0},bne=new class Ene extends U8.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class xne extends B8.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=S2.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(S2.clearImmediate(t),e._scheduled=void 0)}});var Tne=K(1144);const Cne=["addListener","removeListener"],Sne=["addEventListener","removeEventListener"],Ane=["on","off"];function tx(n,e,t,r){if((0,Ks.m)(t)&&(r=t,t=void 0),r)return tx(n,e,t).pipe(Th(r));const[i,s]=function kne(n){return(0,Ks.m)(n.addEventListener)&&(0,Ks.m)(n.removeEventListener)}(n)?Sne.map(o=>u=>n[o](e,u,t)):function Ine(n){return(0,Ks.m)(n.addListener)&&(0,Ks.m)(n.removeListener)}(n)?Cne.map(H8(n,e)):function Dne(n){return(0,Ks.m)(n.on)&&(0,Ks.m)(n.off)}(n)?Ane.map(H8(n,e)):[];if(!i&&(0,Tne.z)(n))return(0,Ii.z)(o=>tx(o,e,t))((0,Ac.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new A.y(o=>{const u=(...h)=>o.next(1<h.length?h:h[0]);return i(u),()=>s(u)})}function H8(n,e){return t=>r=>n[t](e,r)}const Pne=["content"],One=["scroll"],Mne=["padding"],rC=function(n){return{searchTerm:n}};function Fne(n,e){if(1&n&&(c.TgZ(0,"div",6),c.GkF(1,7),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",c.VKq(2,rC,t.filterValue))}}function Nne(n,e){if(1&n&&(c.TgZ(0,"div",8),c.GkF(1,7),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",c.VKq(2,rC,t.filterValue))}}const j8=["*"],Rne=["searchInput"];function Lne(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",15),c.NdJ("click",function(){c.CHM(t);const i=c.oxw().$implicit;return c.oxw(2).unselect(i)}),c._uU(1,"\xd7"),c.qZA(),c._UZ(2,"span",16)}if(2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.xp6(2),c.Q6J("ngItemLabel",t.label)("escape",r.escapeHTML)}}function Bne(n,e){}const Une=function(n,e,t){return{item:n,clear:e,label:t}};function Vne(n,e){if(1&n&&(c.TgZ(0,"div",12),c.YNc(1,Lne,3,2,"ng-template",null,13,c.W1O),c.YNc(3,Bne,0,0,"ng-template",14),c.qZA()),2&n){const t=e.$implicit,r=c.MAs(2),i=c.oxw(2);c.ekj("ng-value-disabled",t.disabled),c.xp6(3),c.Q6J("ngTemplateOutlet",i.labelTemplate||r)("ngTemplateOutletContext",c.kEZ(4,Une,t.value,i.clearItem,t.label))}}function Hne(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Vne,4,8,"div",11),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function jne(n,e){}const Gne=function(n,e){return{items:n,clear:e}};function $ne(n,e){if(1&n&&c.YNc(0,jne,0,0,"ng-template",14),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",c.WLB(2,Gne,t.selectedValues,t.clearItem))}}function Wne(n,e){1&n&&c._UZ(0,"div",19)}function qne(n,e){}function zne(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Wne,1,0,"ng-template",null,17,c.W1O),c.YNc(3,qne,0,0,"ng-template",18),c.BQk()),2&n){const t=c.MAs(2),r=c.oxw();c.xp6(3),c.Q6J("ngTemplateOutlet",r.loadingSpinnerTemplate||t)}}function Zne(n,e){if(1&n&&(c.TgZ(0,"span",20)(1,"span",21),c._uU(2,"\xd7"),c.qZA()()),2&n){const t=c.oxw();c.s9C("title",t.clearAllText)}}function Kne(n,e){if(1&n&&c._UZ(0,"span",27),2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.Q6J("ngItemLabel",t.label)("escape",r.escapeHTML)}}function Yne(n,e){}const Qne=function(n,e,t,r){return{item:n,item$:e,index:t,searchTerm:r}};function Xne(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",25),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw(2).toggleItem(s)})("mouseover",function(){const s=c.CHM(t).$implicit;return c.oxw(2).onItemHover(s)}),c.YNc(1,Kne,1,2,"ng-template",null,26,c.W1O),c.YNc(3,Yne,0,0,"ng-template",14),c.qZA()}if(2&n){const t=e.$implicit,r=c.MAs(2),i=c.oxw(2);c.ekj("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===i.itemsList.markedItem),c.uIk("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),c.xp6(3),c.Q6J("ngTemplateOutlet",t.children?i.optgroupTemplate||r:i.optionTemplate||r)("ngTemplateOutletContext",c.l5B(17,Qne,t.value,t,t.index,i.searchTerm))}}function Jne(n,e){if(1&n&&(c.TgZ(0,"span")(1,"span",30),c._uU(2),c.qZA(),c._uU(3),c.qZA()),2&n){const t=c.oxw(3);c.xp6(2),c.Oqu(t.addTagText),c.xp6(1),c.hij('"',t.searchTerm,'"')}}function ere(n,e){}function tre(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",28),c.NdJ("mouseover",function(){return c.CHM(t),c.oxw(2).itemsList.unmarkItem()})("click",function(){return c.CHM(t),c.oxw(2).selectTag()}),c.YNc(1,Jne,4,2,"ng-template",null,29,c.W1O),c.YNc(3,ere,0,0,"ng-template",14),c.qZA()}if(2&n){const t=c.MAs(2),r=c.oxw(2);c.ekj("ng-option-marked",!r.itemsList.markedItem),c.xp6(3),c.Q6J("ngTemplateOutlet",r.tagTemplate||t)("ngTemplateOutletContext",c.VKq(4,rC,r.searchTerm))}}function nre(n,e){if(1&n&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.Oqu(t.notFoundText)}}function rre(n,e){}function ire(n,e){if(1&n&&(c.ynx(0),c.YNc(1,nre,2,1,"ng-template",null,31,c.W1O),c.YNc(3,rre,0,0,"ng-template",14),c.BQk()),2&n){const t=c.MAs(2),r=c.oxw(2);c.xp6(3),c.Q6J("ngTemplateOutlet",r.notFoundTemplate||t)("ngTemplateOutletContext",c.VKq(2,rC,r.searchTerm))}}function sre(n,e){if(1&n&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.Oqu(t.typeToSearchText)}}function ore(n,e){}function are(n,e){if(1&n&&(c.ynx(0),c.YNc(1,sre,2,1,"ng-template",null,33,c.W1O),c.YNc(3,ore,0,0,"ng-template",18),c.BQk()),2&n){const t=c.MAs(2),r=c.oxw(2);c.xp6(3),c.Q6J("ngTemplateOutlet",r.typeToSearchTemplate||t)}}function lre(n,e){if(1&n&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.Oqu(t.loadingText)}}function cre(n,e){}function ure(n,e){if(1&n&&(c.ynx(0),c.YNc(1,lre,2,1,"ng-template",null,34,c.W1O),c.YNc(3,cre,0,0,"ng-template",14),c.BQk()),2&n){const t=c.MAs(2),r=c.oxw(2);c.xp6(3),c.Q6J("ngTemplateOutlet",r.loadingTextTemplate||t)("ngTemplateOutletContext",c.VKq(2,rC,r.searchTerm))}}function dre(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ng-dropdown-panel",22),c.NdJ("update",function(i){return c.CHM(t),c.oxw().viewPortItems=i})("scroll",function(i){return c.CHM(t),c.oxw().scroll.emit(i)})("scrollToEnd",function(i){return c.CHM(t),c.oxw().scrollToEnd.emit(i)})("outsideClick",function(){return c.CHM(t),c.oxw().close()}),c.ynx(1),c.YNc(2,Xne,4,22,"div",23),c.YNc(3,tre,4,6,"div",24),c.BQk(),c.YNc(4,ire,4,4,"ng-container",3),c.YNc(5,are,4,1,"ng-container",3),c.YNc(6,ure,4,4,"ng-container",3),c.qZA()}if(2&n){const t=c.oxw();c.ekj("ng-select-multiple",t.multiple),c.Q6J("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),c.xp6(2),c.Q6J("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),c.xp6(1),c.Q6J("ngIf",t.showAddTag),c.xp6(1),c.Q6J("ngIf",t.showNoItemsFound()),c.xp6(1),c.Q6J("ngIf",t.showTypeToSearch()),c.xp6(1),c.Q6J("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const G8=/[&<>"']/g,hre=RegExp(G8.source),fre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Vs(n){return null!=n}function iC(n){return"object"==typeof n&&Vs(n)}function A2(n){return n instanceof Function}let mre=(()=>{class n{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function pre(n){return n&&hre.test(n)?n.replace(G8,e=>fre[e]):n}(this.ngItemLabel):this.ngItemLabel}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[c.TTD]}),n})(),_re=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-option-tmp",""]]}),n})(),vre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-optgroup-tmp",""]]}),n})(),yre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-label-tmp",""]]}),n})(),wre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-multi-label-tmp",""]]}),n})(),xre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-header-tmp",""]]}),n})(),Ere=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-footer-tmp",""]]}),n})(),bre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-notfound-tmp",""]]}),n})(),Tre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-typetosearch-tmp",""]]}),n})(),Cre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-loadingtext-tmp",""]]}),n})(),Sre=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-tag-tmp",""]]}),n})(),Are=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ng-loadingspinner-tmp",""]]}),n})();function $8(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Ire={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function I2(n){return n.replace(/[^\u0000-\u007E]/g,t=>Ire[t]||t)}class Dre{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){const t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((t,r)=>this.mapItem(t,r)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){!e.selected||(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&Vs(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?r=>this._ngSelect.compareWith(r.value,e):this._ngSelect.bindValue?r=>!r.children&&this.resolveNested(r.value,this._ngSelect.bindValue)===e:r=>r.value===e||!r.children&&r.label&&r.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(r=>t(r))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=I2(e).toLocaleLowerCase(),this.filteredItems.find(t=>I2(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:I2(e).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected;for(const i of Array.from(this._groups.keys())){const s=[];for(const o of this._groups.get(i))r&&(o.parent&&o.parent.selected||o.selected)||t(e,this._ngSelect.searchFn?o.value:o)&&s.push(o);if(s.length>0){const[o]=s.slice(-1);if(o.parent){const u=this._items.find(h=>h===o.parent);this._filteredItems.push(u)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(r=>!r.disabled):-1}resolveNested(e,t){if(!iC(e))return e;if(-1===t.indexOf("."))return e[t];{const r=t.split(".");let i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}mapItem(e,t){const r=Vs(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=Vs(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:Vs(r)?r.toString():"",value:i,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const r=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,i=Vs(r)?this.findItem(r):null;this._selectionModel.unselect(t,e),this._selectionModel.select(i||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(i=>i===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,r)=>t.index-r.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(r=>r.selected)&&(this._filteredItems=this._filteredItems.filter(r=>r!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return I2(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const r=new Map;if(0===e.length)return r;if(Array.isArray(e[0].value[t])){for(const o of e){const u=(o.value[t]||[]).map((h,p)=>this.mapItem(h,p));r.set(o,u)}return r}const i=A2(this._ngSelect.groupBy),s=o=>{const u=i?t(o.value):o.value[t];return Vs(u)?u:void 0};for(const o of e){const u=s(o),h=r.get(u);h?h.push(o):r.set(u,[o])}return r}_flatten(e){const t=A2(this._ngSelect.groupBy),r=[];for(const i of Array.from(e.keys())){let s=r.length;if(void 0===i){const w=e.get(void 0)||[];r.push(...w.map(E=>(E.index=s++,E)));continue}const o=iC(i),u={label:o?"":String(i),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:$8()},h=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,p=this._ngSelect.groupValue||(()=>o?i.value:{[h]:i}),_=e.get(i).map(w=>(w.parent=u,w.children=void 0,w.index=s++,w));u.children=_,u.value=p(i,_.map(w=>w.value)),r.push(u),r.push(..._)}return r}}var rh=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace"}(rh||(rh={})),rh))();let W8=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,r,i){const s=this._dimensions,o=s.itemHeight*r,h=Math.max(0,t)/o*r;let p=Math.min(r,Math.ceil(h)+(s.itemsPerViewport+1));const w=Math.max(0,p-s.itemsPerViewport);let E=Math.min(w,Math.floor(h)),C=s.itemHeight*Math.ceil(E)-s.itemHeight*Math.min(E,i);return C=isNaN(C)?0:C,E=isNaN(E)?-1:E,p=isNaN(p)?-1:p,E-=i,E=Math.max(0,E),p+=i,p=Math.min(r,p),{topPadding:C,scrollHeight:o,start:E,end:p}}setDimensions(t,r){const i=Math.max(1,Math.floor(r/t));this._dimensions={itemHeight:t,panelHeight:r,itemsPerViewport:i}}getScrollTo(t,r,i){const{panelHeight:s}=this.dimensions,o=t+r,h=i+s;return s>=o&&i===t?null:o>h?i+o-h:t<=i?t:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const q8=["top","right","bottom","left"],kre="undefined"!=typeof requestAnimationFrame?mne:bne;let z8=(()=>{class n{constructor(t,r,i,s,o){this._renderer=t,this._zone=r,this._panelService=i,this._document=o,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new c.vpe,this.scroll=new c.vpe,this.scrollToEnd=new c.vpe,this.outsideClick=new c.vpe,this._destroy$=new Cr.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=s.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:r}=this._panelService.dimensions,i=this.markedItem.index*t;return r>i?0:i}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const r=t.items;this._onItemsChange(r.currentValue,r.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,r=!1){if(!t)return;const i=this.items.indexOf(t);if(i<0||i>=this.itemsLength)return;let s;if(this.virtualScroll){const o=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(i*o,o,this._lastScrollPosition)}else{const o=this._dropdown.querySelector(`#${t.htmlId}`);s=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,r?o.offsetTop:this._lastScrollPosition)}Vs(s)&&(this._scrollablePanel.scrollTop=s)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),q8.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){q8.forEach(i=>{const s=`ng-select-${i}`;this._renderer.removeClass(this._dropdown,s),this._renderer.removeClass(this._select,s)});const r=`ng-select-${t}`;this._renderer.addClass(this._dropdown,r),this._renderer.addClass(this._select,r)}_handleScroll(){this._zone.runOutsideAngular(()=>{tx(this.scrollElementRef.nativeElement,"scroll").pipe(Yv(this._destroy$),fne(0,kre)).subscribe(t=>{const r=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(r&&0!==r.length?r[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,Ow.T)(tx(this._document,"touchstart",{capture:!0}),tx(this._document,"mousedown",{capture:!0})).pipe(Yv(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const r=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&r&&r[0]&&this._select.contains(r[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,r){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const r=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(r.scrollHeight),this._contentPanel.style.transform=`translateY(${r.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(r.start,r.end)),this.scroll.emit({start:r.start,end:r.end})}),Vs(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const i=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=i*this.itemsLength+"px",this._panelService.setDimensions(i,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const r=this._select.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop;return r.top+window.pageYOffset+r.height+t.getBoundingClientRect().height>i+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-r.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),i=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=r.bottom-t.bottom+i+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-r.top+i+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{tx(this._dropdown,"mousedown").pipe(Yv(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(W8),c.Y36(c.SBq),c.Y36(Y,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,r){if(1&t&&(c.Gf(Pne,7,c.SBq),c.Gf(One,7,c.SBq),c.Gf(Mne,7,c.SBq)),2&t){let i;c.iGM(i=c.CRH())&&(r.contentElementRef=i.first),c.iGM(i=c.CRH())&&(r.scrollElementRef=i.first),c.iGM(i=c.CRH())&&(r.paddingElementRef=i.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[c.TTD],ngContentSelectors:j8,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,Fne,2,4,"div",0),c.TgZ(1,"div",1,2),c._UZ(3,"div",null,3),c.TgZ(5,"div",null,4),c.Hsn(7),c.qZA()(),c.YNc(8,Nne,2,4,"div",5)),2&t&&(c.Q6J("ngIf",r.headerTemplate),c.xp6(3),c.ekj("total-padding",r.virtualScroll),c.xp6(2),c.ekj("scrollable-content",r.virtualScroll&&r.items.length),c.xp6(3),c.Q6J("ngIf",r.footerTemplate))},directives:[yr,ld],encapsulation:2,changeDetection:0}),n})(),Pre=(()=>{class n{constructor(t){this.elementRef=t,this.stateChange$=new Cr.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[c.TTD],ngContentSelectors:j8,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Ore=(()=>{class n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mre=(()=>{class n{warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z8=new c.OlP("ng-select-selection-model");let nx=(()=>{class n{constructor(t,r,i,s,o,u,h){this.classes=t,this.autoFocus=r,this.config=i,this._cd=u,this._console=h,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=p=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new c.vpe,this.focusEvent=new c.vpe,this.changeEvent=new c.vpe,this.openEvent=new c.vpe,this.closeEvent=new c.vpe,this.searchEvent=new c.vpe,this.clearEvent=new c.vpe,this.addEvent=new c.vpe,this.removeEvent=new c.vpe,this.scroll=new c.vpe,this.scrollToEnd=new c.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=$8(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Cr.x,this._keyPress$=new Cr.x,this._onChange=p=>{},this._onTouched=()=>{},this.clearItem=p=>{const _=this.selectedItems.find(w=>w.value===p);this.unselect(_)},this.trackByOption=(p,_)=>this.trackByFn?this.trackByFn(_.value):_,this._mergeGlobalConfig(i),this.itemsList=new Dre(this,s()),this.element=o.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!A2(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return Vs(this._clearSearchOnAdd)?this._clearSearchOnAdd:Vs(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=Vs(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Vs(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(rh[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case rh.ArrowDown:this._handleArrowDown(t);break;case rh.ArrowUp:this._handleArrowUp(t);break;case rh.Space:this._handleSpace(t);break;case rh.Enter:this._handleEnter(t);break;case rh.Tab:this._handleTab(t);break;case rh.Esc:this.close(),t.preventDefault();break;case rh.Backspace:this._handleBackspace()}}handleMousedown(t){const r=t.target;"INPUT"!==r.tagName&&t.preventDefault(),r.classList.contains("ng-clear-wrapper")?this.handleClearClick():r.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){!t||(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=A2(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const r=i=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(i,null):this.itemsList.addItem(i);!function gre(n){return n instanceof Promise}(t)?t&&this.select(r(t)):t.then(i=>this.select(r(i))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(r=>r.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(r=>r.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(r=>r.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const r=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Vs(r)?!iC(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Vs(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=i=>{this.items=i.map(s=>({$ngOptionValue:s.value,$ngOptionLabel:s.elementRef.nativeElement.innerHTML,disabled:s.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},r=()=>{const i=(0,Ow.T)(this.ngOptions.changes,this._destroy$);(0,Ow.T)(...this.ngOptions.map(s=>s.stateChange$)).pipe(Yv(i)).subscribe(s=>{const o=this.itemsList.findItem(s.value);o.disabled=s.disabled,o.label=s.label||o.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Yl(this.ngOptions),Yv(this._destroy$)).subscribe(i=>{this.bindLabel=this._defaultLabel,t(i),r()})}_isValidWriteValue(t){if(!Vs(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const r=i=>!(!Vs(this.compareWith)&&iC(i)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(i)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(i=>r(i)):(this._console.warn("Multiple select ngModel should be array."),!1):r(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const r=i=>{let s=this.itemsList.findItem(i);if(s)this.itemsList.select(s);else{const o=iC(i),u=!o&&!this.bindValue;o||u?this.itemsList.select(this.itemsList.mapItem(i,null)):this.bindValue&&(s={[this.bindLabel]:null,[this.bindValue]:i},this.itemsList.select(this.itemsList.mapItem(s,null)))}};this.multiple?t.forEach(i=>r(i)):r(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Yv(this._destroy$),(0,Ys.b)(t=>this._pressedKeys.push(t)),L8(200),Ai(()=>this._pressedKeys.length>0),(0,Yt.U)(()=>this._pressedKeys.join(""))).subscribe(t=>{const r=this.itemsList.findByLabel(t);r&&(this.isOpen?(this.itemsList.markItem(r),this._scrollToMarked(),this._cd.markForCheck()):this.select(r)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,r=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const i of Object.keys(r))t.setAttribute(i,r[i])}_updateNgModel(){const t=[];for(const i of this.selectedItems)if(this.bindValue){let s=null;s=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),t.push(s)}else t.push(i.value);const r=this.selectedItems.map(i=>i.value);this.multiple?(this._onChange(t),this.changeEvent.emit(r)):(this._onChange(Vs(t[0])?t[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const r=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=Vs(this.virtualScroll)?this.virtualScroll:!!Vs(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=Vs(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("class"),c.$8M("autofocus"),c.Y36(Ore),c.Y36(Z8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Mre))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-select"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,_re,5,c.Rgc),c.Suo(i,vre,5,c.Rgc),c.Suo(i,yre,5,c.Rgc),c.Suo(i,wre,5,c.Rgc),c.Suo(i,xre,5,c.Rgc),c.Suo(i,Ere,5,c.Rgc),c.Suo(i,bre,5,c.Rgc),c.Suo(i,Tre,5,c.Rgc),c.Suo(i,Cre,5,c.Rgc),c.Suo(i,Sre,5,c.Rgc),c.Suo(i,Are,5,c.Rgc),c.Suo(i,Pre,5)),2&t){let s;c.iGM(s=c.CRH())&&(r.optionTemplate=s.first),c.iGM(s=c.CRH())&&(r.optgroupTemplate=s.first),c.iGM(s=c.CRH())&&(r.labelTemplate=s.first),c.iGM(s=c.CRH())&&(r.multiLabelTemplate=s.first),c.iGM(s=c.CRH())&&(r.headerTemplate=s.first),c.iGM(s=c.CRH())&&(r.footerTemplate=s.first),c.iGM(s=c.CRH())&&(r.notFoundTemplate=s.first),c.iGM(s=c.CRH())&&(r.typeToSearchTemplate=s.first),c.iGM(s=c.CRH())&&(r.loadingTextTemplate=s.first),c.iGM(s=c.CRH())&&(r.tagTemplate=s.first),c.iGM(s=c.CRH())&&(r.loadingSpinnerTemplate=s.first),c.iGM(s=c.CRH())&&(r.ngOptions=s)}},viewQuery:function(t,r){if(1&t&&(c.Gf(z8,5),c.Gf(Rne,7)),2&t){let i;c.iGM(i=c.CRH())&&(r.dropdownPanel=i.first),c.iGM(i=c.CRH())&&(r.searchInput=i.first)}},hostVars:20,hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(s){return r.handleKeyDown(s)}),2&t&&c.ekj("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-disabled",r.disabled)("ng-select-filtered",r.filtered)("ng-select-single",r.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[c._Bn([{provide:th,useExisting:(0,c.Gpc)(()=>n),multi:!0},W8]),c.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"div",0),c.NdJ("mousedown",function(o){return r.handleMousedown(o)}),c.TgZ(1,"div",1)(2,"div",2),c._uU(3),c.qZA(),c.YNc(4,Hne,2,2,"ng-container",3),c.YNc(5,$ne,1,5,null,3),c.TgZ(6,"div",4)(7,"input",5,6),c.NdJ("input",function(){c.CHM(i);const o=c.MAs(8);return r.filter(o.value)})("compositionstart",function(){return r.onCompositionStart()})("compositionend",function(){c.CHM(i);const o=c.MAs(8);return r.onCompositionEnd(o.value)})("focus",function(o){return r.onInputFocus(o)})("blur",function(o){return r.onInputBlur(o)})("change",function(o){return o.stopPropagation()}),c.qZA()()(),c.YNc(9,zne,4,1,"ng-container",3),c.YNc(10,Zne,3,1,"span",7),c.TgZ(11,"span",8),c._UZ(12,"span",9),c.qZA()(),c.YNc(13,dre,7,19,"ng-dropdown-panel",10)}2&t&&(c.ekj("ng-appearance-outline","outline"===r.appearance)("ng-has-value",r.hasValue),c.xp6(3),c.Oqu(r.placeholder),c.xp6(1),c.Q6J("ngIf",(!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0),c.xp6(1),c.Q6J("ngIf",r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0),c.xp6(1),c.uIk("aria-expanded",r.isOpen)("aria-owns",r.isOpen?r.dropdownId:null),c.xp6(1),c.Q6J("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("disabled",r.disabled)("value",r.searchTerm?r.searchTerm:""),c.uIk("id",r.labelForId)("tabindex",r.tabIndex)("aria-activedescendant",r.isOpen?null==r.itemsList||null==r.itemsList.markedItem?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null),c.xp6(2),c.Q6J("ngIf",r.loading),c.xp6(1),c.Q6J("ngIf",r.showClear()),c.xp6(3),c.Q6J("ngIf",r.isOpen))},directives:[z8,yr,Fr,mre,ld,Xo],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),n})();function Fre(){return new Nre}class Nre{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,r){if(e.selected=!0,(!e.children||!t&&r)&&this._selected.push(e),t)if(e.parent){const i=e.parent.children.length,s=e.parent.children.filter(o=>o.selected).length;e.parent.selected=i===s}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=r&&this._activeChildren(e)?[...this._selected.filter(i=>i.parent!==e),e]:[...this._selected,...e.children.filter(i=>!i.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(r=>r!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const r=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...r.filter(i=>i!==e&&!i.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(const r of e)r.disabled||(r.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}}let Rre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Z8,useValue:Fre}],imports:[[Wa]]}),n})(),_N=(()=>{class n{static isFoundOnWalking(t,r){let i=t,s=!1;do{if(i.hasOwnProperty(r)||Object.getOwnPropertyDescriptor(i,r)){s=!0;break}}while(i=Object.getPrototypeOf(i));return s}static isNumber(t){return!isNaN(parseInt(t,10))&&isFinite(t)}static getValue(t){return"function"==typeof t?t():t}filterByString(t){return t&&(t=t.toLowerCase()),r=>!t||!!r&&-1!==(""+r).toLowerCase().indexOf(t)}filterByBoolean(t){return r=>Boolean(r)===t}filterByObject(t){return r=>{for(const i in t)if("$or"!==i){if(!r||!n.isFoundOnWalking(r,i)||!this.isMatching(t[i],n.getValue(r[i])))return!1}else if(!this.filterByOr(t.$or)(n.getValue(r)))return!1;return!0}}isMatching(t,r){switch(typeof t){case"boolean":return this.filterByBoolean(t)(r);case"string":return this.filterByString(t)(r);case"object":return this.filterByObject(t)(r)}return this.filterDefault(t)(r)}filterByOr(t){return r=>{const i=t.length,u=Array.isArray(r)?h=>-1!==r.indexOf(t[h]):h=>this.isMatching(t[h],r);for(let h=0;h<i;h++)if(u(h))return!0;return!1}}filterDefault(t){return r=>void 0===t||t==r}transform(t,r){if(!t)return t;switch(typeof r){case"boolean":return t.filter(this.filterByBoolean(r));case"string":return n.isNumber(r)?t.filter(this.filterDefault(r)):t.filter(this.filterByString(r));case"object":return t.filter(this.filterByObject(r));case"function":return t.filter(r)}return t.filter(this.filterDefault(r))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"filterBy",type:n,pure:!1}),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Lre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_N]}),n})();function Bre(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"th")(2,"div",9)(3,"div",10)(4,"p",11),c._uU(5),c.qZA()()()(),c.TgZ(6,"td")(7,"p",12),c._uU(8),c.qZA()(),c.TgZ(9,"td")(10,"p",12),c._uU(11),c.qZA()(),c.TgZ(12,"td")(13,"p",12),c._uU(14),c.qZA()(),c.TgZ(15,"td")(16,"p",12),c._uU(17),c.qZA()(),c.TgZ(18,"td",13)(19,"p",14),c._uU(20),c.qZA()()()),2&n){const t=e.$implicit,r=e.index;c.xp6(5),c.Oqu(r+1),c.xp6(3),c.Oqu(t.startedDate),c.xp6(3),c.Oqu(t.endedDate),c.xp6(3),c.Oqu(t.day),c.xp6(3),c.Oqu(t.projectType),c.xp6(3),c.Oqu(t.description)}}let Ure=(()=>{class n{constructor(t,r){this.route=t,this.employeeTaskSheetService=r,this.fileName="ExcelSheet.xlsx",this.years=[],this.page=1,this.count=0,this.tableSize=3,this.tableSizes=[3,6,9,12]}ngOnInit(){this.getMonth(),this.task={month:this.month,year:(new Date).getFullYear()};for(let t=2022;t<=2040;t++)this.years.push(t);this.route.params.subscribe(t=>{this.uid=t.uid}),this.fetchData()}fetchData(){this.employeeTaskSheetService.getId().doc(this.uid).collection("task").snapshotChanges().pipe((0,Yt.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())))).subscribe(t=>{this.employeeDetails=t,console.log(t)}),this.employeeTaskSheetService.getId().doc(this.uid).valueChanges().subscribe(t=>{this.userEmail=t.email})}exportExcel(){let t=document.getElementById("table-sheet");const r=Xw.table_to_sheet(t),i=Xw.book_new();Xw.book_append_sheet(i,r,"sheet1"),AU(i,this.fileName)}getMonth(){switch((new Date).getMonth()){case 0:this.month="Jan";break;case 1:this.month="Feb";break;case 2:this.month="Mar";break;case 3:this.month="Apr";break;case 4:this.month="May";break;case 5:this.month="Jun";break;case 6:this.month="Jul";break;case 7:this.month="Aug";break;case 8:this.month="Sep";break;case 9:this.month="Oct";break;case 10:this.month="Nov";break;case 11:this.month="Dec"}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cl),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-employee-details"]],decls:30,vars:9,consts:[[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"row"],[1,"col"],["routerLink","/admin/adminEmployeeList",1,"btn","btn-primary"],[1,"btn","btn-sm",3,"click"],[2,"width","100px","float","right",3,"items","ngModel","ngModelChange"],["id","table-sheet",1,"table","align-middle","mb-0","bg-white",2,"text-align","center"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"ms-3"],[1,"text","mb-0"],[1,"text-muted","mb-0"],[2,"width","350px"],[1,"text-muted","mb-0","w-100"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h5"),c._uU(2),c.qZA()(),c.TgZ(3,"div",1)(4,"div",2)(5,"button",3),c._uU(6,"Back"),c.qZA(),c.TgZ(7,"button",4),c.NdJ("click",function(){return r.exportExcel()}),c._uU(8,"Export"),c.qZA()(),c.TgZ(9,"div",2)(10,"ng-select",5),c.NdJ("ngModelChange",function(s){return r.task.month=s}),c.qZA(),c.TgZ(11,"ng-select",5),c.NdJ("ngModelChange",function(s){return r.task.year=s}),c.qZA()()(),c.TgZ(12,"table",6)(13,"thead",7)(14,"tr")(15,"th"),c._uU(16,"S.NO"),c.qZA(),c.TgZ(17,"th"),c._uU(18,"StartedDate"),c.qZA(),c.TgZ(19,"th"),c._uU(20,"EndedDate"),c.qZA(),c.TgZ(21,"th"),c._uU(22,"Day"),c.qZA(),c.TgZ(23,"th"),c._uU(24,"projectType"),c.qZA(),c.TgZ(25,"th"),c._uU(26,"Description"),c.qZA()()(),c.TgZ(27,"tbody"),c.YNc(28,Bre,21,6,"tr",8),c.ALo(29,"filterBy"),c.qZA()()),2&t&&(c.xp6(2),c.Oqu(r.userEmail),c.xp6(8),c.Q6J("items",r.month)("ngModel",r.task.month),c.xp6(1),c.Q6J("items",r.years)("ngModel",r.task.year),c.xp6(17),c.Q6J("ngForOf",c.xi3(29,6,r.employeeDetails,r.task)))},directives:[Md,nx,nh,tC,Fr],pipes:[_N],styles:[""]}),n})(),K8=(()=>{class n{constructor(t){this.db=t,this.dbPath="admin",this.adminRef=this.db.collection(this.dbPath)}getAdminData(){return this.adminRef}updateAdminData(t,r){return this.adminRef.doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Y8{}const lg="*";function Q8(n,e){return{type:7,name:n,definitions:e,options:{}}}function D2(n,e=null){return{type:4,styles:e,timings:n}}function X8(n,e=null){return{type:2,steps:n,options:e}}function _m(n){return{type:6,styles:n,offset:null}}function k2(n,e,t){return{type:0,name:n,styles:e,options:t}}function P2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function J8(n){Promise.resolve(null).then(n)}class sC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J8(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class e5{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?J8(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,u)=>Math.max(o,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Hre=["overlay"];function jre(n,e){1&n&&c._UZ(0,"div")}function Gre(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,jre,1,0,"div",6),c.qZA()),2&n){const t=c.oxw(2);c.Tol(t.spinner.class),c.Udp("color",t.spinner.color),c.xp6(1),c.Q6J("ngForOf",t.spinner.divArray)}}function $re(n,e){if(1&n&&(c._UZ(0,"div",7),c.ALo(1,"safeHtml")),2&n){const t=c.oxw(2);c.Q6J("innerHTML",c.lcZ(1,1,t.template),c.oJD)}}function Wre(n,e){if(1&n&&(c.TgZ(0,"div",1,2),c.YNc(2,Gre,2,5,"div",3),c.YNc(3,$re,2,3,"div",4),c.TgZ(4,"div",5),c.Hsn(5),c.qZA()()),2&n){const t=c.oxw();c.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),c.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),c.xp6(2),c.Q6J("ngIf",!t.template),c.xp6(1),c.Q6J("ngIf",t.template),c.xp6(1),c.Udp("z-index",t.spinner.zIndex)}}const qre=["*"],zre={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},wN="primary";class Qv{constructor(e){Object.assign(this,e)}static create(e){return(null==(null==e?void 0:e.type)||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Qv(e)}}let Qu=(()=>{class n{constructor(){this.spinnerObservable=new Qi(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Ai(r=>r&&r.name===t))}show(t=wN,r){return new Promise((i,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Qv(Object.assign(Object.assign({},r),{show:!0}))),i(!0)):(this.spinnerObservable.next(new Qv({name:t,show:!0})),i(!0))},10)})}hide(t=wN,r=10){return new Promise((i,s)=>{setTimeout(()=>{this.spinnerObservable.next(new Qv({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zre=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xa,16))},n.\u0275pipe=c.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),Kre=(()=>{class n{constructor(t,r,i){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.disableAnimation=!1,this.spinner=new Qv,this.ngUnsubscribe=new Cr.x,this.setDefaultOptions=()=>{this.spinner=Qv.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=wN,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Yv(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;void 0!==i.currentValue&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=zre[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qu),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&c.Gf(Hre,5),2&t){let i;c.iGM(i=c.CRH())&&(r.spinnerDOM=i.first)}},hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(s){return r.handleKeyboardEvent(s)},!1,c.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[c.TTD],ngContentSelectors:qre,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,Wre,6,12,"div",0)),2&t&&c.Q6J("ngIf",r.spinner.show)},directives:[yr,Fr],pipes:[Zre],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Q8("fadeIn",[k2("in",_m({opacity:1})),P2(":enter",[_m({opacity:0}),D2(300)]),P2(":leave",D2(200,_m({opacity:0})))])]},changeDetection:0}),n})(),Yre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wa]]}),n})();function Qre(n,e){1&n&&(c.TgZ(0,"span",22),c._uU(1," The field is required "),c.qZA())}function Xre(n,e){1&n&&(c.TgZ(0,"span",22),c._uU(1," The field is required "),c.qZA())}function Jre(n,e){1&n&&(c.TgZ(0,"span",22),c._uU(1," The field is required "),c.qZA())}let eie=(()=>{class n{constructor(t,r,i,s){this.route=t,this.AdminProfileService=r,this.router=i,this.spinnerService=s}ngOnInit(){this.spinnerService.hide(),this.route.params.subscribe(t=>{this.uid=t.id}),this.AdminProfileService.getAdminData().valueChanges().subscribe(t=>{t.forEach(r=>{r.uid===this.uid&&(this.adminEditForm=new Ef({firstname:new Hr(null!=r.firstname?r.firstname:"",ua.required),lastname:new Hr(null!=r.lastname?r.lastname:""),photoURL:new Hr(null!=r.profileURL?r.profileURL:""),dob:new Hr(null!=r.dob?r.dob:""),state:new Hr(null!=r.state?r.state:""),mobile:new Hr(null!=r.mobile?r.mobile:"")}))})})}onSubmit(){this.AdminProfileService.updateAdminData(this.uid,{firstname:this.adminEditForm.value.firstname,lastname:this.adminEditForm.value.lastname,profileURL:this.adminEditForm.value.photoURL,dob:this.adminEditForm.value.dob,state:this.adminEditForm.value.state,mobile:this.adminEditForm.value.mobile}),this.onCancel()}onCancel(){this.router.navigate(["/admin/adminProfile"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cl),c.Y36(K8),c.Y36(Er),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin-profile-edit"]],decls:58,vars:6,consts:[["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","main",1,"column"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"form-floating"],["type","text","name","firstname","placeholder","firstname","formControlName","firstname",1,"form-control"],["class","help-block",4,"ngIf"],["type","text","name","lastname","placeholder","lastname","formControlName","lastname",1,"form-control"],["type","text","placeholder","photoURL","name","photoURL","formControlName","photoURL",1,"form-control"],["type","date","placeholder","dob","name","dob","formControlName","dob",1,"form-control"],["type","text","name","state","placeholder","state","formControlName","state",1,"form-control"],["type","text","placeholder","mobile","name","mobile","formControlName","mobile",1,"form-control"],["type","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"disabled"],[1,"btn","btn-default",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"],["id","closeModalButton","data-toggle","modal","data-target","#myModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"],[1,"help-block"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Edit Profile "),c.qZA(),c.TgZ(7,"form",5),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(8,"div",6)(9,"div",7)(10,"div",8),c._UZ(11,"input",9),c.TgZ(12,"label"),c._uU(13,"FirstName"),c.qZA(),c.YNc(14,Qre,2,0,"span",10),c.qZA()(),c.TgZ(15,"div",7)(16,"div",8),c._UZ(17,"input",11),c.TgZ(18,"label"),c._uU(19,"Lastname"),c.qZA(),c.YNc(20,Xre,2,0,"span",10),c.qZA()()(),c._UZ(21,"br"),c.TgZ(22,"div",8),c._UZ(23,"input",12),c.TgZ(24,"label"),c._uU(25,"photoURL"),c.qZA(),c.YNc(26,Jre,2,0,"span",10),c.qZA(),c._UZ(27,"br"),c.TgZ(28,"div",6)(29,"div",7)(30,"div",8),c._UZ(31,"input",13),c.TgZ(32,"label"),c._uU(33,"DOB"),c.qZA()()(),c.TgZ(34,"div",7)(35,"div",8),c._UZ(36,"input",14),c.TgZ(37,"label"),c._uU(38,"State"),c.qZA()()()(),c._UZ(39,"br"),c.TgZ(40,"div",8),c._UZ(41,"input",15),c.TgZ(42,"label"),c._uU(43,"Mobile"),c.qZA()(),c.TgZ(44,"button",16),c._uU(45," Save "),c.qZA(),c.TgZ(46,"button",17),c.NdJ("click",function(){return r.onCancel()}),c._uU(47,"Cancel"),c.qZA()()(),c.TgZ(48,"div"),c.O4$(),c.TgZ(49,"svg",18)(50,"title"),c._uU(51,"Path"),c.qZA(),c.TgZ(52,"desc"),c._uU(53,"Created with Sketch."),c.qZA(),c.TgZ(54,"g",19),c._UZ(55,"path",20),c.qZA()()(),c.kcU(),c.TgZ(56,"button",21),c._uU(57,"Close"),c.qZA()()()()()),2&t&&(c.xp6(7),c.Q6J("formGroup",r.adminEditForm),c.xp6(7),c.Q6J("ngIf",!r.adminEditForm.get("firstname").valid&&r.adminEditForm.get("firstname").touched),c.xp6(6),c.Q6J("ngIf",!r.adminEditForm.get("lastname").valid&&r.adminEditForm.get("lastname").touched),c.xp6(6),c.Q6J("ngIf",!r.adminEditForm.get("photoURL").valid&&r.adminEditForm.get("photoURL").touched),c.xp6(18),c.Q6J("disabled",!r.adminEditForm.valid),c.xp6(12),c.Q6J("hidden",!0))},directives:[og,sg,bf,xf,nh,ag,yr],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.sec-content[_ngcontent-%COMP%]{margin-top:85%}"]}),n})(),tie=(()=>{class n{constructor(t,r){this.adminProfileService=t,this.router=r}ngOnInit(){let t=JSON.parse(localStorage.getItem("user"));this.uid=t.uid,this.adminProfileService.getAdminData().valueChanges().subscribe(r=>{r.forEach(i=>{i.uid===this.uid&&(this.adminData=i)})})}onEdit(t){this.router.navigate(["admin/"+t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(K8),c.Y36(Er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin-profile"]],decls:72,vars:8,consts:[[1,"container",2,"margin-top","10px"],[1,"row"],[1,"col-lg-4"],[1,"card","mb-4"],[1,"card-body","text-center"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp","alt","avatar",1,"rounded-circle","img-fluid",2,"width","150px"],[1,"my-3"],[1,"text-muted","mb-1"],[1,"text-muted","mb-4"],[1,"card","mb-4","mb-lg-0"],[1,"card-body","p-0"],[1,"list-group","list-group-flush","rounded-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","p-3"],[1,"fas","fa-globe","fa-lg","text-warning"],[1,"mb-0"],[1,"fab","fa-github","fa-lg",2,"color","#333333"],[1,"fab","fa-twitter","fa-lg",2,"color","#55acee"],[1,"fab","fa-instagram","fa-lg",2,"color","#ac2bac"],[1,"fab","fa-facebook-f","fa-lg",2,"color","#3b5998"],[1,"col-lg-8"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"fa","fa-pencil"],[1,"card-body"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"text-muted","mb-0"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._UZ(5,"img",5),c.TgZ(6,"h5",6),c._uU(7),c.qZA(),c.TgZ(8,"p",7),c._uU(9,"Developer"),c.qZA(),c.TgZ(10,"p",8),c._uU(11),c.qZA()()(),c.TgZ(12,"div",9)(13,"div",10)(14,"ul",11)(15,"li",12),c._UZ(16,"i",13),c.TgZ(17,"p",14),c._uU(18,"https://mdbootstrap.com"),c.qZA()(),c.TgZ(19,"li",12),c._UZ(20,"i",15),c.TgZ(21,"p",14),c._uU(22,"mdbootstrap"),c.qZA()(),c.TgZ(23,"li",12),c._UZ(24,"i",16),c.TgZ(25,"p",14),c._uU(26,"@mdbootstrap"),c.qZA()(),c.TgZ(27,"li",12),c._UZ(28,"i",17),c.TgZ(29,"p",14),c._uU(30,"mdbootstrap"),c.qZA()(),c.TgZ(31,"li",12),c._UZ(32,"i",18),c.TgZ(33,"p",14),c._uU(34,"mdbootstrap"),c.qZA()()()()()(),c.TgZ(35,"div",19)(36,"div",3)(37,"a",20),c.NdJ("click",function(){return r.onEdit(r.adminData.uid)}),c._UZ(38,"i",21),c._uU(39," Edit profile"),c.qZA(),c.TgZ(40,"div",22)(41,"div",1)(42,"div",23)(43,"p",14),c._uU(44,"Full Name"),c.qZA()(),c.TgZ(45,"div",24)(46,"p",25),c._uU(47),c.qZA()()(),c._UZ(48,"hr"),c.TgZ(49,"div",1)(50,"div",23)(51,"p",14),c._uU(52,"Email"),c.qZA()(),c.TgZ(53,"div",24)(54,"p",25),c._uU(55),c.qZA()()(),c._UZ(56,"hr"),c.TgZ(57,"div",1)(58,"div",23)(59,"p",14),c._uU(60,"Phone"),c.qZA()(),c.TgZ(61,"div",24)(62,"p",25),c._uU(63),c.qZA()()(),c._UZ(64,"hr"),c.TgZ(65,"div",1)(66,"div",23)(67,"p",14),c._uU(68,"Address"),c.qZA()(),c.TgZ(69,"div",24)(70,"p",25),c._uU(71),c.qZA()()()()()()()()),2&t&&(c.xp6(7),c.AsE("",null!=(null==r.adminData?null:r.adminData.firstname)?r.adminData.firstname:"Admin","",null==r.adminData?null:r.adminData.lastname,""),c.xp6(4),c.Oqu(null==r.adminData?null:r.adminData.state),c.xp6(36),c.AsE("",null!=(null==r.adminData?null:r.adminData.firstname)?r.adminData.firstname:"Admin","",null==r.adminData?null:r.adminData.lastname,""),c.xp6(8),c.Oqu(null==r.adminData?null:r.adminData.email),c.xp6(8),c.Oqu(null==r.adminData?null:r.adminData.mobile),c.xp6(8),c.Oqu(null==r.adminData?null:r.adminData.state))},styles:[".gradient-custom[_ngcontent-%COMP%]{background:#f6d365;background:linear-gradient(to right bottom,#7386D5,#bac3e4)}.container[_ngcontent-%COMP%]{height:100%;margin-top:40px}"]}),n})(),vm=(()=>{class n{constructor(t,r,i,s){this.afs=t,this.afAuth=r,this.router=i,this.loadingService=s,this.afAuth.authState.subscribe(o=>{console.log(o),o?(localStorage.setItem("user",JSON.stringify(o)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}login(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{"6ad1QQTyggTGvO5g51H8NzjUS9e2"===i.user.uid?(this.setAdminData(i.user),this.router.navigate(["/admin"])):(this.router.navigate(["/user"]),this.setUserData(i.user))}).catch(i=>{sp().fire({icon:"error",title:"Oops...",text:i.message})})}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(i=>{this.setUserData(i.user)}).catch(i=>{sp().fire({icon:"error",title:"Oops...",text:i.message})})}setAdminData(t){return this.afs.doc(`admin/${t.uid}`).set({uid:t.uid,email:t.email},{merge:!0})}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent,check your box")}).catch(r=>{sp().fire({icon:"error",title:"Oops...",text:r.message})})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}setUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email},{merge:!0})}logout(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fw),c.LFG(Mw),c.LFG(Er),c.LFG(Qu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t5=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.authService=i,this.navbar=document.getElementById("navbar"),this.brand=document.getElementById("brand")}ngOnInit(){window.addEventListener("scroll",this.scroll,!0)}scroll(){document.body.scrollTop>30||document.documentElement.scrollTop>30?null!=this.navbar&&null!=this.brand&&(this.navbar.style.padding="5px 5px",this.brand.style.fontSize="24px"):null!=this.navbar&&null!=this.brand&&(this.navbar.style.padding="10px 10px",this.brand.style.fontSize="35px")}ngOnDestroy(){window.removeEventListener("scroll",this.scroll,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cl),c.Y36(Er),c.Y36(vm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[["id","navbar",1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["id","brand",1,"navbar-brand","mx-auto"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),c._uU(3,"Employee Management System"),c.qZA()()())},styles:["#navbar[_ngcontent-%COMP%]{overflow:hidden;background-color:#7386d5;padding:10px;transition:.4s;position:fixed;width:100%;top:0;left:0;z-index:100;display:inline-flex}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:12px;text-decoration:none;transition-duration:.4s}#navbar[_ngcontent-%COMP%]   #brand[_ngcontent-%COMP%]{font-size:35px}"]}),n})(),nie=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin-sidenav"]],decls:24,vars:0,consts:[[1,"wrapper"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],["routerLink","adminProfile","routerLinkActive","active"],[1,"fa","fa-user"],["routerLinkActive","active","routerLink","adminEmployeeList"],[1,"fa","fa-list"],[1,"list-unstyled","CTAs"],[1,"download",2,"color","#7386D5",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h3"),c._uU(4,"Admin"),c.qZA()(),c.TgZ(5,"ul",3)(6,"li")(7,"a",4),c._UZ(8,"i",5),c._uU(9," \xa0 Profile"),c.qZA()(),c.TgZ(10,"li")(11,"a",6),c._UZ(12,"i",7),c._uU(13," \xa0 Employee List"),c.qZA()(),c.TgZ(14,"li")(15,"a"),c._uU(16,"Status"),c.qZA()(),c.TgZ(17,"li")(18,"a"),c._uU(19,"About"),c.qZA()()(),c.TgZ(20,"ul",8)(21,"li")(22,"a",9),c.NdJ("click",function(){return r.authService.logout()}),c._uU(23,"Logout"),c.qZA()()()()())},directives:[ku,Hx],styles:["#sidebar[_ngcontent-%COMP%]{width:100%;height:520px;background:#7386D5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block;text-decoration:none;color:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}"]}),n})(),rie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin"]],decls:7,vars:0,consts:[[2,"margin-top","96px"],[1,"row"],[1,"col-md-2"],[1,"col-md-10"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2),c._UZ(4,"app-admin-sidenav"),c.qZA(),c.TgZ(5,"div",3),c._UZ(6,"router-outlet"),c.qZA()()())},directives:[t5,nie,Mc],styles:[".col-md-10[_ngcontent-%COMP%]{height:500px;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#aff5eb;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b30000}"]}),n})(),iie=(()=>{class n{constructor(t,r,i){this.authService=t,this.spinnerService=r,this.router=i}ngOnInit(){this.spinnerService.hide()}login(){this.router.navigate(["/login"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vm),c.Y36(Qu),c.Y36(Er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-forgot-password"]],decls:32,vars:1,consts:[["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel3","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","main",1,"column"],[1,"text-center"],[1,"form-floating"],["type","text","name","email","id","email","placeholder","email","required","",1,"form-control"],["passwordResetEmail",""],["for","email"],["type","submit",1,"btn","btn-primary",3,"click"],[2,"color","blue",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"],["id","closeModalButton","data-toggle","modal","data-target","#myModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form")(6,"h3"),c._uU(7,"Reset Password"),c.qZA(),c.TgZ(8,"p",5),c._uU(9,"Please enter your email address to request a password reset."),c.qZA(),c.TgZ(10,"div",6),c._UZ(11,"input",7,8),c.TgZ(13,"label",9),c._uU(14,"Email"),c.qZA()(),c.TgZ(15,"button",10),c.NdJ("click",function(){c.CHM(i);const o=c.MAs(12);return r.authService.forgotPassword(o.value)}),c._uU(16," Reset Password "),c.qZA(),c._UZ(17,"br"),c.TgZ(18,"p",5),c._uU(19,"Go back to ? "),c.TgZ(20,"a",11),c.NdJ("click",function(){return r.login()}),c._uU(21,"Log In"),c.qZA()()()(),c.TgZ(22,"div"),c.O4$(),c.TgZ(23,"svg",12)(24,"title"),c._uU(25,"Path"),c.qZA(),c.TgZ(26,"desc"),c._uU(27,"Created with Sketch."),c.qZA(),c.TgZ(28,"g",13),c._UZ(29,"path",14),c.qZA()()(),c.kcU(),c.TgZ(30,"button",15),c._uU(31,"Close"),c.qZA()()()()()}2&t&&(c.xp6(30),c.Q6J("hidden",!0))},directives:[og,sg,T2],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em;margin-top:50px}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})();function sie(n,e){1&n&&(c.TgZ(0,"span",12),c._UZ(1,"i",13),c.qZA())}function oie(n,e){1&n&&(c.TgZ(0,"span",12),c._UZ(1,"i",13),c.qZA())}let aie=(()=>{class n{constructor(t,r){this.authService=t,this.spinnerService=r}ngOnInit(){this.loginForm=new Ef({email:new Hr("",ua.required),password:new Hr("",ua.required)})}onSubmit(){this.authService.login(this.loginForm.value.email,this.loginForm.value.password)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vm),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"wrapper"],[1,"logo"],["src","../../../assets/img/5b9d82421e5f524376f22e90c17956ad.png","alt",""],[1,"text-center","mt-4","name"],[1,"p-3","mt-3",3,"formGroup","ngSubmit"],[1,"form-field","d-flex","align-items-center"],["type","text","name","userName","id","userName","placeholder","Username","formControlName","email"],["class","help-block","style","color: red;margin-right: 15px;",4,"ngIf"],["type","password","name","password","id","pwd","placeholder","Password","formControlName","password"],["type","submit",1,"btn","mt-3",2,"cursor","pointer",3,"disabled"],[1,"text-center","fs-6"],["routerLink","/forgot-password","data-toggle","modal","data-target","#exampleModal3"],[1,"help-block",2,"color","red","margin-right","15px"],[1,"fa-solid","fa-exclamation"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",3),c._uU(4," Login "),c.qZA(),c.TgZ(5,"form",4),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(6,"div",5),c._UZ(7,"input",6),c.YNc(8,sie,2,0,"span",7),c.qZA(),c.TgZ(9,"div",5),c._UZ(10,"input",8),c.YNc(11,oie,2,0,"span",7),c.qZA(),c.TgZ(12,"button",9),c._uU(13,"Login "),c.qZA()(),c.TgZ(14,"div",10)(15,"a",11),c._uU(16,"Forget password?"),c.qZA()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",r.loginForm),c.xp6(3),c.Q6J("ngIf",!r.loginForm.get("email").valid&&r.loginForm.get("email").touched),c.xp6(3),c.Q6J("ngIf",!r.loginForm.get("password").valid&&r.loginForm.get("password").touched),c.xp6(1),c.Q6J("disabled",!r.loginForm.valid))},directives:[og,sg,bf,xf,nh,ag,yr,ku],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}.wrapper[_ngcontent-%COMP%]{max-width:350px;min-height:500px;margin:80px auto;padding:40px 30px 30px;background-color:#ecf0f3;border-radius:15px;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff}.logo[_ngcontent-%COMP%]{width:80px;margin:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:50%;box-shadow:0 0 3px #5f5f5f,0 0 0 5px #ecf0f3,8px 8px 15px #a7aaa7,-8px -8px 15px #fff}.wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:1.4rem;letter-spacing:1.3px;padding-left:10px;color:#555}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;display:block;border:none;outline:none;background:none;font-size:1.2rem;color:#666;padding:10px 15px 10px 10px}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:20px;border-radius:20px;box-shadow:inset 8px 8px 8px #cbced1,inset -8px -8px 8px #fff}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#555}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none;width:100%;height:40px;background-color:#03a9f4;color:#fff;border-radius:25px;box-shadow:3px 3px 3px #b1b1b1,-3px -3px 3px #fff;letter-spacing:1.3px}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#039be5}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:.8rem;color:#03a9f4}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#039be5}@media (max-width: 380px){.wrapper[_ngcontent-%COMP%]{margin:30px 20px;padding:40px 15px 15px}}"]}),n})();const n5=["toast-component",""];function lie(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function cie(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function uie(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,cie,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function die(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function hie(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function fie(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}function pie(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function gie(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function mie(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,gie,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function _ie(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function vie(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function yie(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class wie{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class O2{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new Cr.x,this._onAction=new Cr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const r5={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},i5=new c.OlP("ToastConfig");class Eie{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Cr.x,this._activate=new Cr.x,this._manualClose=new Cr.x,this._resetTimeout=new Cr.x,this._countDuplicate=new Cr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class bie{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===O2?this._toastPackage:this._parentInjector.get(e,t,r)}}class Tie extends class xie{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Cie{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Sie=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aie=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Tie(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Cie(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sie),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const u of this.toasts){const h=o&&u.title===t;if((!o||h)&&u.message===r)return u.toastRef.onDuplicate(i,s),u}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let u=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(u=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const h=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let p=r;r&&s.enableHtml&&(p=this.sanitizer.sanitize(c.q3G.HTML,r));const _=new Eie(h),w=new O2(this.index,s,p,i,t,_),E=new bie(w,this._injector),C=new wie(s.toastComponent,E),I=h.attach(C,this.toastrConfig.newestOnTop);_.componentInstance=I.instance;const D={toastId:this.index,title:i||"",message:r||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:w.onTap(),onAction:w.onAction(),portal:I};return u||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{D.toastRef.activate()})),this.toasts.push(D),D}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(i5),c.LFG(Aie),c.LFG(c.zs3),c.LFG(xa),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iie=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xN),c.Y36(O2),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:n5,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,lie,3,0,"button",0),c.YNc(1,uie,3,5,"div",1),c.YNc(2,die,1,3,"div",2),c.YNc(3,hie,2,4,"div",3),c.YNc(4,fie,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},directives:[yr],encapsulation:2,data:{animation:[Q8("flyInOut",[k2("inactive",_m({opacity:0})),k2("active",_m({opacity:1})),k2("removed",_m({opacity:0})),P2("inactive => active",D2("{{ easeTime }}ms {{ easing }}")),P2("active => removed",D2("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Die=Object.assign(Object.assign({},r5),{toastComponent:Iie});let kie=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:i5,useValue:{default:Die,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wa]]}),n})(),Pie=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xN),c.Y36(O2),c.Y36(c.z2F))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:n5,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,pie,3,0,"button",0),c.YNc(1,mie,3,5,"div",1),c.YNc(2,_ie,1,3,"div",2),c.YNc(3,vie,2,4,"div",3),c.YNc(4,yie,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},directives:[yr],encapsulation:2}),n})();Object.assign(Object.assign({},r5),{toastComponent:Pie});let EN=(()=>{class n{constructor(t){this.toastr=t}showSuccess(t,r){this.toastr.success(t,r)}showError(t,r){this.toastr.error(t,r)}showInfo(t,r){this.toastr.info(t,r)}showWarning(t,r){this.toastr.warning(t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Oie(n,e){1&n&&(c.TgZ(0,"span",18),c._uU(1," Field is required "),c.qZA())}function Mie(n,e){1&n&&(c.TgZ(0,"span",18),c._uU(1," Field is required "),c.qZA())}let Fie=(()=>{class n{constructor(t,r,i,s){this.authService=t,this.router=r,this.notificationService=i,this.spinnerService=s}ngOnInit(){this.spinnerService.hide(),this.addEmployeeForm=new Ef({email:new Hr("",ua.required),password:new Hr("",ua.required)})}onSubmit(){this.authService.SignUp(this.addEmployeeForm.value.email,this.addEmployeeForm.value.password).catch(i=>{console.log(i)}),this.notificationService.showSuccess("Employee Added Successfully","Well Done"),this.onCancel()}onCancel(){this.router.navigate(["admin/adminEmployeeList"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vm),c.Y36(Er),c.Y36(EN),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signup"]],decls:34,vars:5,consts:[["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel2","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","main",1,"column"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["type","text","name","email","id","email","placeholder","email","formControlName","email",1,"form-control"],["for","email"],["class","help-block","style","color: red;margin-right: 15px;",4,"ngIf"],["type","password","name","password","id","pwd","placeholder","Password","formControlName","password",1,"form-control"],["for","password"],["type","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"disabled"],[1,"btn","btn-default",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"],["id","closeModalButton","data-toggle","modal","data-target","#myModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"],[1,"help-block",2,"color","red","margin-right","15px"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Add Employee"),c.qZA(),c.TgZ(7,"form",5),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(8,"div",6),c._UZ(9,"input",7),c.TgZ(10,"label",8),c._uU(11,"Email"),c.qZA(),c.YNc(12,Oie,2,0,"span",9),c.qZA(),c._UZ(13,"br"),c.TgZ(14,"div",6),c._UZ(15,"input",10),c.TgZ(16,"label",11),c._uU(17,"password"),c.qZA(),c.YNc(18,Mie,2,0,"span",9),c.qZA(),c._UZ(19,"br"),c.TgZ(20,"button",12),c._uU(21,"Login "),c.qZA(),c.TgZ(22,"button",13),c.NdJ("click",function(){return r.onCancel()}),c._uU(23,"Cancel"),c.qZA()()(),c.TgZ(24,"div"),c.O4$(),c.TgZ(25,"svg",14)(26,"title"),c._uU(27,"Path"),c.qZA(),c.TgZ(28,"desc"),c._uU(29,"Created with Sketch."),c.qZA(),c.TgZ(30,"g",15),c._UZ(31,"path",16),c.qZA()()(),c.kcU(),c.TgZ(32,"button",17),c._uU(33,"Close"),c.qZA()()()()()),2&t&&(c.xp6(7),c.Q6J("formGroup",r.addEmployeeForm),c.xp6(5),c.Q6J("ngIf",!r.addEmployeeForm.get("email").valid&&r.addEmployeeForm.get("email").touched),c.xp6(6),c.Q6J("ngIf",!r.addEmployeeForm.get("password").valid&&r.addEmployeeForm.get("password").touched),c.xp6(2),c.Q6J("disabled",!r.addEmployeeForm.valid),c.xp6(12),c.Q6J("hidden",!0))},directives:[og,sg,bf,xf,nh,ag,yr],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em;margin-top:50px}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})(),bN=(()=>{class n{constructor(t){this.db=t,this.dbpath="users",this.data=t.collection(this.dbpath)}getId(){return this.data}add(t,r){return this.data.doc(t).collection("timetracker").add(r)}updateTask(t,r,i){return this.data.doc(t).collection("timetracker").doc(r).update(i)}deleteTask(t,r){return this.data.doc(t).collection("timetracker").doc(r).delete()}getAllTimeTracker(t){return this.getId().doc(t).collection("timetracker").snapshotChanges().pipe((0,Yt.U)(r=>r.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data()))))}getCurrentTimeInTaskStartEndFormat(){let t=new Date,r=t.getDate();r=r<10?0+r:r;let i=t.getMonth()+1;i=i<10?0+i:i;let s=t.getHours();s=s<10?0+s:s;let o=t.getMinutes();o=o<10?0+o:o;let u=t.getSeconds();return u=u<10?0+u:u,t.getFullYear()+"-"+i+"-"+r+" "+s+":"+o+":"+u}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nie(n,e){1&n&&(c.TgZ(0,"span",18),c._uU(1," The field is required "),c.qZA())}function Rie(n,e){1&n&&(c.TgZ(0,"span",18),c._uU(1," The field is required "),c.qZA())}function Lie(n,e){1&n&&(c.TgZ(0,"span",18),c._uU(1," The field is required "),c.qZA())}let Bie=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.tasksheet=r,this.timetrackerService=i,this.toastr=s,this.spinnerService=o,this.upstartedDate=!1,this.projectType=["Ui","NodeJs","Backend","Testing","Angular","react"]}ngOnInit(){this.spinnerService.hide();let t=JSON.parse(localStorage.getItem("user"));console.log(t),this.uid=t.uid,this.upstartedDate=!1;let r=this.timetrackerService.getCurrentTimeInTaskStartEndFormat();this.year=(new Date).getFullYear(),this.month=this.tasksheet.getMonth(),this.day=this.tasksheet.getDay(),this.addtaskForm=new Ef({startedDate:new Hr(r,ua.required),day:new Hr(this.day,ua.required),description:new Hr("",ua.required),projectType:new Hr(this.projectName,ua.required)})}onSubmit(){this.tasksheet.add(this.uid,{startedDate:this.addtaskForm.value.startedDate,day:this.addtaskForm.value.day,description:this.addtaskForm.value.description,month:this.month,year:this.year,projectType:this.addtaskForm.value.projectType}),this.onCancel(),this.toastr.showSuccess("Successfully Added","Well Done!!!")}onCancel(){this.router.navigate(["/user/tasksheet"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Er),c.Y36(Jw),c.Y36(bN),c.Y36(EN),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-add"]],decls:42,vars:8,consts:[["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","main",1,"column"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["placeholder","Select Project Type","formControlName","projectType",3,"items","ngModel","ngModelChange"],["type","text","placeholder","startedDate","name","startedDate","formControlName","startedDate",1,"form-control"],["class","help-block",4,"ngIf"],["type","text","name","day","placeholder","day","formControlName","day",1,"form-control"],["type","text","name","description","placeholder","Description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"disabled"],[1,"btn","btn-default",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"],["id","closeModalButton","data-toggle","modal","data-target","#myModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"],[1,"help-block"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Task"),c.qZA(),c.TgZ(7,"form",5),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(8,"div",6)(9,"ng-select",7),c.NdJ("ngModelChange",function(s){return r.projectName=s}),c.qZA()(),c.TgZ(10,"div",6),c._UZ(11,"input",8),c.TgZ(12,"label"),c._uU(13,"startedDate"),c.qZA(),c.YNc(14,Nie,2,0,"span",9),c.qZA(),c._UZ(15,"br"),c.TgZ(16,"div",6),c._UZ(17,"input",10),c.TgZ(18,"label"),c._uU(19,"Day"),c.qZA(),c.YNc(20,Rie,2,0,"span",9),c.qZA(),c._UZ(21,"br"),c.TgZ(22,"div",6),c._UZ(23,"textarea",11),c.TgZ(24,"label"),c._uU(25,"Description"),c.qZA(),c.YNc(26,Lie,2,0,"span",9),c.qZA(),c._UZ(27,"br"),c.TgZ(28,"button",12),c._uU(29," Add "),c.qZA(),c.TgZ(30,"button",13),c.NdJ("click",function(){return r.onCancel()}),c._uU(31,"Cancel"),c.qZA()()(),c.TgZ(32,"div"),c.O4$(),c.TgZ(33,"svg",14)(34,"title"),c._uU(35,"Path"),c.qZA(),c.TgZ(36,"desc"),c._uU(37,"Created with Sketch."),c.qZA(),c.TgZ(38,"g",15),c._UZ(39,"path",16),c.qZA()()(),c.kcU(),c.TgZ(40,"button",17),c._uU(41,"Close "),c.qZA()()()()()),2&t&&(c.xp6(7),c.Q6J("formGroup",r.addtaskForm),c.xp6(2),c.Q6J("items",r.projectType)("ngModel",r.projectName),c.xp6(5),c.Q6J("ngIf",!r.addtaskForm.get("startedDate").valid&&r.addtaskForm.get("startedDate").touched),c.xp6(6),c.Q6J("ngIf",!r.addtaskForm.get("day").valid&&r.addtaskForm.get("day").touched),c.xp6(6),c.Q6J("ngIf",!r.addtaskForm.get("description").valid&&r.addtaskForm.get("description").touched),c.xp6(2),c.Q6J("disabled",!r.addtaskForm.valid),c.xp6(12),c.Q6J("hidden",!0))},directives:[og,sg,bf,nx,nh,ag,xf,yr],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})();function Uie(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1," The field is required "),c.qZA())}function Vie(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1," The field is required "),c.qZA())}function Hie(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1," The field is required "),c.qZA())}function jie(n,e){1&n&&(c.TgZ(0,"span",19),c._uU(1," The field is required "),c.qZA())}let Gie=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.tasksheet=r,this.route=i,this.toastr=s,this.spinnerService=o,this.update=!1,this.projectType=["Ui","NodeJs","Backend","Testing","Angular","react"]}ngOnInit(){this.spinnerService.hide();let t=JSON.parse(localStorage.getItem("user"));this.uid=t.uid,this.route.params.subscribe(r=>{this.id=r.id}),this.tasksheet.getAllTask(this.uid).subscribe(r=>{r.forEach(i=>{i.uid===this.id&&(this.task=i,console.log(this.task.projectType),this.addtaskForm=new Ef({projectType:new Hr(this.task.projectType,ua.required),startedDate:new Hr(this.task.startedDate,ua.required),endedDate:new Hr(this.task.endedDate,ua.required),day:new Hr(this.task.day,ua.required),description:new Hr(this.task.description,ua.required)}))})})}onSubmit(){this.tasksheet.updateTask(this.uid,this.id,{startedDate:this.addtaskForm.value.startedDate,endedDate:this.addtaskForm.value.endedDate,day:this.addtaskForm.value.day,description:this.addtaskForm.value.description,projectType:this.addtaskForm.value.projectType}),this.onCancel(),this.toastr.showInfo("Successfully updated","Well Done!!")}onCancel(){this.router.navigate(["/user/tasksheet"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Er),c.Y36(Jw),c.Y36(cl),c.Y36(EN),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit"]],decls:48,vars:9,consts:[["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","main",1,"column"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["formControlName","projectType",3,"items","ngModel","ngModelChange"],["type","text","placeholder","startedDate","name","startedDate","formControlName","startedDate",1,"form-control"],["class","help-block",4,"ngIf"],["type","text","placeholder","endedDate","name","endedDate","formControlName","endedDate",1,"form-control"],["type","text","name","day","placeholder","day","formControlName","day",1,"form-control"],["type","text","name","description","placeholder","Description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"disabled"],[1,"btn","btn-default",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"],["id","closeModalButton","data-toggle","modal","data-target","#myModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"],[1,"help-block"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Task"),c.qZA(),c.TgZ(7,"form",5),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(8,"div",6)(9,"ng-select",7),c.NdJ("ngModelChange",function(s){return r.task.projectType=s}),c.qZA()(),c._UZ(10,"br"),c.TgZ(11,"div",6),c._UZ(12,"input",8),c.TgZ(13,"label"),c._uU(14,"startedDate"),c.qZA(),c.YNc(15,Uie,2,0,"span",9),c.qZA(),c.TgZ(16,"div",6),c._UZ(17,"input",10),c.TgZ(18,"label"),c._uU(19,"endedDate"),c.qZA(),c.YNc(20,Vie,2,0,"span",9),c.qZA(),c._UZ(21,"br"),c.TgZ(22,"div",6),c._UZ(23,"input",11),c.TgZ(24,"label"),c._uU(25,"Day"),c.qZA(),c.YNc(26,Hie,2,0,"span",9),c.qZA(),c._UZ(27,"br"),c.TgZ(28,"div",6),c._UZ(29,"textarea",12),c.TgZ(30,"label"),c._uU(31,"Description"),c.qZA(),c.YNc(32,jie,2,0,"span",9),c.qZA(),c._UZ(33,"br"),c.TgZ(34,"button",13),c._uU(35," Update "),c.qZA(),c.TgZ(36,"button",14),c.NdJ("click",function(){return r.onCancel()}),c._uU(37,"Cancel"),c.qZA()()(),c.TgZ(38,"div"),c.O4$(),c.TgZ(39,"svg",15)(40,"title"),c._uU(41,"Path"),c.qZA(),c.TgZ(42,"desc"),c._uU(43,"Created with Sketch."),c.qZA(),c.TgZ(44,"g",16),c._UZ(45,"path",17),c.qZA()()(),c.kcU(),c.TgZ(46,"button",18),c._uU(47,"Close"),c.qZA()()()()()),2&t&&(c.xp6(7),c.Q6J("formGroup",r.addtaskForm),c.xp6(2),c.Q6J("items",r.projectType)("ngModel",r.task.projectType),c.xp6(6),c.Q6J("ngIf",!r.addtaskForm.get("startedDate").valid&&r.addtaskForm.get("startedDate").touched),c.xp6(5),c.Q6J("ngIf",!r.addtaskForm.get("endedDate").valid&&r.addtaskForm.get("endedDate").touched),c.xp6(6),c.Q6J("ngIf",!r.addtaskForm.get("day").valid&&r.addtaskForm.get("day").touched),c.xp6(6),c.Q6J("ngIf",!r.addtaskForm.get("description").valid&&r.addtaskForm.get("description").touched),c.xp6(2),c.Q6J("disabled",!r.addtaskForm.valid),c.xp6(12),c.Q6J("hidden",!0))},directives:[og,sg,bf,nx,nh,ag,xf,yr],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.sec-content[_ngcontent-%COMP%]{margin-top:85%}"]}),n})();function $ie(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"th")(2,"div",8)(3,"div",9)(4,"p",10),c._uU(5),c.qZA()()()(),c.TgZ(6,"td")(7,"p",11),c._uU(8),c.qZA()(),c.TgZ(9,"td")(10,"p",11),c._uU(11),c.qZA()(),c.TgZ(12,"td")(13,"p",11),c._uU(14),c.qZA()(),c.TgZ(15,"td",12)(16,"p",13),c._uU(17),c.qZA()(),c.TgZ(18,"td",14)(19,"button",15),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().onEditTask(s.id)}),c._UZ(20,"i",16),c.qZA(),c.TgZ(21,"button",17),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().onDelete(s.uid)}),c._UZ(22,"i",18),c.qZA()()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(5),c.Oqu(r+1),c.xp6(3),c.Oqu(t.startedDate),c.xp6(3),c.Oqu(t.day),c.xp6(3),c.Oqu(t.projectType),c.xp6(3),c.Oqu(t.description)}}let Wie=(()=>{class n{constructor(t,r){this.tasksheet=t,this.router=r,this.fileName="ExcelSheet.xlsx",this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.years=[],this.page=1,this.count=0,this.tableSize=3,this.tableSizes=[3,6,9,12]}ngOnInit(){this.month=this.tasksheet.getMonth(),this.task={month:this.month,year:(new Date).getFullYear()};for(let r=2022;r<=2040;r++)this.years.push(r);const t=JSON.parse(localStorage.getItem("user"));this.uid=t.uid,this.onFetchData()}onFetchData(){this.tasksheet.getAllTask(this.uid).subscribe(t=>{console.log(t),this.tasks=t})}onEditTask(t){this.router.navigate(["/user/tasksheet/"+t])}onDelete(t){console.log(t),this.tasksheet.deleteTask(this.uid,t)}onTableDataChange(t){this.page=t,this.onFetchData()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.onFetchData()}exportExcel(){let t=document.getElementById("table-sheet");const r=Xw.table_to_sheet(t),i=Xw.book_new();Xw.book_append_sheet(i,r,"sheet1"),AU(i,this.fileName)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jw),c.Y36(Er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tasksheet"]],decls:27,vars:8,consts:[[1,"row"],[1,"col"],["routerLink","/user/tasksheet/addTotasksheet","data-toggle","modal","data-target","#exampleModal1",1,"btn","btn-primary"],[1,"btn","btn-sm",3,"click"],[2,"width","100px","float","right",3,"items","ngModel","ngModelChange"],["id","table-sheet",1,"table","align-middle","mb-0","bg-white",2,"text-align","center"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"ms-3"],[1,"text","mb-0"],[1,"text-muted","mb-0"],[2,"width","350px"],[1,"text-muted","mb-0","w-100"],[2,"width","150px"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-outline-warning","btn-sm",2,"border-radius","100px","cursor","pointer",3,"click"],[1,"fas","fa-pencil"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"border-radius","100px",3,"click"],[1,"fas","fa-trash"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c._uU(3,"Add"),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return r.exportExcel()}),c._uU(5,"Export"),c.qZA()(),c.TgZ(6,"div",1)(7,"ng-select",4),c.NdJ("ngModelChange",function(s){return r.task.month=s}),c.qZA(),c.TgZ(8,"ng-select",4),c.NdJ("ngModelChange",function(s){return r.task.year=s}),c.qZA()()(),c.TgZ(9,"table",5)(10,"thead",6)(11,"tr")(12,"th"),c._uU(13,"S.NO"),c.qZA(),c.TgZ(14,"th"),c._uU(15,"startedDate"),c.qZA(),c.TgZ(16,"th"),c._uU(17,"Day"),c.qZA(),c.TgZ(18,"th"),c._uU(19,"projectType"),c.qZA(),c.TgZ(20,"th"),c._uU(21,"Description"),c.qZA(),c.TgZ(22,"th"),c._uU(23,"Action"),c.qZA()()(),c.TgZ(24,"tbody"),c.YNc(25,$ie,23,5,"tr",7),c.ALo(26,"filterBy"),c.qZA()()),2&t&&(c.xp6(7),c.Q6J("items",r.monthNames)("ngModel",r.task.month),c.xp6(1),c.Q6J("items",r.years)("ngModel",r.task.year),c.xp6(17),c.Q6J("ngForOf",c.xi3(26,5,r.tasks,r.task)))},directives:[Md,nx,nh,tC,Fr],pipes:[_N],styles:[""]}),n})(),qie=(()=>{class n{constructor(t,r,i,s){this.router=t,this.spinnerService=r,this.timetrackerService=i,this.tasksheetservice=s,this.projectType=["Ui","NodeJs","Backend","Testing","Angular","react"]}ngOnInit(){this.spinnerService.hide(),console.log(this.type),this.userData=JSON.parse(localStorage.getItem("user")),this.addTimeTrackerForm=new Ef({projectType:new Hr(this.type,ua.required),projectName:new Hr("",ua.required),projectDescription:new Hr("",ua.required)})}onSubmit(){console.log(this.addTimeTrackerForm.value);let t=this.addTimeTrackerForm.value.projectType,r=this.addTimeTrackerForm.value.projectName,i=this.addTimeTrackerForm.value.projectDescription,o=this.timetrackerService.getCurrentTimeInTaskStartEndFormat(),h=this.tasksheetservice.getMonth(),p=(new Date).getFullYear(),_=this.tasksheetservice.getDay();this.timetrackerService.add(this.userData.uid,{projectType:t,projectName:r,description:i,status:"progress",startedDate:o,endedDate:"",month:h,year:p,day:_}),this.onCancel()}onCancel(){this.router.navigate(["/user/timetracker"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Er),c.Y36(Qu),c.Y36(bN),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-addtimetracker"]],decls:34,vars:5,consts:[["id","addTaskModal","tabindex","-1","role","dialog","aria-labelledby","addTaskModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","closeModalButton","data-toggle","modal","data-target","#addTaskModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"],["id","main",1,"column"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["placeholder","Select Project Type","formControlName","projectType",3,"items","ngModel","ngModelChange"],["type","text","placeholder","Project Name","name","projectName","formControlName","projectName",1,"form-control"],["type","text","placeholder","Project Description","name","projectDescription","formControlName","projectDescription",1,"form-control"],["type","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"disabled"],[1,"btn","btn-default",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),c._uU(5,"X "),c.qZA(),c.TgZ(6,"div",5)(7,"h1"),c._uU(8,"Task"),c.qZA(),c.TgZ(9,"form",6),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(10,"div",7)(11,"ng-select",8),c.NdJ("ngModelChange",function(s){return r.type=s}),c.qZA()(),c.TgZ(12,"div",7),c._UZ(13,"input",9),c.TgZ(14,"label"),c._uU(15,"Project Name"),c.qZA()(),c._UZ(16,"br"),c.TgZ(17,"div",7),c._UZ(18,"input",10),c.TgZ(19,"label"),c._uU(20,"Project Description"),c.qZA()(),c._UZ(21,"br"),c.TgZ(22,"button",11),c._uU(23," Add Project "),c.qZA(),c.TgZ(24,"button",12),c.NdJ("click",function(){return r.onCancel()}),c._uU(25,"Cancel"),c.qZA()()(),c.TgZ(26,"div"),c.O4$(),c.TgZ(27,"svg",13)(28,"title"),c._uU(29,"Path"),c.qZA(),c.TgZ(30,"desc"),c._uU(31,"Created with Sketch."),c.qZA(),c.TgZ(32,"g",14),c._UZ(33,"path",15),c.qZA()()()()()()()),2&t&&(c.xp6(4),c.Q6J("hidden",!0),c.xp6(5),c.Q6J("formGroup",r.addTimeTrackerForm),c.xp6(2),c.Q6J("items",r.projectType)("ngModel",r.type),c.xp6(11),c.Q6J("disabled",!r.addTimeTrackerForm.valid))},directives:[og,sg,bf,nx,nh,ag,xf],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})();function zie(n,e){if(1&n&&(c.TgZ(0,"td")(1,"p",6),c._uU(2),c._UZ(3,"br"),c.TgZ(4,"span"),c._uU(5,"to"),c.qZA(),c._UZ(6,"br"),c._uU(7),c.qZA()()),2&n){const t=c.oxw().$implicit;c.xp6(2),c.hij(" ",t.startedDate," "),c.xp6(5),c.hij(" ",t.endedDate," ")}}function Zie(n,e){if(1&n&&(c.TgZ(0,"td")(1,"p",6),c._uU(2),c.qZA()()),2&n){const t=c.oxw().$implicit;c.xp6(2),c.hij(" ",t.startedDate," ")}}function Kie(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td")(2,"p",6),c._uU(3),c.qZA()(),c.TgZ(4,"td")(5,"p",6),c._uU(6),c.qZA()(),c.TgZ(7,"td")(8,"p",6),c._uU(9),c.qZA()(),c.YNc(10,zie,8,2,"td",7),c.YNc(11,Zie,3,1,"td",7),c.TgZ(12,"td")(13,"button",8),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().delete(s.id)}),c._UZ(14,"i",9),c.qZA(),c._UZ(15,"br"),c.TgZ(16,"button",10),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().add(s)}),c._UZ(17,"i",11),c.qZA()(),c.TgZ(18,"td",12)(19,"ng-select",13),c.NdJ("ngModelChange",function(i){return c.CHM(t).$implicit.status=i})("change",function(i){const o=c.CHM(t).$implicit;return c.oxw().onChangeStatus(i,o.id)}),c.qZA()()()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(3),c.Oqu(t.projectName),c.xp6(3),c.Oqu(t.description),c.xp6(3),c.Oqu(t.status),c.xp6(1),c.Q6J("ngIf","complete"==t.status),c.xp6(1),c.Q6J("ngIf","complete"!=t.status),c.xp6(8),c.Q6J("items",r.projectStatus)("ngModel",t.status)}}let Yie=(()=>{class n{constructor(t,r){this.timetrackerService=t,this.tasksheetservice=r,this.projectStatus=["complete","progress"]}ngOnInit(){const t=JSON.parse(localStorage.getItem("user"));this.uid=t.uid,this.timetrackerService.getAllTimeTracker(this.uid).subscribe(r=>{this.projects=r})}onChangeStatus(t,r){if(console.log(t),"complete"===t){let i=this.timetrackerService.getCurrentTimeInTaskStartEndFormat();this.timetrackerService.updateTask(this.uid,r,{status:t,endedDate:i})}else this.timetrackerService.updateTask(this.uid,r,{status:t})}delete(t){console.log(t),this.timetrackerService.deleteTask(this.uid,t)}add(t){this.tasksheetservice.add(this.uid,t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bN),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-timetracker"]],decls:22,vars:1,consts:[[1,"row"],[1,"col"],["type","button","routerLink","addTimeTracker","data-toggle","modal","data-target","#addTaskModal",1,"btn","btn-primary"],["id","table-sheet",1,"table","align-middle","mb-0","bg-white",2,"text-align","center"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"text-muted","mb-0"],[4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",2,"border-radius","100px",3,"click"],[1,"fas","fa-trash"],[1,"btn","btn-sm",2,"border-radius","100px",3,"click"],[1,"fas","fa-share"],[2,"width","150px"],["placeholder","change status",3,"items","ngModel","ngModelChange","change"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c._uU(3,"Add Task"),c.qZA()(),c._UZ(4,"div",1),c.qZA(),c.TgZ(5,"table",3)(6,"thead",4)(7,"tr")(8,"th"),c._uU(9,"Project Name"),c.qZA(),c.TgZ(10,"th"),c._uU(11,"Project Description"),c.qZA(),c.TgZ(12,"th"),c._uU(13,"status"),c.qZA(),c.TgZ(14,"th"),c._uU(15,"Date"),c.qZA(),c.TgZ(16,"th"),c._uU(17,"Action"),c.qZA(),c.TgZ(18,"th"),c._uU(19,"Change Status"),c.qZA()()(),c.TgZ(20,"tbody"),c.YNc(21,Kie,20,7,"tr",5),c.qZA()()),2&t&&(c.xp6(21),c.Q6J("ngForOf",r.projects))},directives:[Md,Fr,yr,nx,nh,tC],styles:[""]}),n})(),Qie=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-userlist"]],decls:26,vars:0,consts:[[1,"wrapper"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],["routerLink","userprofile","routerLinkActive","active"],[1,"fa","fa-user"],["routerLinkActive","active","routerLink","tasksheet"],[1,"fa","fa-list"],["routerLink","timetracker","routerLinkActive","active"],[1,"fa-solid","fa-clock"],[1,"fa-solid","fa-info-circle"],[1,"list-unstyled","CTAs"],[1,"download",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h3"),c._uU(4,"Menu"),c.qZA()(),c.TgZ(5,"ul",3)(6,"li")(7,"a",4),c._UZ(8,"i",5),c._uU(9," \xa0 Profile"),c.qZA()(),c.TgZ(10,"li")(11,"a",6),c._UZ(12,"i",7),c._uU(13," \xa0 Task Sheet"),c.qZA()(),c.TgZ(14,"li")(15,"a",8),c._UZ(16,"i",9),c._uU(17," \xa0 Time Tracker"),c.qZA()(),c.TgZ(18,"li")(19,"a"),c._UZ(20,"i",10),c._uU(21," \xa0 About"),c.qZA()()(),c.TgZ(22,"ul",11)(23,"li")(24,"a",12),c.NdJ("click",function(){return r.authService.logout()}),c._uU(25,"Logout"),c.qZA()()()()())},directives:[ku,Hx],styles:["p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.1em;font-weight:300;line-height:1.7em;color:#999}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px #0000001a}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:stretch;width:100%}#sidebar[_ngcontent-%COMP%]{width:100%;height:520px;background:#7386D5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}"]}),n})(),Xie=(()=>{class n{constructor(t){this.userData=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user"]],decls:6,vars:0,consts:[[1,"row",2,"margin-top","96px"],[1,"col-md-2"],[1,"col-md-10"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0)(2,"div",1),c._UZ(3,"app-userlist"),c.qZA(),c.TgZ(4,"div",2),c._UZ(5,"router-outlet"),c.qZA()())},directives:[t5,Qie,Mc],styles:[".col-md-10[_ngcontent-%COMP%]{height:500px}"]}),n})();function Jie(n,e){1&n&&(c.TgZ(0,"span",22),c._uU(1," The field is required "),c.qZA())}function ese(n,e){1&n&&(c.TgZ(0,"span",22),c._uU(1," The field is required "),c.qZA())}function tse(n,e){1&n&&(c.TgZ(0,"span",22),c._uU(1," The field is required "),c.qZA())}let nse=(()=>{class n{constructor(t,r,i,s){this.route=t,this.userService=r,this.router=i,this.spinnerService=s,this.isEdit=!1}ngOnInit(){this.spinnerService.hide(),this.route.params.subscribe(t=>{this.id=t.id}),this.userService.users.subscribe(t=>{t.forEach(r=>{r.uid===this.id&&(this.userEditForm=new Ef({firstname:new Hr(null!=r.firstname?r.firstname:""),lastname:new Hr(null!=r.lastname?r.lastname:""),photoURL:new Hr(null!=r.profileURL?r.profileURL:""),dob:new Hr(null!=r.dob?r.dob:""),state:new Hr(null!=r.state?r.state:""),mobile:new Hr(null!=r.mobile?r.mobile:"")}))})})}onSubmit(){console.log(this.userEditForm.value),this.userService.updateUserData(this.id,{firstname:this.userEditForm.value.firstname,lastname:this.userEditForm.value.lastname,profileURL:this.userEditForm.value.photoURL,dob:this.userEditForm.value.dob,state:this.userEditForm.value.state,mobile:this.userEditForm.value.mobile}),this.onCancel()}onCancel(){this.router.navigate(["user/userprofile"]),document.getElementById("closeModalButton").click(),this.spinnerService.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cl),c.Y36(mT),c.Y36(Er),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-edit"]],decls:58,vars:6,consts:[["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","main",1,"column"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"form-floating"],["type","text","name","firstname","placeholder","firstname","formControlName","firstname",1,"form-control"],["class","help-block",4,"ngIf"],["type","text","name","lastname","placeholder","lastname","formControlName","lastname",1,"form-control"],["type","text","placeholder","photoURL","name","photoURL","formControlName","photoURL",1,"form-control"],["type","date","placeholder","dob","name","dob","formControlName","dob",1,"form-control"],["type","text","name","state","placeholder","state","formControlName","state",1,"form-control"],["type","number","placeholder","mobile","name","mobile","formControlName","mobile",1,"form-control"],["type","submit",1,"btn","btn-primary",2,"cursor","pointer",3,"disabled"],[1,"btn","btn-default",3,"click"],["width","67px","height","578px","viewBox","0 0 67 578","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M11.3847656,-5.68434189e-14 C-7.44726562,36.7213542 5.14322917,126.757812 49.15625,270.109375 C70.9827986,341.199016 54.8877465,443.829224 0.87109375,578 L67,578 L67,-5.68434189e-14 L11.3847656,-5.68434189e-14 Z","id","Path","fill","#7386D5"],["id","closeModalButton","data-toggle","modal","data-target","#myModal","data-dismiss","modal",1,"btn","btn-default",3,"hidden"],[1,"help-block"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Edit Profile "),c.qZA(),c.TgZ(7,"form",5),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(8,"div",6)(9,"div",7)(10,"div",8),c._UZ(11,"input",9),c.TgZ(12,"label"),c._uU(13,"FirstName*"),c.qZA(),c.YNc(14,Jie,2,0,"span",10),c.qZA()(),c.TgZ(15,"div",7)(16,"div",8),c._UZ(17,"input",11),c.TgZ(18,"label"),c._uU(19,"Lastname"),c.qZA(),c.YNc(20,ese,2,0,"span",10),c.qZA()()(),c._UZ(21,"br"),c.TgZ(22,"div",8),c._UZ(23,"input",12),c.TgZ(24,"label"),c._uU(25,"photoURL"),c.qZA(),c.YNc(26,tse,2,0,"span",10),c.qZA(),c._UZ(27,"br"),c.TgZ(28,"div",6)(29,"div",7)(30,"div",8),c._UZ(31,"input",13),c.TgZ(32,"label"),c._uU(33,"DOB"),c.qZA()()(),c.TgZ(34,"div",7)(35,"div",8),c._UZ(36,"input",14),c.TgZ(37,"label"),c._uU(38,"State"),c.qZA()()()(),c._UZ(39,"br"),c.TgZ(40,"div",8),c._UZ(41,"input",15),c.TgZ(42,"label"),c._uU(43,"Mobile"),c.qZA()(),c.TgZ(44,"button",16),c._uU(45," Save "),c.qZA(),c.TgZ(46,"button",17),c.NdJ("click",function(){return r.onCancel()}),c._uU(47,"Cancel"),c.qZA()()(),c.TgZ(48,"div"),c.O4$(),c.TgZ(49,"svg",18)(50,"title"),c._uU(51,"Path"),c.qZA(),c.TgZ(52,"desc"),c._uU(53,"Created with Sketch."),c.qZA(),c.TgZ(54,"g",19),c._UZ(55,"path",20),c.qZA()()(),c.kcU(),c.TgZ(56,"button",21),c._uU(57,"Close"),c.qZA()()()()()),2&t&&(c.xp6(7),c.Q6J("formGroup",r.userEditForm),c.xp6(7),c.Q6J("ngIf",!r.userEditForm.get("firstname").valid&&r.userEditForm.get("firstname").touched),c.xp6(6),c.Q6J("ngIf",!r.userEditForm.get("lastname").valid&&r.userEditForm.get("lastname").touched),c.xp6(6),c.Q6J("ngIf",!r.userEditForm.get("photoURL").valid&&r.userEditForm.get("photoURL").touched),c.xp6(18),c.Q6J("disabled",!r.userEditForm.valid),c.xp6(12),c.Q6J("hidden",!0))},directives:[og,sg,bf,xf,nh,ag,yr,cN],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;padding:0;border-radius:4rem;font-family:PT Sans,sans-serif}.modal-content[_ngcontent-%COMP%]{border-radius:4rem;width:100%;box-shadow:-1px -2px 42px -19px #000000bd}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.3em;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8em;letter-spacing:2px}form[_ngcontent-%COMP%]{font-size:.8em}.column[_ngcontent-%COMP%]{flex:25%;padding:10px}.column#main[_ngcontent-%COMP%]{flex:75%;margin-top:50px}#main[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.9em}.btn[_ngcontent-%COMP%]{text-transform:uppercase;border-radius:.15rem;width:200px;font-family:PT Sans,sans-serif;letter-spacing:2px}.btn-primary[_ngcontent-%COMP%]{border-color:#fff0;background:#7386D5;background:linear-gradient(to right,#7386D5 0%,#cdd4f0 99%)}.btn-primary[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%}.btn-default[_ngcontent-%COMP%]{color:#fff;border-color:#fff0;background:#7386D5;background:linear-gradient(to left,#7386D5 0%,#cdd4f0 99%)}.btn-default[_ngcontent-%COMP%]:hover{border-color:#fff0}#main[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})();var rse=K(3561);const s5=new c.OlP("gravatarCustom.config");var M2=(()=>(function(n){n.blank="blank",n.identicon="identicon",n.mm="mm",n.mp="mp",n.monsterid="monsterid",n.retro="retro",n.robohash="robohash",n.wavatar="wavatar"}(M2||(M2={})),M2))(),F2=(()=>(function(n){n.g="g",n.pg="pg",n.r="r",n.x="x"}(F2||(F2={})),F2))();const ise={fallback:M2.retro,size:40,cornerRadius:0,preferGravatar:!1,hasBorder:!1,borderColor:"#000000",borderRadius:"50%",borderStyle:"solid",borderWidth:1,round:!0,backgroundColor:"transparent",rating:F2.g,ratio:2};let sse=(()=>{class n{constructor(t){this.gravatarConfig=t,this.defaultConfig=Object.assign({},ise),this.gravatarConfig&&(this.defaultConfig=Object.assign(Object.assign({},this.defaultConfig),this.gravatarConfig))}getDefaultConfig(){return this.defaultConfig}generateGravatarUrl(t,r,i=this.defaultConfig.size,s=this.defaultConfig.rating,o=this.defaultConfig.fallback){let u;if(r)u=r;else{try{t=t.trim().toLowerCase()}catch(h){console.error(`[ngx-gravatar] - Email (${t}) is not a string. Empty string is used as a default email.`),t=""}u=rse.V.hashStr(t)}return`https://www.gravatar.com/avatar/${u}?s=${i}&r=${s}&d=${o}`}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(s5,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ose=(()=>{class n{constructor(t,r,i){this.elementRef=t,this.renderer=r,this.gravatarService=i,this.style={},this.initialized=!1,this.defaultConfig=this.gravatarService.getDefaultConfig(),this.renderer.listen(this.elementRef.nativeElement,"error",s=>{this.isGravatarUsed||this.initializeAvatar(!0)})}ngOnInit(){this.initializeAvatar(),this.initialized=!0,this.isGravatarUsed=!1}ngOnChanges(){this.initialized&&this.initializeAvatar()}setDefaultValues(){this.size=this.computeSize(),this.ratio=void 0===this.ratio?this.defaultConfig.ratio:this.ratio,this.requestedSize=this.size*this.ratio,this.round=void 0===this.round?this.defaultConfig.round:this.round,this.cornerRadius=void 0===this.cornerRadius?this.defaultConfig.cornerRadius:this.cornerRadius,this.preferGravatar=void 0===this.preferGravatar?this.defaultConfig.preferGravatar:this.preferGravatar}initializeAvatar(t){this.setDefaultValues();let r="";this.preferGravatar||t?(r=this.gravatarService.generateGravatarUrl(this.email,this.md5Hash,this.requestedSize,this.rating,this.fallback),this.isGravatarUsed=!0):this.src?r=this.src:(r=this.gravatarService.generateGravatarUrl(this.email,this.md5Hash,this.requestedSize,this.rating,this.fallback),this.isGravatarUsed=!0),this.renderer.setProperty(this.elementRef.nativeElement,"src",r),this.setStyle(this.avatarStyle())}computeSize(){let t=void 0===this.size?this.defaultConfig.size:this.size;if(this.style&&this.style.width)try{const r=this.style.width.trim();r.match(/^\d+px$/)&&(t=r.replace("px",""))}catch(r){return t}return t}avatarStyle(){return Object.assign(Object.assign({},{width:this.size+"px",height:this.size+"px",borderRadius:this.round?this.defaultConfig.borderRadius:this.cornerRadius+"px",borderStyle:this.defaultConfig.hasBorder||this.borderColor||this.borderWidth?this.defaultConfig.borderStyle:"none",borderColor:this.borderColor?this.borderColor:this.defaultConfig.borderColor,borderWidth:this.borderWidth?this.borderWidth+"px":this.defaultConfig.borderWidth+"px",backgroundColor:this.backgroundColor?this.backgroundColor:this.defaultConfig.backgroundColor}),this.style)}setStyle(t){Object.keys(t).forEach(r=>{this.renderer.setStyle(this.elementRef.nativeElement,r,t[r])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(sse))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-gravatar",""],["","ngxGravatar",""]],inputs:{src:"src",email:"email",md5Hash:"md5Hash",size:"size",fallback:"fallback",rating:"rating",round:"round",cornerRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"borderWidth",style:"style",preferGravatar:"preferGravatar",backgroundColor:"backgroundColor",ratio:"ratio"},features:[c.TTD]}),n})(),ase=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:s5,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),lse=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.spinnerService=i}ngOnInit(){const t=JSON.parse(localStorage.getItem("user"));console.log(t),this.userService.users.subscribe(r=>{r.forEach(i=>{t.uid===i.uid&&(this.users=i)})})}onEdit(t){this.router.navigate(["user/userprofile/"+t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mT),c.Y36(Er),c.Y36(Qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-userprofile"]],decls:128,vars:8,consts:[[1,"container",2,"margin-top","10px"],[1,"row"],[1,"col-lg-4"],[1,"card","mb-4"],[1,"card-body","text-center"],["ngxGravatar","","src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp","alt","avatar",1,"rounded-circle","img-fluid",2,"width","150px"],[1,"my-3"],[1,"text-muted","mb-1"],[1,"text-muted","mb-4"],[1,"card","mb-4","mb-lg-0"],[1,"card-body","p-0"],[1,"list-group","list-group-flush","rounded-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","p-3"],[1,"fas","fa-globe","fa-lg","text-warning"],[1,"mb-0"],[1,"fab","fa-github","fa-lg",2,"color","#333333"],[1,"fab","fa-twitter","fa-lg",2,"color","#55acee"],[1,"fab","fa-instagram","fa-lg",2,"color","#ac2bac"],[1,"fab","fa-facebook-f","fa-lg",2,"color","#3b5998"],[1,"col-lg-8"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",2,"float","right",3,"click"],[1,"fa","fa-pencil"],[1,"card-body"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"text-muted","mb-0"],[1,"col-md-6"],[1,"card","mb-4","mb-md-0"],[1,"mb-4"],[1,"text-primary","font-italic","me-1"],[1,"mb-1",2,"font-size",".77rem"],[1,"progress","rounded",2,"height","5px"],["role","progressbar","aria-valuenow","80","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","80%"],[1,"mt-4","mb-1",2,"font-size",".77rem"],["role","progressbar","aria-valuenow","72","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","72%"],["role","progressbar","aria-valuenow","89","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","89%"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","55%"],[1,"progress","rounded","mb-2",2,"height","5px"],["role","progressbar","aria-valuenow","66","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","66%"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._UZ(5,"img",5),c.TgZ(6,"h5",6),c._uU(7),c.qZA(),c.TgZ(8,"p",7),c._uU(9,"Developer"),c.qZA(),c.TgZ(10,"p",8),c._uU(11),c.qZA()()(),c.TgZ(12,"div",9)(13,"div",10)(14,"ul",11)(15,"li",12),c._UZ(16,"i",13),c.TgZ(17,"p",14),c._uU(18,"https://mdbootstrap.com"),c.qZA()(),c.TgZ(19,"li",12),c._UZ(20,"i",15),c.TgZ(21,"p",14),c._uU(22,"mdbootstrap"),c.qZA()(),c.TgZ(23,"li",12),c._UZ(24,"i",16),c.TgZ(25,"p",14),c._uU(26,"@mdbootstrap"),c.qZA()(),c.TgZ(27,"li",12),c._UZ(28,"i",17),c.TgZ(29,"p",14),c._uU(30,"mdbootstrap"),c.qZA()(),c.TgZ(31,"li",12),c._UZ(32,"i",18),c.TgZ(33,"p",14),c._uU(34,"mdbootstrap"),c.qZA()()()()()(),c.TgZ(35,"div",19)(36,"div",3)(37,"a",20),c.NdJ("click",function(){return r.onEdit(r.users.uid)}),c._UZ(38,"i",21),c._uU(39," Edit profile"),c.qZA(),c.TgZ(40,"div",22)(41,"div",1)(42,"div",23)(43,"p",14),c._uU(44,"Full Name"),c.qZA()(),c.TgZ(45,"div",24)(46,"p",25),c._uU(47),c.qZA()()(),c._UZ(48,"hr"),c.TgZ(49,"div",1)(50,"div",23)(51,"p",14),c._uU(52,"Email"),c.qZA()(),c.TgZ(53,"div",24)(54,"p",25),c._uU(55),c.qZA()()(),c._UZ(56,"hr"),c.TgZ(57,"div",1)(58,"div",23)(59,"p",14),c._uU(60,"Phone"),c.qZA()(),c.TgZ(61,"div",24)(62,"p",25),c._uU(63),c.qZA()()(),c._UZ(64,"hr"),c.TgZ(65,"div",1)(66,"div",23)(67,"p",14),c._uU(68,"Address"),c.qZA()(),c.TgZ(69,"div",24)(70,"p",25),c._uU(71),c.qZA()()()()(),c.TgZ(72,"div",1)(73,"div",26)(74,"div",27)(75,"div",22)(76,"p",28)(77,"span",29),c._uU(78,"assigment"),c.qZA(),c._uU(79," Project Status "),c.qZA(),c.TgZ(80,"p",30),c._uU(81,"Web Design"),c.qZA(),c.TgZ(82,"div",31),c._UZ(83,"div",32),c.qZA(),c.TgZ(84,"p",33),c._uU(85,"Website Markup"),c.qZA(),c.TgZ(86,"div",31),c._UZ(87,"div",34),c.qZA(),c.TgZ(88,"p",33),c._uU(89,"One Page"),c.qZA(),c.TgZ(90,"div",31),c._UZ(91,"div",35),c.qZA(),c.TgZ(92,"p",33),c._uU(93,"Mobile Template"),c.qZA(),c.TgZ(94,"div",31),c._UZ(95,"div",36),c.qZA(),c.TgZ(96,"p",33),c._uU(97,"Backend API"),c.qZA(),c.TgZ(98,"div",37),c._UZ(99,"div",38),c.qZA()()()(),c.TgZ(100,"div",26)(101,"div",27)(102,"div",22)(103,"p",28)(104,"span",29),c._uU(105,"assigment"),c.qZA(),c._uU(106," Project Status "),c.qZA(),c.TgZ(107,"p",30),c._uU(108,"Web Design"),c.qZA(),c.TgZ(109,"div",31),c._UZ(110,"div",32),c.qZA(),c.TgZ(111,"p",33),c._uU(112,"Website Markup"),c.qZA(),c.TgZ(113,"div",31),c._UZ(114,"div",34),c.qZA(),c.TgZ(115,"p",33),c._uU(116,"One Page"),c.qZA(),c.TgZ(117,"div",31),c._UZ(118,"div",35),c.qZA(),c.TgZ(119,"p",33),c._uU(120,"Mobile Template"),c.qZA(),c.TgZ(121,"div",31),c._UZ(122,"div",36),c.qZA(),c.TgZ(123,"p",33),c._uU(124,"Backend API"),c.qZA(),c.TgZ(125,"div",37),c._UZ(126,"div",38),c.qZA()()()()()()()(),c._UZ(127,"router-outlet")),2&t&&(c.xp6(7),c.AsE("",null!=(null==r.users?null:r.users.firstname)?r.users.firstname:"User","",null==r.users?null:r.users.lastname,""),c.xp6(4),c.Oqu(null==r.users?null:r.users.state),c.xp6(36),c.AsE("",null!=(null==r.users?null:r.users.firstname)?r.users.firstname:"User","",null==r.users?null:r.users.lastname,""),c.xp6(8),c.Oqu(null==r.users?null:r.users.email),c.xp6(8),c.Oqu(null==r.users?null:r.users.mobile),c.xp6(8),c.Oqu(null==r.users?null:r.users.state))},directives:[ose,Mc],styles:[""]}),n})(),o5=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vm),c.LFG(Er))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cse=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:aie},{path:"forgot-password",component:iie},{path:"addEmployee",component:Fie},{path:"admin",component:rie,canActivate:[o5],children:[{path:"",redirectTo:"adminEmployeeList",pathMatch:"full"},{path:"adminEmployeeList",component:mG},{path:"adminEmployeeList/:uid",component:Ure},{path:"adminProfile",component:tie},{path:":id",component:eie}]},{path:"user",component:Xie,canActivate:[o5],children:[{path:"",redirectTo:"tasksheet",pathMatch:"full"},{path:"userprofile",component:lse,children:[{path:":id",component:nse}]},{path:"tasksheet",component:Wie},{path:"tasksheet/addTotasksheet",component:Bie},{path:"tasksheet/:id",component:Gie},{path:"timetracker",component:Yie},{path:"timetracker/addTimeTracker",component:qie}]}];let use=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[XC.forRoot(cse)],XC]}),n})();const a5="@firebase/database";let TN="";function c5(n){TN=n}class fse{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Z.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,Z.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class pse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,Z.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const u5=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fse(e)}}catch(e){}return new pse},Xv=u5("localStorage"),CN=u5("sessionStorage"),rx=new Nc.Yd("@firebase/database"),d5=function(){let n=1;return function(){return n++}}(),h5=function(n){const e=(0,Z.dS)(n),t=new Z.gQ;t.update(e);const r=t.digest();return Z.US.encodeByteArray(r)},oC=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=oC.apply(null,r):e+="object"==typeof r?(0,Z.Pz)(r):r,e+=" "}return e};let Jv=null,f5=!0;const p5=function(n,e){(0,Z.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(rx.logLevel=Nc.in.VERBOSE,Jv=rx.log.bind(rx),e&&CN.set("logging_enabled",!0)):"function"==typeof n?Jv=n:(Jv=null,CN.remove("logging_enabled"))},Zo=function(...n){if(!0===f5&&(f5=!1,null===Jv&&!0===CN.get("logging_enabled")&&p5(!0)),Jv){const e=oC.apply(null,n);Jv(e)}},aC=function(n){return function(...e){Zo(n,...e)}},SN=function(...n){const e="FIREBASE INTERNAL ERROR: "+oC(...n);rx.error(e)},Tf=function(...n){const e=`FIREBASE FATAL ERROR: ${oC(...n)}`;throw rx.error(e),new Error(e)},Ua=function(...n){const e="FIREBASE WARNING: "+oC(...n);rx.warn(e)},N2=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},cg="[MIN_NAME]",Cf="[MAX_NAME]",ey=function(n,e){if(n===e)return 0;if(n===cg||e===Cf)return-1;if(e===cg||n===Cf)return 1;{const t=R2(n),r=R2(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},_se=function(n,e){return n===e?0:n<e?-1:1},lC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,Z.Pz)(e))},AN=function(n){if("object"!=typeof n||null===n)return(0,Z.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,Z.Pz)(e[r]),t+=":",t+=AN(n[e[r]]);return t+="}",t},g5=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Ko(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const m5=function(n){(0,Z.hu)(!N2(n),"Invalid JSON number");const r=1023;let i,s,o,u,h;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=u+r,o=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(i?1:0),p.reverse();const _=p.join("");let w="";for(h=0;h<64;h+=8){let E=parseInt(_.substr(h,8),2).toString(16);1===E.length&&(E="0"+E),w+=E}return w.toLowerCase()},xse=new RegExp("^-?(0*)\\d{1,10}$"),_5=-2147483648,IN=2147483647,R2=function(n){if(xse.test(n)){const e=Number(n);if(e>=_5&&e<=IN)return e}return null},ix=function(n){try{n()}catch(e){setTimeout(()=>{throw Ua("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},cC=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class bse{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ua(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tse{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Zo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ua(e)}}let uC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const E5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,C5="websocket",S5="long_polling";class kN{constructor(e,t,r,i,s=!1,o="",u=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function A5(n,e,t){let r;if((0,Z.hu)("string"==typeof e,"typeof type must == string"),(0,Z.hu)("object"==typeof t,"typeof params must == object"),e===C5)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==S5)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Cse(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Ko(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Sse{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,Z.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,Z.p$)(this.counters_)}}const PN={},ON={};function MN(n){const e=n.toString();return PN[e]||(PN[e]=new Sse),PN[e]}class Ise{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ix(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ym{constructor(e,t,r,i,s,o,u){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aC(e),this.stats_=MN(t),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),A5(t,S5,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ise(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Z.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FN((...s)=>{const[o,u,h,p,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=u,this.password=h;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&E5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ym.forceAllow_=!0}static forceDisallow(){ym.forceDisallow_=!0}static isAvailable(){return!((0,Z.Yr)()||!ym.forceAllow_&&(ym.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,Z.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,Z.h$)(t),i=g5(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,Z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,Z.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class FN{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Z.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=d5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=FN.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){Zo("frame writing exception"),u.stack&&Zo(u.stack),Zo(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zo("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,Z.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Zo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let B2=null;"undefined"!=typeof MozWebSocket?B2=MozWebSocket:"undefined"!=typeof WebSocket&&(B2=WebSocket);let sx=(()=>{class n{constructor(t,r,i,s,o,u,h){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aC(this.connId),this.stats_=MN(r),this.connURL=n.connectionURL_(r,u,h,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const u={v:"5"};return!(0,Z.Yr)()&&"undefined"!=typeof location&&location.hostname&&E5.test(location.hostname)&&(u.r="f"),r&&(u.s=r),i&&(u.ls=i),s&&(u.ac=s),o&&(u.p=o),A5(t,C5,u)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xv.set("previous_websocket_failure",!0);try{let i;if((0,Z.Yr)()){const o={headers:{"User-Agent":`Firebase/5/${TN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(o.proxy={origin:h})}this.mySock=new B2(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==B2&&!n.forceDisallow_}static previouslyFailed(){return Xv.isInMemoryStorage||!0===Xv.get("previous_websocket_failure")}markConnectionHealthy(){Xv.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,Z.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,Z.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,Z.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=g5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),F5=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ym,sx]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=sx&&sx.isAvailable();let i=r&&!sx.previouslyFailed();if(t.webSocketOnly&&(r||Ua("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sx];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class H5{constructor(e,t,r,i,s,o,u,h,p,_){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aC("c:"+this.id+":"),this.transportManager_=new F5(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=cC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=lC("t",e),r=lC("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=lC("t",e),r=lC("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=lC("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?SN("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ua("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),cC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class j5{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class G5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Z.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,Z.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class U2 extends G5{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new U2}getInitialEvent(e){return(0,Z.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class jr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Or(){return new jr("")}function rr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function wm(n){return n.pieces_.length-n.pieceNum_}function hi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new jr(n.pieces_,e)}function RN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function dC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function q5(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new jr(e,0)}function $i(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof jr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new jr(t,0)}function ir(n){return n.pieceNum_>=n.pieces_.length}function Tl(n,e){const t=rr(n),r=rr(e);if(null===t)return e;if(t===r)return Tl(hi(n),hi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Yse(n,e){const t=dC(n,0),r=dC(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=ey(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function LN(n,e){if(wm(n)!==wm(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Xu(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(wm(n)>wm(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Qse{constructor(e,t){this.errorPrefix_=t,this.parts_=dC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Z.ug)(this.parts_[r]);z5(this)}}function z5(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ty(n))}function ty(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class BN extends G5{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new BN}getInitialEvent(e){return(0,Z.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const hC=1e3;let H2,ny=(()=>{class n extends j5{constructor(t,r,i,s,o,u,h,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=aC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,Z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");BN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&U2.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,Z.Pz)(o)),(0,Z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Z.BH,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:u=>{const h=u.d;"ok"===u.s?(this.onDataUpdate_(i.p,h,!1,null),r.resolve(h)):r.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const u=this.outstandingGets_[o];void 0===u||s!==u||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+o),this.listens.has(u)||this.listens.set(u,new Map),(0,Z.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Z.hu)(!this.listens.get(u).has(o),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(u).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,h=>{const p=h.d,_=h.s;n.warnOnListenWarnings_(p,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",h),"ok"!==_&&this.removeListen_(i,s),t.onComplete&&t.onComplete(_,p))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,Z.r3)(t,"w")){const i=(0,Z.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ua(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,Z.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,Z.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,u=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,Z.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const u={p:r,d:i};void 0!==o&&(u.h=o),this.outstandingPuts_.push({action:t,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,Z.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):SN("Unrecognized action received from server: "+(0,Z.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,Z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,et.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,u=t.lastSessionId;let h=!1,p=null;const _=function(){p?p.close():(h=!0,s())};t.realtime_={close:_,sendRequest:function(C){(0,Z.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(C)}};const E=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[C,I]=yield Promise.all([t.authTokenProvider_.getToken(E),t.appCheckTokenProvider_.getToken(E)]);h?Zo("getToken() completed but was canceled"):(Zo("getToken() completed. Creating connection."),t.authToken_=C&&C.accessToken,t.appCheckToken_=I&&I.token,p=new H5(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,D=>{Ua(D+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},u))}catch(C){t.log_("Failed to get token: "+C),h||(t.repoInfo_.nodeAdmin&&Ua(C),_())}}})()}interrupt(t){Zo("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Zo("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,Z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=hC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>AN(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new jr(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Zo("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Zo("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,Z.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+TN.replace(/\./g,"-")]=1,(0,Z.uI)()?t["framework.cordova"]=1:(0,Z.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=U2.getInstance().currentlyOnline();return(0,Z.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class lr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new lr(e,t)}}class V2{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new lr(cg,e),i=new lr(cg,t);return 0!==this.compare(r,i)}minPost(){return lr.MIN}}class Y5 extends V2{static get __EMPTY_NODE(){return H2}static set __EMPTY_NODE(e){H2=e}compare(e,t){return ey(e.name,t.name)}isDefinedOn(e){throw(0,Z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return lr.MIN}maxPost(){return new lr(Cf,H2)}makePost(e,t){return(0,Z.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new lr(e,H2)}toString(){return".key"}}const Sf=new Y5;class j2{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let VN,ih=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:uc.EMPTY_NODE,this.right=null!=o?o:uc.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return uc.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return uc.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class uc{constructor(e,t=uc.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new uc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ih.BLACK,null,null))}remove(e){return new uc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ih.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new j2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new j2(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new j2(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new j2(this.root_,null,this.comparator_,!0,e)}}function ooe(n,e){return ey(n.name,e.name)}function UN(n,e){return ey(n,e)}uc.EMPTY_NODE=new class soe{copy(e,t,r,i,s){return this}insert(e,t,r){return new ih(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Q5=function(n){return"number"==typeof n?"number:"+m5(n):"string:"+n},X5=function(n){if(n.isLeafNode()){const e=n.val();(0,Z.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,Z.r3)(e,".sv"),"Priority must be a string or number.")}else(0,Z.hu)(n===VN||n.isEmpty(),"priority of unexpected type.");(0,Z.hu)(n===VN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let J5,eV,tV,ox=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,Z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X5(this.priorityNode_)}static set __childrenNodeConstructor(t){J5=t}static get __childrenNodeConstructor(){return J5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ir(t)?this:".priority"===rr(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=rr(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,Z.hu)(".priority"!==i||1===wm(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(hi(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Q5(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?m5(this.value_):this.value_,this.lazyHash_=h5(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,Z.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,Z.hu)(s>=0,"Unknown leaf type: "+r),(0,Z.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const bi=new class uoe extends V2{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ey(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return lr.MIN}maxPost(){return new lr(Cf,new ox("[PRIORITY-POST]",tV))}makePost(e,t){const r=eV(e);return new lr(t,new ox("[PRIORITY-POST]",r))}toString(){return".priority"}},doe=Math.log(2);class hoe{constructor(e){this.count=parseInt(Math.log(e+1)/doe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const G2=function(n,e,t,r){n.sort(e);const i=function(h,p){const _=p-h;let w,E;if(0===_)return null;if(1===_)return w=n[h],E=t?t(w):w,new ih(E,w.node,ih.BLACK,null,null);{const C=parseInt(_/2,10)+h,I=i(h,C),D=i(C+1,p);return w=n[C],E=t?t(w):w,new ih(E,w.node,ih.BLACK,I,D)}},u=function(h){let p=null,_=null,w=n.length;const E=function(I,D){const M=w-I,j=w;w-=I;const z=i(M+1,j),V=n[M],oe=t?t(V):V;C(new ih(oe,V.node,D,null,z))},C=function(I){p?(p.left=I,p=I):(_=I,p=I)};for(let I=0;I<h.count;++I){const D=h.nextBitIsOne(),M=Math.pow(2,h.count-(I+1));D?E(M,ih.BLACK):(E(M,ih.BLACK),E(M,ih.RED))}return _}(new hoe(n.length));return new uc(r||e,u)};let HN;const ax={};class ug{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,Z.hu)(ax&&bi,"ChildrenNode.ts has not been loaded"),HN=HN||new ug({".priority":ax},{".priority":bi}),HN}get(e){const t=(0,Z.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof uc?t:null}hasIndex(e){return(0,Z.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,Z.hu)(e!==Sf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(lr.Wrap);let u,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();u=i?G2(r,e.getCompare()):ax;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const _=Object.assign({},this.indexes_);return _[h]=u,new ug(_,p)}addToIndexes(e,t){const r=(0,Z.UI)(this.indexes_,(i,s)=>{const o=(0,Z.DV)(this.indexSet_,s);if((0,Z.hu)(o,"Missing index implementation for "+s),i===ax){if(o.isDefinedOn(e.node)){const u=[],h=t.getIterator(lr.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&u.push(p),p=h.getNext();return u.push(e),G2(u,o.getCompare())}return ax}{const u=t.get(e.name);let h=i;return u&&(h=h.remove(new lr(e.name,u))),h.insert(e,e.node)}});return new ug(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,Z.UI)(this.indexes_,i=>{if(i===ax)return i;{const s=t.get(e.name);return s?i.remove(new lr(e.name,s)):i}});return new ug(r,this.indexSet_)}}let fC,Yn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&X5(this.priorityNode_),this.children_.isEmpty()&&(0,Z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fC||(fC=new n(new uc(UN),null,ug.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?fC:r}}getChild(t){const r=rr(t);return null===r?this:this.getImmediateChild(r).getChild(hi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,Z.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new lr(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const u=s.isEmpty()?fC:this.priorityNode_;return new n(s,u,o)}}updateChild(t,r){const i=rr(t);if(null===i)return r;{(0,Z.hu)(".priority"!==rr(t)||1===wm(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(hi(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(bi,(u,h)=>{r[u]=h.val(t),i++,o&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):o=!1}),!t&&o&&s<2*i){const u=[];for(const h in r)u[h]=r[h];return u}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Q5(this.getPriority().val())+":"),this.forEachChild(bi,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":h5(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new lr(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new lr(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new lr(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,lr.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,lr.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pC?-1:0}withIndex(t){if(t===Sf||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Sf||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(bi),s=r.getIterator(bi);let o=i.getNext(),u=s.getNext();for(;o&&u;){if(o.name!==u.name||!o.node.equals(u.node))return!1;o=i.getNext(),u=s.getNext()}return null===o&&null===u}return!1}return!1}}resolveIndex_(t){return t===Sf?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pC=new class foe extends Yn{constructor(){super(new uc(UN),Yn.EMPTY_NODE,ug.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yn.EMPTY_NODE}isEmpty(){return!1}};function os(n,e=null){if(null===n)return Yn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,Z.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ox(n,os(e));if(n instanceof Array){let t=Yn.EMPTY_NODE;return Ko(n,(r,i)=>{if((0,Z.r3)(n,r)&&"."!==r.substring(0,1)){const s=os(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(os(e))}{const t=[];let r=!1;if(Ko(n,(o,u)=>{if("."!==o.substring(0,1)){const h=os(u);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),t.push(new lr(o,h)))}}),0===t.length)return Yn.EMPTY_NODE;const s=G2(t,ooe,o=>o.name,UN);if(r){const o=G2(t,bi.getCompare());return new Yn(s,os(e),new ug({".priority":o},{".priority":bi}))}return new Yn(s,os(e),ug.Default)}}Object.defineProperties(lr,{MIN:{value:new lr(cg,Yn.EMPTY_NODE)},MAX:{value:new lr(Cf,pC)}}),Y5.__EMPTY_NODE=Yn.EMPTY_NODE,ox.__childrenNodeConstructor=Yn,function aoe(n){VN=n}(pC),function coe(n){tV=n}(pC),function loe(n){eV=n}(os);class jN extends V2{constructor(e){super(),this.indexPath_=e,(0,Z.hu)(!ir(e)&&".priority"!==rr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ey(e.name,t.name):s}makePost(e,t){const r=os(e),i=Yn.EMPTY_NODE.updateChild(this.indexPath_,r);return new lr(t,i)}maxPost(){const e=Yn.EMPTY_NODE.updateChild(this.indexPath_,pC);return new lr(Cf,e)}toString(){return dC(this.indexPath_,0).join("/")}}const GN=new class goe extends V2{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ey(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return lr.MIN}maxPost(){return lr.MAX}makePost(e,t){const r=os(e);return new lr(t,r)}toString(){return".value"}},lx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",moe=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=lx.charAt(t%64),t=Math.floor(t/64);(0,Z.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=lx.charAt(e[i]);return(0,Z.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),iV=function(n){if(n===""+IN)return"-";const e=R2(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let o=0;o<t.length;o++)t[o]=n.charAt(o);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Cf;const s=lx.charAt(lx.indexOf(t[r])+1);return t[r]=s,t.slice(0,r+1).join("")},sV=function(n){if(n===""+_5)return cg;const e=R2(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+IN:(delete t[t.length-1],t.join("")):(t[t.length-1]=lx.charAt(lx.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function oV(n){return{type:"value",snapshotNode:n}}function cx(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function gC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function mC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class WN{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){(0,Z.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(t);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(gC(t,u)):(0,Z.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?o.trackChildChange(cx(t,r)):o.trackChildChange(mC(t,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(bi,(i,s)=>{t.hasChild(i)||r.trackChildChange(gC(i,s))}),t.isLeafNode()||t.forEachChild(bi,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(mC(i,s,o))}else r.trackChildChange(cx(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Yn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _C{constructor(e){this.indexedFilter_=new WN(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_C.getStartPost_(e),this.endPost_=_C.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,o){return this.matches(new lr(t,r))||(r=Yn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Yn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Yn.EMPTY_NODE);const s=this;return t.forEachChild(bi,(o,u)=>{s.matches(new lr(o,u))||(i=i.updateImmediateChild(o,Yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class voe{constructor(e){this.rangedFilter_=new _C(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new lr(t,r))||(r=Yn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=Yn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const u=s.getNext();let h;if(h=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,!h)break;i=i.updateImmediateChild(u.name,u.node),o++}}else{let s,o,u,h;if(i=t.withIndex(this.index_),i=i.updatePriority(Yn.EMPTY_NODE),this.reverse_){h=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const w=this.index_.getCompare();u=(E,C)=>w(C,E)}else h=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();let p=0,_=!1;for(;h.hasNext();){const w=h.getNext();!_&&u(s,w)<=0&&(_=!0),_&&p<this.limit_&&u(w,o)<=0?p++:i=i.updateImmediateChild(w.name,Yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const w=this.index_.getCompare();o=(E,C)=>w(C,E)}else o=this.index_.getCompare();const u=e;(0,Z.hu)(u.numChildren()===this.limit_,"");const h=new lr(t,r),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(u.hasChild(t)){const w=u.getImmediateChild(t);let E=i.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=E&&(E.name===t||u.hasChild(E.name));)E=i.getChildAfterChild(this.index_,E,this.reverse_);const C=null==E?1:o(E,h);if(_&&!r.isEmpty()&&C>=0)return null!=s&&s.trackChildChange(mC(t,r,w)),u.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(gC(t,w));const D=u.updateImmediateChild(t,Yn.EMPTY_NODE);return null!=E&&this.rangedFilter_.matches(E)?(null!=s&&s.trackChildChange(cx(E.name,E.node)),D.updateImmediateChild(E.name,E.node)):D}}return r.isEmpty()?e:_&&o(p,h)>=0?(null!=s&&(s.trackChildChange(gC(p.name,p.node)),s.trackChildChange(cx(t,r))),u.updateImmediateChild(t,r).updateImmediateChild(p.name,Yn.EMPTY_NODE)):e}}class $2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bi}copy(){const e=new $2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qN(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function zN(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function W2(n,e){const t=n.copy();return t.index_=e,t}function aV(n){const e={};if(n.isDefault())return e;let t;return n.index_===bi?t="$priority":n.index_===GN?t="$value":n.index_===Sf?t="$key":((0,Z.hu)(n.index_ instanceof jN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,Z.Pz)(t),n.startSet_&&(e.startAt=(0,Z.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,Z.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,Z.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,Z.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function lV(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==bi&&(e.i=n.index_.toString()),e}class q2 extends j5{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=aC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,Z.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=q2.getListenId_(e,r),u={};this.listens_[o]=u;const h=aV(e._queryParams);this.restRequest_(s+".json",h,(p,_)=>{let w=_;if(404===p&&(w=null,p=null),null===p&&this.onDataUpdate_(s,w,!1,r),(0,Z.DV)(this.listens_,o)===u){let E;E=p?401===p?"permission_denied":"rest_error:"+p:"ok",i(E,null)}})}unlisten(e,t){const r=q2.getListenId_(e,t);delete this.listens_[r]}get(e){const t=aV(e._queryParams),r=e._path.toString(),i=new Z.BH;return this.restRequest_(r+".json",t,(s,o)=>{let u=o;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Z.xO)(t);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&4===u.readyState){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=(0,Z.cI)(u.responseText)}catch(p){Ua("Failed to parse JSON response for "+o+": "+u.responseText)}r(null,h)}else 401!==u.status&&404!==u.status&&Ua("Got unsuccessful REST response for "+o+" Status: "+u.status),r(u.status);r=null}},u.open("GET",o,!0),u.send()})}}class Toe{constructor(){this.rootNode_=Yn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function z2(){return{value:null,children:new Map}}function ux(n,e,t){if(ir(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=rr(e);n.children.has(r)||n.children.set(r,z2()),ux(n.children.get(r),e=hi(e),t)}}function ZN(n,e){if(ir(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(bi,(r,i)=>{ux(n,new jr(r),i)}),ZN(n,e)}}if(n.children.size>0){const t=rr(e);return e=hi(e),n.children.has(t)&&ZN(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function KN(n,e,t){null!==n.value?t(e,n.value):function Coe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{KN(i,new jr(e.toString()+"/"+r),t)})}class Soe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ko(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Doe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Soe(e);const r=1e4+2e4*Math.random();cC(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ko(e,(i,s)=>{s>0&&(0,Z.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),cC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ju=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ju||(Ju={})),Ju))();function XN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Z2{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ju.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ir(this.path)){if(null!=this.affectedTree.value)return(0,Z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new jr(e));return new Z2(Or(),t,this.revert)}}return(0,Z.hu)(rr(this.path)===e,"operationForChild called for unrelated child."),new Z2(hi(this.path),this.affectedTree,this.revert)}}class vC{constructor(e,t){this.source=e,this.path=t,this.type=Ju.LISTEN_COMPLETE}operationForChild(e){return ir(this.path)?new vC(this.source,Or()):new vC(this.source,hi(this.path))}}class ry{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ju.OVERWRITE}operationForChild(e){return ir(this.path)?new ry(this.source,Or(),this.snap.getImmediateChild(e)):new ry(this.source,hi(this.path),this.snap)}}class dx{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ju.MERGE}operationForChild(e){if(ir(this.path)){const t=this.children.subtree(new jr(e));return t.isEmpty()?null:t.value?new ry(this.source,Or(),t.value):new dx(this.source,Or(),t)}return(0,Z.hu)(rr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dx(this.source,hi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xm{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ir(e))return this.isFullyInitialized()&&!this.filtered_;const t=rr(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class koe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yC(n,e,t,r,i,s){const o=r.filter(u=>u.type===t);o.sort((u,h)=>function Moe(n,e,t){if(null==e.childName||null==t.childName)throw(0,Z.g5)("Should only compare child_ events.");const r=new lr(e.childName,e.snapshotNode),i=new lr(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,u,h)),o.forEach(u=>{const h=function Ooe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,u,s);i.forEach(p=>{p.respondsTo(u.type)&&e.push(p.createEvent(h,n.query_))})})}function K2(n,e){return{eventCache:n,serverCache:e}}function wC(n,e,t,r){return K2(new xm(e,t,r),n.serverCache)}function uV(n,e,t,r){return K2(n.eventCache,new xm(e,t,r))}function Y2(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function iy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let JN;class Ti{constructor(e,t=(()=>(JN||(JN=new uc(_se)),JN))()){this.value=e,this.children=t}static fromObject(e){let t=new Ti(null);return Ko(e,(r,i)=>{t=t.set(new jr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Or(),value:this.value};if(ir(e))return null;{const r=rr(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(hi(e),t);return null!=s?{path:$i(new jr(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ir(e))return this;{const t=rr(e),r=this.children.get(t);return null!==r?r.subtree(hi(e)):new Ti(null)}}set(e,t){if(ir(e))return new Ti(t,this.children);{const r=rr(e),s=(this.children.get(r)||new Ti(null)).set(hi(e),t),o=this.children.insert(r,s);return new Ti(this.value,o)}}remove(e){if(ir(e))return this.children.isEmpty()?new Ti(null):new Ti(null,this.children);{const t=rr(e),r=this.children.get(t);if(r){const i=r.remove(hi(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Ti(null):new Ti(this.value,s)}return this}}get(e){if(ir(e))return this.value;{const t=rr(e),r=this.children.get(t);return r?r.get(hi(e)):null}}setTree(e,t){if(ir(e))return t;{const r=rr(e),s=(this.children.get(r)||new Ti(null)).setTree(hi(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ti(this.value,o)}}fold(e){return this.fold_(Or(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_($i(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Or(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ir(e))return null;{const s=rr(e),o=this.children.get(s);return o?o.findOnPath_(hi(e),$i(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Or(),t)}foreachOnPath_(e,t,r){if(ir(e))return this;{this.value&&r(t,this.value);const i=rr(e),s=this.children.get(i);return s?s.foreachOnPath_(hi(e),$i(t,i),r):new Ti(null)}}foreach(e){this.foreach_(Or(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_($i(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class sh{constructor(e){this.writeTree_=e}static empty(){return new sh(new Ti(null))}}function xC(n,e,t){if(ir(e))return new sh(new Ti(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Tl(i,e);return s=s.updateChild(o,t),new sh(n.writeTree_.set(i,s))}{const i=new Ti(t),s=n.writeTree_.setTree(e,i);return new sh(s)}}}function eR(n,e,t){let r=n;return Ko(t,(i,s)=>{r=xC(r,$i(e,i),s)}),r}function dV(n,e){if(ir(e))return sh.empty();{const t=n.writeTree_.setTree(e,new Ti(null));return new sh(t)}}function tR(n,e){return null!=sy(n,e)}function sy(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Tl(t.path,e)):null}function hV(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(bi,(r,i)=>{e.push(new lr(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new lr(r,i.value))}),e}function Em(n,e){if(ir(e))return n;{const t=sy(n,e);return new sh(null!=t?new Ti(t):n.writeTree_.subtree(e))}}function nR(n){return n.writeTree_.isEmpty()}function hx(n,e){return fV(Or(),n.writeTree_,e)}function fV(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,Z.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=fV($i(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild($i(n,".priority"),r)),t}}function Q2(n,e){return vV(e,n)}function Uoe(n,e){if(n.snap)return Xu(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Xu($i(n.path,t),e))return!0;return!1}function Hoe(n){return n.visible}function pV(n,e,t){let r=sh.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let u;if(s.snap)Xu(t,o)?(u=Tl(t,o),r=xC(r,u,s.snap)):Xu(o,t)&&(u=Tl(o,t),r=xC(r,Or(),s.snap.getChild(u)));else{if(!s.children)throw(0,Z.g5)("WriteRecord should have .snap or .children");if(Xu(t,o))u=Tl(t,o),r=eR(r,u,s.children);else if(Xu(o,t))if(u=Tl(o,t),ir(u))r=eR(r,Or(),s.children);else{const h=(0,Z.DV)(s.children,rr(u));if(h){const p=h.getChild(hi(u));r=xC(r,Or(),p)}}}}}return r}function gV(n,e,t,r,i){if(r||i){const s=Em(n.visibleWrites,e);return!i&&nR(s)?t:i||null!=t||tR(s,Or())?hx(pV(n.allWrites,function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Xu(p.path,e)||Xu(e,p.path))},e),t||Yn.EMPTY_NODE):null}{const s=sy(n.visibleWrites,e);if(null!=s)return s;{const o=Em(n.visibleWrites,e);return nR(o)?t:null!=t||tR(o,Or())?hx(o,t||Yn.EMPTY_NODE):null}}}function X2(n,e,t,r){return gV(n.writeTree,n.treePath,e,t,r)}function rR(n,e){return function joe(n,e,t){let r=Yn.EMPTY_NODE;const i=sy(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(bi,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Em(n.visibleWrites,e);return t.forEachChild(bi,(o,u)=>{const h=hx(Em(s,new jr(o)),u);r=r.updateImmediateChild(o,h)}),hV(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return hV(Em(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function mV(n,e,t,r){return function Goe(n,e,t,r,i){(0,Z.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$i(e,t);if(tR(n.visibleWrites,s))return null;{const o=Em(n.visibleWrites,s);return nR(o)?i.getChild(t):hx(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function J2(n,e){return function Woe(n,e){return sy(n.visibleWrites,e)}(n.writeTree,$i(n.treePath,e))}function iR(n,e,t){return function $oe(n,e,t,r){const i=$i(e,t),s=sy(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?hx(Em(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function _V(n,e){return vV($i(n.treePath,e),n.writeTree)}function vV(n,e){return{treePath:n,writeTree:e}}class Koe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,Z.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,Z.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,mC(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,gC(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,cx(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,Z.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,mC(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const yV=new class Yoe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class sR{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new xm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iR(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:iy(this.viewCache_),s=function Zoe(n,e,t,r,i,s){return function qoe(n,e,t,r,i,s,o){let u;const h=Em(n.visibleWrites,e),p=sy(h,Or());if(null!=p)u=p;else{if(null==t)return[];u=hx(h,t)}if(u=u.withIndex(o),u.isEmpty()||u.isLeafNode())return[];{const _=[],w=o.getCompare(),E=s?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o);let C=E.getNext();for(;C&&_.length<i;)0!==w(C,r)&&_.push(C),C=E.getNext();return _}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function wV(n,e,t,r,i,s){const o=e.eventCache;if(null!=J2(r,t))return e;{let u,h;if(ir(t))if((0,Z.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=iy(e),w=rR(r,p instanceof Yn?p:Yn.EMPTY_NODE);u=n.filter.updateFullNode(e.eventCache.getNode(),w,s)}else{const p=X2(r,iy(e));u=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=rr(t);if(".priority"===p){(0,Z.hu)(1===wm(t),"Can't have a priority with additional path components");const _=o.getNode();h=e.serverCache.getNode();const w=mV(r,t,_,h);u=null!=w?n.filter.updatePriority(_,w):o.getNode()}else{const _=hi(t);let w;if(o.isCompleteForChild(p)){h=e.serverCache.getNode();const E=mV(r,t,o.getNode(),h);w=null!=E?o.getNode().getImmediateChild(p).updateChild(_,E):o.getNode().getImmediateChild(p)}else w=iR(r,p,e.serverCache);u=null!=w?n.filter.updateChild(o.getNode(),p,w,_,i,s):o.getNode()}}return wC(e,u,o.isFullyInitialized()||ir(t),n.filter.filtersNodes())}}function ek(n,e,t,r,i,s,o,u){const h=e.serverCache;let p;const _=o?n.filter:n.filter.getIndexedFilter();if(ir(t))p=_.updateFullNode(h.getNode(),r,null);else if(_.filtersNodes()&&!h.isFiltered()){const C=h.getNode().updateChild(t,r);p=_.updateFullNode(h.getNode(),C,null)}else{const C=rr(t);if(!h.isCompleteForPath(t)&&wm(t)>1)return e;const I=hi(t),M=h.getNode().getImmediateChild(C).updateChild(I,r);p=".priority"===C?_.updatePriority(h.getNode(),M):_.updateChild(h.getNode(),C,M,I,yV,null)}const w=uV(e,p,h.isFullyInitialized()||ir(t),_.filtersNodes());return wV(n,w,t,i,new sR(i,w,s),u)}function oR(n,e,t,r,i,s,o){const u=e.eventCache;let h,p;const _=new sR(i,e,s);if(ir(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,o),h=wC(e,p,!0,n.filter.filtersNodes());else{const w=rr(t);if(".priority"===w)p=n.filter.updatePriority(e.eventCache.getNode(),r),h=wC(e,p,u.isFullyInitialized(),u.isFiltered());else{const E=hi(t),C=u.getNode().getImmediateChild(w);let I;if(ir(E))I=r;else{const D=_.getCompleteChild(w);I=null!=D?".priority"===RN(E)&&D.getChild(q5(E)).isEmpty()?D:D.updateChild(E,r):Yn.EMPTY_NODE}h=C.equals(I)?e:wC(e,n.filter.updateChild(u.getNode(),w,I,E,_,o),u.isFullyInitialized(),n.filter.filtersNodes())}}return h}function xV(n,e){return n.eventCache.isCompleteForChild(e)}function EV(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function aR(n,e,t,r,i,s,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,h=e;p=ir(t)?r:new Ti(null).setTree(t,r);const _=e.serverCache.getNode();return p.children.inorderTraversal((w,E)=>{if(_.hasChild(w)){const I=EV(0,e.serverCache.getNode().getImmediateChild(w),E);h=ek(n,h,new jr(w),I,i,s,o,u)}}),p.children.inorderTraversal((w,E)=>{const C=!e.serverCache.isCompleteForChild(w)&&void 0===E.value;if(!_.hasChild(w)&&!C){const D=EV(0,e.serverCache.getNode().getImmediateChild(w),E);h=ek(n,h,new jr(w),D,i,s,o,u)}}),h}class sae{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new WN(r.getIndex()),s=function yoe(n){return n.loadsAllData()?new WN(n.getIndex()):n.hasLimit()?new voe(n):new _C(n)}(r);this.processor_=function Qoe(n){return{filter:n}}(s);const o=t.serverCache,u=t.eventCache,h=i.updateFullNode(Yn.EMPTY_NODE,o.getNode(),null),p=s.updateFullNode(Yn.EMPTY_NODE,u.getNode(),null),_=new xm(h,o.isFullyInitialized(),i.filtersNodes()),w=new xm(p,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=K2(w,_),this.eventGenerator_=new koe(this.query_)}get query(){return this.query_}}function lae(n,e){const t=iy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ir(e)&&!t.getImmediateChild(rr(e)).isEmpty())?t.getChild(e):null}function bV(n){return 0===n.eventRegistrations_.length}function TV(n,e,t){const r=[];if(t){(0,Z.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function CV(n,e,t,r){e.type===Ju.MERGE&&null!==e.source.queryId&&((0,Z.hu)(iy(n.viewCache_),"We should always have a full cache before handling merges"),(0,Z.hu)(Y2(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function Joe(n,e,t,r,i){const s=new Koe;let o,u;if(t.type===Ju.OVERWRITE){const p=t;p.source.fromUser?o=oR(n,e,p.path,p.snap,r,i,s):((0,Z.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||e.serverCache.isFiltered()&&!ir(p.path),o=ek(n,e,p.path,p.snap,r,i,u,s))}else if(t.type===Ju.MERGE){const p=t;p.source.fromUser?o=function tae(n,e,t,r,i,s,o){let u=e;return r.foreach((h,p)=>{const _=$i(t,h);xV(e,rr(_))&&(u=oR(n,u,_,p,i,s,o))}),r.foreach((h,p)=>{const _=$i(t,h);xV(e,rr(_))||(u=oR(n,u,_,p,i,s,o))}),u}(n,e,p.path,p.children,r,i,s):((0,Z.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||e.serverCache.isFiltered(),o=aR(n,e,p.path,p.children,r,i,u,s))}else if(t.type===Ju.ACK_USER_WRITE){const p=t;o=p.revert?function iae(n,e,t,r,i,s){let o;if(null!=J2(r,t))return e;{const u=new sR(r,e,i),h=e.eventCache.getNode();let p;if(ir(t)||".priority"===rr(t)){let _;if(e.serverCache.isFullyInitialized())_=X2(r,iy(e));else{const w=e.serverCache.getNode();(0,Z.hu)(w instanceof Yn,"serverChildren would be complete if leaf node"),_=rR(r,w)}_=_,p=n.filter.updateFullNode(h,_,s)}else{const _=rr(t);let w=iR(r,_,e.serverCache);null==w&&e.serverCache.isCompleteForChild(_)&&(w=h.getImmediateChild(_)),p=null!=w?n.filter.updateChild(h,_,w,hi(t),u,s):e.eventCache.getNode().hasChild(_)?n.filter.updateChild(h,_,Yn.EMPTY_NODE,hi(t),u,s):h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=X2(r,iy(e)),o.isLeafNode()&&(p=n.filter.updateFullNode(p,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=J2(r,Or()),wC(e,p,o,n.filter.filtersNodes())}}(n,e,p.path,r,i,s):function nae(n,e,t,r,i,s,o){if(null!=J2(i,t))return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(null!=r.value){if(ir(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return ek(n,e,t,h.getNode().getChild(t),i,s,u,o);if(ir(t)){let p=new Ti(null);return h.getNode().forEachChild(Sf,(_,w)=>{p=p.set(new jr(_),w)}),aR(n,e,t,p,i,s,u,o)}return e}{let p=new Ti(null);return r.foreach((_,w)=>{const E=$i(t,_);h.isCompleteForPath(E)&&(p=p.set(_,h.getNode().getChild(E)))}),aR(n,e,t,p,i,s,u,o)}}(n,e,p.path,p.affectedTree,r,i,s)}else{if(t.type!==Ju.LISTEN_COMPLETE)throw(0,Z.g5)("Unknown operation type: "+t.type);o=function rae(n,e,t,r,i){const s=e.serverCache;return wV(n,uV(e,s.getNode(),s.isFullyInitialized()||ir(t),s.isFiltered()),t,r,yV,i)}(n,e,t.path,r,s)}const h=s.getChanges();return function eae(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Y2(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(oV(Y2(e)))}}(e,o,h),{viewCache:o,changes:h}}(n.processor_,i,e,t,r);return function Xoe(n,e){(0,Z.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Z.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,Z.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,SV(n,s.changes,s.viewCache.eventCache.getNode(),null)}function SV(n,e,t,r){return function Poe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function _oe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),yC(n,i,"child_removed",e,r,t),yC(n,i,"child_added",e,r,t),yC(n,i,"child_moved",s,r,t),yC(n,i,"child_changed",e,r,t),yC(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let tk,rk;class AV{constructor(){this.views=new Map}}function lR(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,Z.hu)(null!=s,"SyncTree gave us an op for an invalid query."),CV(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(CV(o,e,t,r));return s}}function IV(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let u=X2(t,i?r:null),h=!1;u?h=!0:r instanceof Yn?(u=rR(t,r),h=!1):(u=Yn.EMPTY_NODE,h=!1);const p=K2(new xm(u,h,!1),new xm(r,i,!1));return new sae(e,p)}return o}function DV(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function bm(n,e){let t=null;for(const r of n.views.values())t=t||lae(r,e);return t}function kV(n,e){return e._queryParams.loadsAllData()?nk(n):n.views.get(e._queryIdentifier)}function PV(n,e){return null!=kV(n,e)}function Tm(n){return null!=nk(n)}function nk(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let vae=1;class OV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ti(null),this.pendingWriteTree_=function zoe(){return{visibleWrites:sh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cR(n,e,t,r,i){return function Noe(n,e,t,r,i){(0,Z.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=xC(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?fx(n,new ry({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Cm(n,e,t=!1){const r=function Loe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Boe(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);(0,Z.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const u=n.allWrites[o];u.visible&&(o>=t&&Uoe(u,r.path)?i=!1:Xu(r.path,u.path)&&(s=!0)),o--}return!!i&&(s?(function Voe(n){n.visibleWrites=pV(n.allWrites,Hoe,Or()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=dV(n.visibleWrites,r.path):Ko(r.children,h=>{n.visibleWrites=dV(n.visibleWrites,$i(r.path,h))}),!0))}(n.pendingWriteTree_,e)){let s=new Ti(null);return null!=r.snap?s=s.set(Or(),!0):Ko(r.children,o=>{s=s.set(new jr(o),!0)}),fx(n,new Z2(r.path,s,t))}return[]}function EC(n,e,t){return fx(n,new ry({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function uR(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||PV(s,e))){const u=function gae(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const u=Tm(n);if("default"===i)for(const[h,p]of n.views.entries())o=o.concat(TV(p,t,r)),bV(p)&&(n.views.delete(h),p.query._queryParams.loadsAllData()||s.push(p.query));else{const h=n.views.get(i);h&&(o=o.concat(TV(h,t,r)),bV(h)&&(n.views.delete(i),h.query._queryParams.loadsAllData()||s.push(h.query)))}return u&&!Tm(n)&&s.push(new(function hae(){return(0,Z.hu)(tk,"Reference.ts has not been loaded"),tk}())(e._repo,e._path)),{removed:s,events:o}}(s,e,t,r);(function fae(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const h=u.removed;o=u.events;const p=-1!==h.findIndex(w=>w._queryParams.loadsAllData()),_=n.syncPointTree_.findOnPath(i,(w,E)=>Tm(E));if(p&&!_){const w=n.syncPointTree_.subtree(i);if(!w.isEmpty()){const E=function Sae(n){return n.fold((e,t,r)=>{if(t&&Tm(t))return[nk(t)];{let i=[];return t&&(i=DV(t)),Ko(r,(s,o)=>{i=i.concat(o)}),i}})}(w);for(let C=0;C<E.length;++C){const I=E[C],D=I.query,M=RV(n,I);n.listenProvider_.startListening(bC(D),sk(n,D),M.hashFn,M.onComplete)}}}!_&&h.length>0&&!r&&(p?n.listenProvider_.stopListening(bC(e),null):h.forEach(w=>{const E=n.queryToTagMap.get(ok(w));n.listenProvider_.stopListening(bC(w),E)})),function Aae(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=ok(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,h)}return o}function MV(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(w,E)=>{const C=Tl(w,r);i=i||bm(E,C),s=s||Tm(E)});let u,o=n.syncPointTree_.get(r);o?(s=s||Tm(o),i=i||bm(o,Or())):(o=new AV,n.syncPointTree_=n.syncPointTree_.set(r,o)),null!=i?u=!0:(u=!1,i=Yn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((E,C)=>{const I=bm(C,Or());I&&(i=i.updateImmediateChild(E,I))}));const h=PV(o,e);if(!h&&!e._queryParams.loadsAllData()){const w=ok(e);(0,Z.hu)(!n.queryToTagMap.has(w),"View does not exist, but we have a tag");const E=function Iae(){return vae++}();n.queryToTagMap.set(w,E),n.tagToQueryMap.set(E,w)}let _=function pae(n,e,t,r,i,s){const o=IV(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function cae(n,e){n.eventRegistrations_.push(e)}(o,t),function uae(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(bi,(s,o)=>{r.push(cx(s,o))}),t.isFullyInitialized()&&r.push(oV(t.getNode())),SV(n,r,t.getNode(),e)}(o,t)}(o,e,t,Q2(n.pendingWriteTree_,r),i,u);if(!h&&!s){const w=kV(o,e);_=_.concat(function Dae(n,e,t){const r=e._path,i=sk(n,e),s=RV(n,t),o=n.listenProvider_.startListening(bC(e),i,s.hashFn,s.onComplete),u=n.syncPointTree_.subtree(r);if(i)(0,Z.hu)(!Tm(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((p,_,w)=>{if(!ir(p)&&_&&Tm(_))return[nk(_).query];{let E=[];return _&&(E=E.concat(DV(_).map(C=>C.query))),Ko(w,(C,I)=>{E=E.concat(I)}),E}});for(let p=0;p<h.length;++p){const _=h[p];n.listenProvider_.stopListening(bC(_),sk(n,_))}}return o}(n,e,w))}return _}function ik(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,u)=>{const p=bm(u,Tl(o,e));if(p)return p});return gV(i,e,s,t,!0)}function fx(n,e){return FV(e,n.syncPointTree_,null,Q2(n.pendingWriteTree_,Or()))}function FV(n,e,t,r){if(ir(n.path))return NV(n,e,t,r);{const i=e.get(Or());null==t&&null!=i&&(t=bm(i,Or()));let s=[];const o=rr(n.path),u=n.operationForChild(o),h=e.children.get(o);if(h&&u){const p=t?t.getImmediateChild(o):null,_=_V(r,o);s=s.concat(FV(u,h,p,_))}return i&&(s=s.concat(lR(i,n,r,t))),s}}function NV(n,e,t,r){const i=e.get(Or());null==t&&null!=i&&(t=bm(i,Or()));let s=[];return e.children.inorderTraversal((o,u)=>{const h=t?t.getImmediateChild(o):null,p=_V(r,o),_=n.operationForChild(o);_&&(s=s.concat(NV(_,u,h,p)))}),i&&(s=s.concat(lR(i,n,r,t))),s}function RV(n,e){const t=e.query,r=sk(n,t);return{hashFn:()=>(function oae(n){return n.viewCache_.serverCache.getNode()}(e)||Yn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Eae(n,e,t){const r=dR(n,t);if(r){const i=hR(r),s=i.path,o=i.queryId,u=Tl(s,e);return fR(n,s,new vC(XN(o),u))}return[]}(n,t._path,r):function xae(n,e){return fx(n,new vC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function wse(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return uR(n,t,null,s)}}}}function sk(n,e){const t=ok(e);return n.queryToTagMap.get(t)}function ok(n){return n._path.toString()+"$"+n._queryIdentifier}function dR(n,e){return n.tagToQueryMap.get(e)}function hR(n){const e=n.indexOf("$");return(0,Z.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new jr(n.substr(0,e))}}function fR(n,e,t){const r=n.syncPointTree_.get(e);return(0,Z.hu)(r,"Missing sync point for query tag that we're tracking"),lR(r,t,Q2(n.pendingWriteTree_,e),null)}function bC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function _ae(){return(0,Z.hu)(rk,"Reference.ts has not been loaded"),rk}())(n._repo,n._path):n}class pR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new pR(t)}node(){return this.node_}}class gR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$i(this.path_,e);return new gR(this.syncTree_,t)}node(){return ik(this.syncTree_,this.path_)}}const LV=function(n,e,t){return n&&"object"==typeof n?((0,Z.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Pae(n[".sv"],e,t):"object"==typeof n[".sv"]?Oae(n[".sv"],e):void(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Pae=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,Z.hu)(!1,"Unexpected server value: "+n)},Oae=function(n,e,t){n.hasOwnProperty("increment")||(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,Z.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,Z.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},BV=function(n,e,t,r){return _R(e,new gR(t,n),r)},mR=function(n,e,t){return _R(n,new pR(e),t)};function _R(n,e,t){const r=n.getPriority().val(),i=LV(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,u=LV(o.getValue(),e,t);return u!==o.getValue()||i!==o.getPriority().val()?new ox(u,os(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ox(i))),o.forEachChild(bi,(u,h)=>{const p=_R(h,e.getImmediateChild(u),t);p!==h&&(s=s.updateImmediateChild(u,p))}),s}}class vR{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ak(n,e){let t=e instanceof jr?e:new jr(e),r=n,i=rr(t);for(;null!==i;){const s=(0,Z.DV)(r.node.children,i)||{children:{},childCount:0};r=new vR(i,r,s),t=hi(t),i=rr(t)}return r}function oy(n){return n.node.value}function yR(n,e){n.node.value=e,wR(n)}function UV(n){return n.node.childCount>0}function lk(n,e){Ko(n.node.children,(t,r)=>{e(new vR(t,n,r))})}function VV(n,e,t,r){t&&!r&&e(n),lk(n,i=>{VV(i,e,!0,r)}),t&&r&&e(n)}function TC(n){return new jr(null===n.parent?n.name:TC(n.parent)+"/"+n.name)}function wR(n){null!==n.parent&&function Nae(n,e,t){const r=function Mae(n){return void 0===oy(n)&&!UV(n)}(t),i=(0,Z.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,wR(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,wR(n))}(n.parent,n.name,n)}const Rae=/[\[\].#$\/\u0000-\u001F\u007F]/,Lae=/[\[\].#$\u0000-\u001F\u007F]/,xR=10485760,ck=function(n){return"string"==typeof n&&0!==n.length&&!Rae.test(n)},HV=function(n){return"string"==typeof n&&0!==n.length&&!Lae.test(n)},CC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!N2(n)||n&&"object"==typeof n&&(0,Z.r3)(n,".sv")},Af=function(n,e,t,r){r&&void 0===e||SC((0,Z.gK)(n,"value"),e,t)},SC=function(n,e,t){const r=t instanceof jr?new Qse(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ty(r));if("function"==typeof e)throw new Error(n+"contains a function "+ty(r)+" with contents = "+e.toString());if(N2(e))throw new Error(n+"contains "+e.toString()+" "+ty(r));if("string"==typeof e&&e.length>xR/3&&(0,Z.ug)(e)>xR)throw new Error(n+"contains a string greater than "+xR+" utf8 bytes "+ty(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Ko(e,(o,u)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!ck(o)))throw new Error(n+" contains an invalid key ("+o+") "+ty(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xse(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,Z.ug)(e),z5(n)})(r,o),SC(n,u,r),function Jse(n){const e=n.parts_.pop();n.byteLength_-=(0,Z.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ty(r)+" in addition to actual children.")}},jV=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,Z.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ko(e,(o,u)=>{const h=new jr(o);if(SC(i,u,$i(t,h)),".priority"===RN(h)&&!CC(u))throw new Error(i+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=dC(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!ck(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Yse);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&Xu(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},ER=function(n,e,t){if(!t||void 0!==e){if(N2(e))throw new Error((0,Z.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!CC(e))throw new Error((0,Z.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},AC=function(n,e,t,r){if(!(r&&void 0===t||ck(t)))throw new Error((0,Z.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},IC=function(n,e,t,r){if(!(r&&void 0===t||HV(t)))throw new Error((0,Z.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ed=function(n,e){if(".info"===rr(e))throw new Error(n+" failed = Can't modify data under /.info/")},GV=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ck(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),HV(n)}(t))throw new Error((0,Z.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Hae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uk(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!LN(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function bR(n,e,t){uk(n,t),$V(n,r=>LN(r,e))}function td(n,e,t){uk(n,t),$V(n,r=>Xu(r,e)||Xu(e,r))}function $V(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(jae(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function jae(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Jv&&Zo("event: "+t.toString()),ix(r)}}}const WV="repo_interrupt";class $ae{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=z2(),this.transactionQueueTree_=new vR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qV(n){const t=n.infoData_.getNode(new jr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function DC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:qV(n)})}function zV(n,e,t,r,i){n.dataUpdateCount++;const s=new jr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const h=(0,Z.UI)(t,p=>os(p));o=function Tae(n,e,t,r){const i=dR(n,r);if(i){const s=hR(i),o=s.path,u=s.queryId,h=Tl(o,e),p=Ti.fromObject(t);return fR(n,o,new dx(XN(u),h,p))}return[]}(n.serverSyncTree_,s,h,i)}else{const h=os(t);o=function bae(n,e,t,r){const i=dR(n,r);if(null!=i){const s=hR(i),o=s.path,u=s.queryId,h=Tl(o,e);return fR(n,o,new ry(XN(u),h,t))}return[]}(n.serverSyncTree_,s,h,i)}else if(r){const h=(0,Z.UI)(t,p=>os(p));o=function wae(n,e,t){const r=Ti.fromObject(t);return fx(n,new dx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,h)}else{const h=os(t);o=EC(n.serverSyncTree_,s,h)}let u=s;o.length>0&&(u=gx(n,s)),td(n.eventQueue_,u,o)}function ZV(n,e){TR(n,"connected",e),!1===e&&function Kae(n){px(n,"onDisconnectEvents");const e=DC(n),t=z2();KN(n.onDisconnect_,Or(),(i,s)=>{const o=BV(i,s,n.serverSyncTree_,e);ux(t,i,o)});let r=[];KN(t,Or(),(i,s)=>{r=r.concat(EC(n.serverSyncTree_,i,s));const o=IR(n,i);gx(n,o)}),n.onDisconnect_=z2(),td(n.eventQueue_,Or(),r)}(n)}function TR(n,e,t){const r=new jr("/.info/"+e),i=os(t);n.infoData_.updateSnapshot(r,i);const s=EC(n.infoSyncTree_,r,i);td(n.eventQueue_,r,s)}function dk(n){return n.nextWriteId_++}function CR(n,e,t,r,i){px(n,"set",{path:e.toString(),value:t,priority:r});const s=DC(n),o=os(t,r),u=ik(n.serverSyncTree_,e),h=mR(o,u,s),p=dk(n),_=cR(n.serverSyncTree_,e,h,p,!0);uk(n.eventQueue_,_),n.server_.put(e.toString(),o.val(!0),(E,C)=>{const I="ok"===E;I||Ua("set at "+e+" failed: "+E);const D=Cm(n.serverSyncTree_,p,!I);td(n.eventQueue_,e,D),Sm(0,i,E,C)});const w=IR(n,e);gx(n,w),td(n.eventQueue_,w,[])}function Yae(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&ZN(n.onDisconnect_,e),Sm(0,t,r,i)})}function KV(n,e,t,r){const i=os(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&ux(n.onDisconnect_,e,i),Sm(0,r,s,o)})}function SR(n,e,t){let r;r=".info"===rr(e._path)?uR(n.infoSyncTree_,e,t):uR(n.serverSyncTree_,e,t),bR(n.eventQueue_,e._path,r)}function YV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(WV)}function px(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Zo(t,...e)}function Sm(n,e,t,r){e&&ix(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function AR(n,e,t){return ik(n.serverSyncTree_,e,t)||Yn.EMPTY_NODE}function hk(n,e=n.transactionQueueTree_){if(e||fk(n,e),oy(e)){const t=XV(n,e);(0,Z.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function nle(n,e,t){const r=t.map(p=>p.currentWriteId),i=AR(n,e,r);let s=i;const o=i.hash();for(let p=0;p<t.length;p++){const _=t[p];(0,Z.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const w=Tl(e,_.path);s=s.updateChild(w,_.currentOutputSnapshotRaw)}const u=s.val(!0),h=e;n.server_.put(h.toString(),u,p=>{px(n,"transaction put response",{path:h.toString(),status:p});let _=[];if("ok"===p){const w=[];for(let E=0;E<t.length;E++)t[E].status=2,_=_.concat(Cm(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&w.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();fk(n,ak(n.transactionQueueTree_,e)),hk(n,n.transactionQueueTree_),td(n.eventQueue_,e,_);for(let E=0;E<w.length;E++)ix(w[E])}else{if("datastale"===p)for(let w=0;w<t.length;w++)t[w].status=3===t[w].status?4:0;else{Ua("transaction at "+h.toString()+" failed: "+p);for(let w=0;w<t.length;w++)t[w].status=4,t[w].abortReason=p}gx(n,e)}},o)}(n,TC(e),t)}else UV(e)&&lk(e,t=>{hk(n,t)})}function gx(n,e){const t=QV(n,e),r=TC(t);return function rle(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],p=Tl(t,h.path);let w,_=!1;if((0,Z.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)_=!0,w=h.abortReason,i=i.concat(Cm(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)_=!0,w="maxretry",i=i.concat(Cm(n.serverSyncTree_,h.currentWriteId,!0));else{const E=AR(n,h.path,o);h.currentInputSnapshot=E;const C=e[u].update(E.val());if(void 0!==C){SC("transaction failed: Data returned ",C,h.path);let I=os(C);"object"==typeof C&&null!=C&&(0,Z.r3)(C,".priority")||(I=I.updatePriority(E.getPriority()));const M=h.currentWriteId,j=DC(n),z=mR(I,E,j);h.currentOutputSnapshotRaw=I,h.currentOutputSnapshotResolved=z,h.currentWriteId=dk(n),o.splice(o.indexOf(M),1),i=i.concat(cR(n.serverSyncTree_,h.path,z,h.currentWriteId,h.applyLocally)),i=i.concat(Cm(n.serverSyncTree_,M,!0))}else _=!0,w="nodata",i=i.concat(Cm(n.serverSyncTree_,h.currentWriteId,!0))}td(n.eventQueue_,t,i),i=[],_&&(e[u].status=2,setTimeout(e[u].unwatcher,Math.floor(0)),e[u].onComplete&&r.push("nodata"===w?()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot):()=>e[u].onComplete(new Error(w),!1,null)))}fk(n,n.transactionQueueTree_);for(let u=0;u<r.length;u++)ix(r[u]);hk(n,n.transactionQueueTree_)}(n,XV(n,t),r),r}function QV(n,e){let t,r=n.transactionQueueTree_;for(t=rr(e);null!==t&&void 0===oy(r);)r=ak(r,t),t=rr(e=hi(e));return r}function XV(n,e){const t=[];return JV(n,e,t),t.sort((r,i)=>r.order-i.order),t}function JV(n,e,t){const r=oy(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);lk(e,i=>{JV(n,i,t)})}function fk(n,e){const t=oy(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,yR(e,t.length>0?t:void 0)}lk(e,r=>{fk(n,r)})}function IR(n,e){const t=TC(QV(n,e)),r=ak(n.transactionQueueTree_,e);return function Fae(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{DR(n,i)}),DR(n,r),VV(r,i=>{DR(n,i)}),t}function DR(n,e){const t=oy(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,Z.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,Z.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Cm(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?yR(e,void 0):t.length=s+1,td(n.eventQueue_,TC(e),i);for(let o=0;o<r.length;o++)ix(r[o])}}const kR=function(n,e){const t=ole(n),r=t.namespace;return"firebase.com"===t.domain&&Tf(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Tf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ua("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kN(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new jr(t.pathString)}},ole=function(n){let e="",t="",r="",i="",s="",o=!0,u="https",h=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(u=n.substring(0,p-1),n=n.substring(p+2));let _=n.indexOf("/");-1===_&&(_=n.length);let w=n.indexOf("?");-1===w&&(w=n.length),e=n.substring(0,Math.min(_,w)),_<w&&(i=function ile(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(_,w)));const E=function sle(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ua(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,w)));p=e.indexOf(":"),p>=0?(o="https"===u||"wss"===u,h=parseInt(e.substring(p+1),10)):p=e.length;const C=e.slice(0,p);if("localhost"===C.toLowerCase())t="localhost";else if(C.split(".").length<=2)t=C;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),t=e.substring(I+1),s=r}"ns"in E&&(s=E.ns)}return{host:e,port:h,domain:t,subdomain:r,secure:o,scheme:u,pathString:i,namespace:s}};class e7{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Z.Pz)(this.snapshot.exportVal())}}class t7{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class n7{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,Z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class r7{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Z.BH;return Yae(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ed("OnDisconnect.remove",this._path);const e=new Z.BH;return KV(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ed("OnDisconnect.set",this._path),Af("OnDisconnect.set",e,this._path,!1);const t=new Z.BH;return KV(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ed("OnDisconnect.setWithPriority",this._path),Af("OnDisconnect.setWithPriority",e,this._path,!1),ER("OnDisconnect.setWithPriority",t,!1);const r=new Z.BH;return function Qae(n,e,t,r,i){const s=os(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,u)=>{"ok"===o&&ux(n.onDisconnect_,e,s),Sm(0,i,o,u)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){ed("OnDisconnect.update",this._path),jV("OnDisconnect.update",e,this._path,!1);const t=new Z.BH;return function Xae(n,e,t,r){if((0,Z.xb)(t))return Zo("onDisconnect().update() called with empty data.  Don't do anything."),void Sm(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Ko(t,(o,u)=>{const h=os(u);ux(n.onDisconnect_,$i(e,o),h)}),Sm(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class dc{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ir(this._path)?null:RN(this._path)}get ref(){return new nd(this._repo,this._path)}get _queryIdentifier(){const e=lV(this._queryParams),t=AN(e);return"{}"===t?"default":t}get _queryObject(){return lV(this._queryParams)}isEqual(e){if(!((e=(0,Z.m9)(e))instanceof dc))return!1;const t=this._repo===e._repo,r=LN(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Kse(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function pk(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Am(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Sf){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==cg)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Cf)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===bi){if(null!=e&&!CC(e)||null!=t&&!CC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Z.hu)(n.getIndex()instanceof jN||n.getIndex()===GN,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nd extends dc{constructor(e,t){super(e,t,new $2,!1)}get parent(){const e=q5(this._path);return null===e?null:new nd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ay{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new jr(e),r=ly(this.ref,e);return new ay(this._node.getChild(t),r,bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new ay(i,ly(this.ref,r),bi)))}hasChild(e){const t=new jr(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function i7(n,e){return(n=(0,Z.m9)(n))._checkNotDeleted("ref"),void 0!==e?ly(n._root,e):n._root}function s7(n,e){(n=(0,Z.m9)(n))._checkNotDeleted("refFromURL");const t=kR(e,n._repo.repoInfo_.nodeAdmin);GV("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Tf("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),i7(n,t.path.toString())}function ly(n,e){return null===rr((n=(0,Z.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),IC("child","path",t,!1)):IC("child","path",e,!1),new nd(n._repo,$i(n._path,e));var t}function PR(n,e){n=(0,Z.m9)(n),ed("set",n._path),Af("set",e,n._path,!1);const t=new Z.BH;return CR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function dle(n,e){jV("update",e,n._path,!1);const t=new Z.BH;return function Zae(n,e,t,r){px(n,"update",{path:e.toString(),value:t});let i=!0;const s=DC(n),o={};if(Ko(t,(u,h)=>{i=!1,o[u]=BV($i(e,u),os(h),n.serverSyncTree_,s)}),i)Zo("update() called with empty data.  Don't do anything."),Sm(0,r,"ok",void 0);else{const u=dk(n),h=function yae(n,e,t,r){!function Roe(n,e,t,r){(0,Z.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=eR(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Ti.fromObject(t);return fx(n,new dx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,u);uk(n.eventQueue_,h),n.server_.merge(e.toString(),t,(p,_)=>{const w="ok"===p;w||Ua("update at "+e+" failed: "+p);const E=Cm(n.serverSyncTree_,u,!w),C=E.length>0?gx(n,e):e;td(n.eventQueue_,C,E),Sm(0,r,p,_)}),Ko(t,p=>{const _=IR(n,$i(e,p));gx(n,_)}),td(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function hle(n){return function zae(n,e){const t=function Cae(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(p,_)=>{const w=Tl(p,t);r=r||bm(_,w)});let i=n.syncPointTree_.get(t);i?r=r||bm(i,Or()):(i=new AV,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,o=s?new xm(r,!0,!1):null;return function aae(n){return Y2(n.viewCache_)}(IV(i,e,Q2(n.pendingWriteTree_,e._path),s?o.getNode():Yn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const i=os(r).withIndex(e._queryParams.getIndex()),s=EC(n.serverSyncTree_,e._path,i);return bR(n.eventQueue_,e._path,s),Promise.resolve(i)},r=>(px(n,"get for query "+(0,Z.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,Z.m9)(n))._repo,n).then(e=>new ay(e,new nd(n._repo,n._path),n._queryParams.getIndex()))}class mk{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new e7("value",this,new ay(e.snapshotNode,new nd(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new t7(this,e,t):null}matches(e){return e instanceof mk&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _k{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new t7(this,e,t):null}createEvent(e,t){(0,Z.hu)(null!=e.childName,"Child events should have a childName.");const r=ly(new nd(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new e7(e.type,this,new ay(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof _k&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function kC(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const h=t,p=(_,w)=>{SR(n._repo,n,u),h(_,w)};p.userCallback=t.userCallback,p.context=t.context,t=p}const o=new n7(t,s||void 0),u="value"===e?new mk(o):new _k(e,o);return function Jae(n,e,t){let r;r=".info"===rr(e._path)?MV(n.infoSyncTree_,e,t):MV(n.serverSyncTree_,e,t),bR(n.eventQueue_,e._path,r)}(n._repo,n,u),()=>SR(n._repo,n,u)}function OR(n,e,t,r){return kC(n,"value",e,t,r)}function o7(n,e,t,r){return kC(n,"child_added",e,t,r)}function a7(n,e,t,r){return kC(n,"child_changed",e,t,r)}function l7(n,e,t,r){return kC(n,"child_moved",e,t,r)}function c7(n,e,t,r){return kC(n,"child_removed",e,t,r)}function u7(n,e,t){let r=null;const i=t?new n7(t):null;"value"===e?r=new mk(i):e&&(r=new _k(e,i)),SR(n._repo,n,r)}class oh{}class d7 extends oh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Af("endAt",this._value,e._path,!0);const t=zN(e._queryParams,this._value,this._key);if(gk(t),Am(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new dc(e._repo,e._path,t,e._orderByCalled)}}class ple extends oh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Af("endBefore",this._value,e._path,!1);const t=function boe(n,e,t){let r,i;return n.index_===Sf?("string"==typeof e&&(e=sV(e)),i=zN(n,e,t)):(r=null==t?cg:sV(t),i=zN(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(gk(t),Am(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new dc(e._repo,e._path,t,e._orderByCalled)}}class h7 extends oh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Af("startAt",this._value,e._path,!0);const t=qN(e._queryParams,this._value,this._key);if(gk(t),Am(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new dc(e._repo,e._path,t,e._orderByCalled)}}class _le extends oh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Af("startAfter",this._value,e._path,!1);const t=function Eoe(n,e,t){let r;if(n.index_===Sf)"string"==typeof e&&(e=iV(e)),r=qN(n,e,t);else{let i;i=null==t?Cf:iV(t),r=qN(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(gk(t),Am(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new dc(e._repo,e._path,t,e._orderByCalled)}}class yle extends oh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new dc(e._repo,e._path,function woe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class xle extends oh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new dc(e._repo,e._path,function xoe(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class ble extends oh{constructor(e){super(),this._path=e}_apply(e){pk(e,"orderByChild");const t=new jr(this._path);if(ir(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new jN(t),i=W2(e._queryParams,r);return Am(i),new dc(e._repo,e._path,i,!0)}}class Cle extends oh{_apply(e){pk(e,"orderByKey");const t=W2(e._queryParams,Sf);return Am(t),new dc(e._repo,e._path,t,!0)}}class Ale extends oh{_apply(e){pk(e,"orderByPriority");const t=W2(e._queryParams,bi);return Am(t),new dc(e._repo,e._path,t,!0)}}class Dle extends oh{_apply(e){pk(e,"orderByValue");const t=W2(e._queryParams,GN);return Am(t),new dc(e._repo,e._path,t,!0)}}class Ple extends oh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Af("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new d7(this._value,this._key)._apply(new h7(this._value,this._key)._apply(e))}}function ah(n,...e){let t=(0,Z.m9)(n);for(const r of e)t=r._apply(t);return t}(function dae(n){(0,Z.hu)(!tk,"__referenceConstructor has already been defined"),tk=n})(nd),function mae(n){(0,Z.hu)(!rk,"__referenceConstructor has already been defined"),rk=n}(nd);const MR={};function p7(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Tf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zo("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,p,o=kR(s,i),u=o.repoInfo;"undefined"!=typeof process&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(h=!0,s=`http://${p}?ns=${u.namespace}`,o=kR(s,i),u=o.repoInfo):h=!o.repoInfo.secure;const _=i&&h?new uC(uC.OWNER):new Tse(n.name,n.options,e);GV("Invalid Firebase Database URL",o),ir(o.path)||Tf("Database URL must point to the root of a Firebase Database (not including a child path).");const w=function Rle(n,e,t,r){let i=MR[e.name];i||(i={},MR[e.name]=i);let s=i[n.toURLString()];return s&&Tf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $ae(n,false,t,r),i[n.toURLString()]=s,s}(u,n,_,new bse(n.name,t));return new Ble(w,n)}class Ble{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Wae(n,e,t){if(n.stats_=MN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new q2(n.repoInfo_,(r,i,s,o)=>{zV(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ZV(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Z.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ny(n.repoInfo_,e,(r,i,s,o)=>{zV(n,r,i,s,o)},r=>{ZV(n,r)},r=>{!function qae(n,e){Ko(e,(t,r)=>{TR(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Ase(n,e){const t=n.toString();return ON[t]||(ON[t]=e()),ON[t]}(n.repoInfo_,()=>new Doe(n.stats_,n.server_)),n.infoData_=new Toe,n.infoSyncTree_=new OV({startListening:(r,i,s,o)=>{let u=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(u=EC(n.infoSyncTree_,r._path,h),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),TR(n,"connected",!1),n.serverSyncTree_=new OV({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(u,h)=>{const p=o(u,h);td(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nd(this._repo,Or())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Nle(n,e){const t=MR[e];(!t||t[n.key]!==n)&&Tf(`Database ${e}(${n.repoInfo_}) has already been deleted.`),YV(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Tf("Cannot call "+e+" on a deleted database.")}}function g7(){F5.IS_TRANSPORT_INITIALIZED&&Ua("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ule(){g7(),ym.forceDisallow()}function Vle(){g7(),sx.forceDisallow(),ym.forceAllow()}function $le(n,e){p5(n,e)}const qle={".sv":"timestamp"};class Kle{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ny.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},ny.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Wle(n){c5(Lo.SDK_VERSION),(0,Lo._registerComponent)(new Fc.wA("database",(e,{instanceIdentifier:t})=>p7(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(a5,"0.13.0",n),(0,Lo.registerVersion)(a5,"0.13.0","esm2017")}();const Jle=new Nc.Yd("@firebase/database-compat"),m7=function(n){Jle.warn("FIREBASE WARNING: "+n)};class nce{constructor(e){this._delegate=e}cancel(e){(0,Z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,Z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,Z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Z.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,Z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Z.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,Z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,m7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Z.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class rce{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,Z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Im{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,Z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,Z.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),IC("DataSnapshot.child","path",e,!1),new Im(this._database,this._delegate.child(e))}hasChild(e){return(0,Z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),IC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,Z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,Z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Z.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Im(this._database,t)))}hasChildren(){return(0,Z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Z.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class da{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,Z.Dv)("Query.on",2,4,arguments.length),(0,Z.Wj)("Query.on","callback",t,!1);const o=da.getCancelAndContextArgs_("Query.on",r,i),u=(p,_)=>{t.call(o.context,new Im(this.database,p),_)};u.userCallback=t,u.context=o.context;const h=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return OR(this._delegate,u,h),t;case"child_added":return o7(this._delegate,u,h),t;case"child_removed":return c7(this._delegate,u,h),t;case"child_changed":return a7(this._delegate,u,h),t;case"child_moved":return l7(this._delegate,u,h),t;default:throw new Error((0,Z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,Z.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Z.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,Z.Wj)("Query.off","callback",t,!0),(0,Z.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,u7(this._delegate,e,i)}else u7(this._delegate,e)}get(){return hle(this._delegate).then(e=>new Im(this.database,e))}once(e,t,r,i){(0,Z.Dv)("Query.once",1,4,arguments.length),(0,Z.Wj)("Query.once","callback",t,!0);const s=da.getCancelAndContextArgs_("Query.once",r,i),o=new Z.BH,u=(p,_)=>{const w=new Im(this.database,p);t&&t.call(s.context,w,_),o.resolve(w)};u.userCallback=t,u.context=s.context;const h=p=>{s.cancel&&s.cancel.call(s.context,p),o.reject(p)};switch(e){case"value":OR(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":o7(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":c7(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":a7(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":l7(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,Z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,Z.Dv)("Query.limitToFirst",1,1,arguments.length),new da(this.database,ah(this._delegate,function wle(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yle(n)}(e)))}limitToLast(e){return(0,Z.Dv)("Query.limitToLast",1,1,arguments.length),new da(this.database,ah(this._delegate,function Ele(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xle(n)}(e)))}orderByChild(e){return(0,Z.Dv)("Query.orderByChild",1,1,arguments.length),new da(this.database,ah(this._delegate,function Tle(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return IC("orderByChild","path",n,!1),new ble(n)}(e)))}orderByKey(){return(0,Z.Dv)("Query.orderByKey",0,0,arguments.length),new da(this.database,ah(this._delegate,function Sle(){return new Cle}()))}orderByPriority(){return(0,Z.Dv)("Query.orderByPriority",0,0,arguments.length),new da(this.database,ah(this._delegate,function Ile(){return new Ale}()))}orderByValue(){return(0,Z.Dv)("Query.orderByValue",0,0,arguments.length),new da(this.database,ah(this._delegate,function kle(){return new Dle}()))}startAt(e=null,t){return(0,Z.Dv)("Query.startAt",0,2,arguments.length),new da(this.database,ah(this._delegate,function mle(n=null,e){return AC("startAt","key",e,!0),new h7(n,e)}(e,t)))}startAfter(e=null,t){return(0,Z.Dv)("Query.startAfter",0,2,arguments.length),new da(this.database,ah(this._delegate,function vle(n,e){return AC("startAfter","key",e,!0),new _le(n,e)}(e,t)))}endAt(e=null,t){return(0,Z.Dv)("Query.endAt",0,2,arguments.length),new da(this.database,ah(this._delegate,function fle(n,e){return AC("endAt","key",e,!0),new d7(n,e)}(e,t)))}endBefore(e=null,t){return(0,Z.Dv)("Query.endBefore",0,2,arguments.length),new da(this.database,ah(this._delegate,function gle(n,e){return AC("endBefore","key",e,!0),new ple(n,e)}(e,t)))}equalTo(e,t){return(0,Z.Dv)("Query.equalTo",1,2,arguments.length),new da(this.database,ah(this._delegate,function Ole(n,e){return AC("equalTo","key",e,!0),new Ple(n,e)}(e,t)))}toString(){return(0,Z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,Z.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof da))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,Z.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,Z.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,Z.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Xc(this.database,new nd(this._delegate._repo,this._delegate._path))}}class Xc extends da{constructor(e,t){super(e,new dc(t._repo,t._path,new $2,!1)),this.database=e,this._delegate=t}getKey(){return(0,Z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,Z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Xc(this.database,ly(this._delegate,e))}getParent(){(0,Z.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Xc(this.database,e):null}getRoot(){return(0,Z.Dv)("Reference.root",0,0,arguments.length),new Xc(this.database,this._delegate.root)}set(e,t){(0,Z.Dv)("Reference.set",1,2,arguments.length),(0,Z.Wj)("Reference.set","onComplete",t,!0);const r=PR(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,Z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,m7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ed("Reference.update",this._delegate._path),(0,Z.Wj)("Reference.update","onComplete",t,!0);const r=dle(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,Z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Z.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function ule(n,e,t){if(ed("setWithPriority",n._path),Af("setWithPriority",e,n._path,!1),ER("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new Z.BH;return CR(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,Z.Dv)("Reference.remove",0,1,arguments.length),(0,Z.Wj)("Reference.remove","onComplete",e,!0);const t=function lle(n){return ed("remove",n._path),PR(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,Z.Dv)("Reference.transaction",1,3,arguments.length),(0,Z.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,Z.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,Z.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Yle(n,e,t){var r;if(n=(0,Z.m9)(n),ed("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new Z.BH,u=OR(n,()=>{});return function tle(n,e,t,r,i,s){px(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:d5(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=AR(n,e,void 0);o.currentInputSnapshot=u;const h=o.update(u.val());if(void 0===h)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{SC("transaction failed: Data returned ",h,o.path),o.status=0;const p=ak(n.transactionQueueTree_,e),_=oy(p)||[];let w;_.push(o),yR(p,_),"object"==typeof h&&null!==h&&(0,Z.r3)(h,".priority")?(w=(0,Z.DV)(h,".priority"),(0,Z.hu)(CC(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):w=(ik(n.serverSyncTree_,e)||Yn.EMPTY_NODE).getPriority().val();const E=DC(n),C=os(h,w),I=mR(C,u,E);o.currentOutputSnapshotRaw=C,o.currentOutputSnapshotResolved=I,o.currentWriteId=dk(n);const D=cR(n.serverSyncTree_,e,I,o.currentWriteId,o.applyLocally);td(n.eventQueue_,e,D),hk(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(h,p,_)=>{let w=null;h?s.reject(h):(w=new ay(_,new nd(n._repo,n._path),bi),s.resolve(new Kle(p,w)))},u,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new rce(s.committed,new Im(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,Z.Dv)("Reference.setPriority",1,2,arguments.length),(0,Z.Wj)("Reference.setPriority","onComplete",t,!0);const r=function cle(n,e){n=(0,Z.m9)(n),ed("setPriority",n._path),ER("setPriority",e,!1);const t=new Z.BH;return CR(n._repo,$i(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,Z.Dv)("Reference.push",0,2,arguments.length),(0,Z.Wj)("Reference.push","onComplete",t,!0);const r=function ale(n,e){n=(0,Z.m9)(n),ed("push",n._path),Af("push",e,n._path,!0);const t=qV(n._repo),r=moe(t),i=ly(n,r),s=ly(n,r);let o;return o=null!=e?PR(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new Xc(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new Xc(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return ed("Reference.onDisconnect",this._delegate._path),new nce(new r7(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class PC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ule,forceLongPolling:Vle}}useEmulator(e,t,r={}){!function Hle(n,e,t,r={}){(n=(0,Z.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Tf("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Tf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new uC(uC.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,Z.Sg)(r.mockUserToken,n.app.options.projectId);s=new uC(o)}!function Fle(n,e,t,r){n.repoInfo_=new kN(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,Z.Dv)("database.ref",0,1,arguments.length),e instanceof Xc){const t=s7(this._delegate,e.toString());return new Xc(this,t)}{const t=i7(this._delegate,e);return new Xc(this,t)}}refFromURL(e){(0,Z.Dv)("database.refFromURL",1,1,arguments.length);const r=s7(this._delegate,e);return new Xc(this,r)}goOffline(){return(0,Z.Dv)("database.goOffline",0,0,arguments.length),function jle(n){(n=(0,Z.m9)(n))._checkNotDeleted("goOffline"),YV(n._repo)}(this._delegate)}goOnline(){return(0,Z.Dv)("database.goOnline",0,0,arguments.length),function Gle(n){(n=(0,Z.m9)(n))._checkNotDeleted("goOnline"),function ele(n){n.persistentConnection_&&n.persistentConnection_.resume(WV)}(n._repo)}(this._delegate)}}PC.ServerValue={TIMESTAMP:function zle(){return qle}(),increment:n=>function Zle(n){return{".sv":{increment:n}}}(n)};var sce=Object.freeze({__proto__:null,initStandalone:function ice({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){c5(t);const o=new Fc.zt("auth-internal",new Fc.H0("database-standalone"));return o.setComponent(new Fc.wA("auth-internal",()=>r,"PRIVATE")),{instance:new PC(p7(n,o,void 0,e,s),n),namespace:i}}});const oce=PC.ServerValue;function _7(n){return null==n}function v7(n){return"function"==typeof n.set}function y7(n,e){return v7(e)?e:n.ref(e)}function w7(n,e){if(function lce(n){return"string"==typeof n}(n))return e.stringCase();if(v7(n))return e.firebaseCase();if(function cce(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function OC(n,e,t="on",r=Yg.z){return new A.y(i=>{let s=null;return s=n[t](e,(o,u)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:u})}),"once"===t&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Yt.U)(i=>{const{snapshot:s,prevKey:o}=i;let u=null;return s.exists()&&(u=s.key),{type:e,payload:s,prevKey:o,key:u}}),(0,F3.B)())}function x7(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function hce(n,e){const{payload:t,prevKey:r,key:i}=e,s=x7(n,i),o=function dce(n,e){if(_7(e))return 0;{const t=x7(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let u=null;e.payload.forEach(h=>{const p={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,p],!1})}return n;case"child_added":if(s>-1){const u=n[s-1];(u&&u.key||null)!==r&&(n=n.filter(h=>h.payload.key!==t.key)).splice(o,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(o,0,e)}return n;case"child_removed":return n.filter(u=>u.payload.key!==t.key);case"child_changed":return n.map(u=>u.payload.key===i?e:u);case"child_moved":if(s>-1){const u=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,u),n}return n;default:return n}}function E7(n){return(_7(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function b7(n,e,t){return function uce(n,e,t){return OC(n,"value","once",t).pipe(li(r=>{const i=[un(r)];return e.forEach(s=>i.push(OC(n,s,"on",t))),(0,Ow.T)(...i).pipe(Mo(hce,[]))}),qx())}(n,e=E7(e),t)}function T7(n,e,t){const r=(e=E7(e)).map(i=>OC(n,i,"on",t));return(0,Ow.T)(...r)}function C7(n,e){return function(r,i){return w7(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function mce(n){return function(t){return t?w7(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function S7(n,e){return function(){return OC(n,"value","on",e)}}!function ace(n){n.INTERNAL.registerComponent(new Fc.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new PC(i,r)},"PUBLIC").setServiceProps({Reference:Xc,Query:da,Database:PC,DataSnapshot:Im,enableLogging:$le,INTERNAL:sce,ServerValue:oce}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}($y.Z);const yce=new c.OlP("angularfire2.realtimeDatabaseURL"),wce=new c.OlP("angularfire2.database.use-emulator");let xce=(()=>{class n{constructor(t,r,i,s,o,u,h,p,_,w,E,C,I,D,M){this.schedulers=u;const j=h,z=(0,ms.on)(t,o,r);p&&DM(z,o,_,E,C,I,w,D),this.database=(0,ms.cc)(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{const V=o.runOutsideAngular(()=>z.database(i||void 0));return j&&V.useEmulator(...j),V},[j])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>y7(this.database,t));let s=i;return r&&(s=r(i)),function _ce(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:C7(r,"update"),set:C7(r,"set"),push:i=>r.push(i),remove:mce(r),snapshotChanges:i=>b7(n,i,t).pipe(Sr.iC),stateChanges:i=>T7(n,i,t).pipe(Sr.iC),auditTrail:i=>function fce(n,e,t){return function gce(n,e,t){return function pce(n,e){return OC(n,"value","on",e).pipe((0,Yt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function dse(...n){const e=(0,$l.jO)(n);return(0,ai.e)((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),u=!1;for(let h=0;h<i;h++)(0,Ac.Xf)(n[h]).subscribe((0,Wr.x)(r,p=>{s[h]=p,!u&&!o[h]&&(o[h]=!0,(u=o.every(ti.y))&&(o=null))},R8.Z));t.subscribe((0,Wr.x)(r,h=>{if(u){const p=[h,...s];r.next(e?e(...p):p)}}))})}(e),(0,Yt.U)(([i,s])=>{const o=i.lastKeyToLoad,u=s.map(h=>h.key);return{actions:s,lastKeyToLoad:o,loadedKeys:u}}),function hse(n){return(0,ai.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,Wr.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,Yt.U)(i=>i.actions))}(n,T7(n,e).pipe(Mo((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(Sr.iC),valueChanges:(i,s)=>b7(n,i,t).pipe((0,Yt.U)(u=>u.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),Sr.iC)}}(s,this)}object(t){return function vce(n,e){return{query:n,snapshotChanges:()=>S7(n,e.schedulers.outsideAngular)().pipe(Sr.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>S7(n,e.schedulers.outsideAngular)().pipe(Sr.iC,(0,Yt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>y7(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ms.Dh),c.LFG(ms.xv,8),c.LFG(yce,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Sr.HU),c.LFG(wce,8),c.LFG(Mw,8),c.LFG(bM,8),c.LFG(TM,8),c.LFG(CM,8),c.LFG(SM,8),c.LFG(AM,8),c.LFG(IM,8),c.LFG(gT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ece=(()=>{class n{constructor(){PD.Z.registerVersion("angularfire",Sr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[xce]}),n})();class A7{}class I7{}class dg{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dg;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dg?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(u=>-1===s.indexOf(u)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class bce{encodeKey(e){return D7(e)}encodeValue(e){return D7(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Cce=/%(\d[a-f0-9])/gi,Sce={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function D7(n){return encodeURIComponent(n).replace(Cce,(e,t)=>{var r;return null!==(r=Sce[t])&&void 0!==r?r:e})}function k7(n){return`${n}`}class Dm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,u]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],h=t.get(o)||[];h.push(u),t.set(o,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Dm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(k7(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(k7(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ace{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function P7(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function O7(n){return"undefined"!=typeof Blob&&n instanceof Blob}function M7(n){return"undefined"!=typeof FormData&&n instanceof FormData}class MC{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ice(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new dg),this.context||(this.context=new Ace),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+o}}else this.params=new Dm,this.urlWithParams=t}serializeBody(){return null===this.body?null:P7(this.body)||O7(this.body)||M7(this.body)||function Dce(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Dm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||M7(this.body)?null:O7(this.body)?this.body.type||null:P7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const w=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((E,C)=>E.set(C,e.setHeaders[C]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((E,C)=>E.set(C,e.setParams[C]),_)),new MC(r,i,o,{params:_,headers:p,context:w,reportProgress:h,responseType:s,withCredentials:u})}}var lo=(()=>((lo=lo||{})[lo.Sent=0]="Sent",lo[lo.UploadProgress=1]="UploadProgress",lo[lo.ResponseHeader=2]="ResponseHeader",lo[lo.DownloadProgress=3]="DownloadProgress",lo[lo.Response=4]="Response",lo[lo.User=5]="User",lo))();class FR{constructor(e,t=200,r="OK"){this.headers=e.headers||new dg,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class NR extends FR{constructor(e={}){super(e),this.type=lo.ResponseHeader}clone(e={}){return new NR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vk extends FR{constructor(e={}){super(e),this.type=lo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vk({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class F7 extends FR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function RR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kce=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof MC)s=t;else{let h,p;h=i.headers instanceof dg?i.headers:new dg(i.headers),i.params&&(p=i.params instanceof Dm?i.params:new Dm({fromObject:i.params})),s=new MC(t,r,void 0!==i.body?i.body:null,{headers:h,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=un(s).pipe(ia(h=>this.handler.handle(h)));if(t instanceof MC||"events"===i.observe)return o;const u=o.pipe(Ai(h=>h instanceof vk));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,Yt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,Yt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,Yt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,Yt.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Dm).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,RR(i,r))}post(t,r,i={}){return this.request("POST",t,RR(i,r))}put(t,r,i={}){return this.request("PUT",t,RR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(A7))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class N7{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const R7=new c.OlP("HTTP_INTERCEPTORS");let Pce=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Oce=/^\)\]\}',?\n/;let L7=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new A.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((C,I)=>i.setRequestHeader(C,I.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&i.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();i.responseType="json"!==C?C:"text"}const s=t.serializeBody();let o=null;const u=()=>{if(null!==o)return o;const C=i.statusText||"OK",I=new dg(i.getAllResponseHeaders()),D=function Mce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new NR({headers:I,status:i.status,statusText:C,url:D}),o},h=()=>{let{headers:C,status:I,statusText:D,url:M}=u(),j=null;204!==I&&(j=void 0===i.response?i.responseText:i.response),0===I&&(I=j?200:0);let z=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof j){const V=j;j=j.replace(Oce,"");try{j=""!==j?JSON.parse(j):null}catch(oe){j=V,z&&(z=!1,j={error:oe,text:j})}}z?(r.next(new vk({body:j,headers:C,status:I,statusText:D,url:M||void 0})),r.complete()):r.error(new F7({error:j,headers:C,status:I,statusText:D,url:M||void 0}))},p=C=>{const{url:I}=u(),D=new F7({error:C,status:i.status||0,statusText:i.statusText||"Unknown Error",url:I||void 0});r.error(D)};let _=!1;const w=C=>{_||(r.next(u()),_=!0);let I={type:lo.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(I.total=C.total),"text"===t.responseType&&!!i.responseText&&(I.partialText=i.responseText),r.next(I)},E=C=>{let I={type:lo.UploadProgress,loaded:C.loaded};C.lengthComputable&&(I.total=C.total),r.next(I)};return i.addEventListener("load",h),i.addEventListener("error",p),i.addEventListener("timeout",p),i.addEventListener("abort",p),t.reportProgress&&(i.addEventListener("progress",w),null!==s&&i.upload&&i.upload.addEventListener("progress",E)),i.send(s),r.next({type:lo.Sent}),()=>{i.removeEventListener("error",p),i.removeEventListener("abort",p),i.removeEventListener("load",h),i.removeEventListener("timeout",p),t.reportProgress&&(i.removeEventListener("progress",w),null!==s&&i.upload&&i.upload.removeEventListener("progress",E)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const LR=new c.OlP("XSRF_COOKIE_NAME"),BR=new c.OlP("XSRF_HEADER_NAME");class B7{}let Fce=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(c.Lbi),c.LFG(LR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),UR=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(B7),c.LFG(BR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Nce=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(R7,[]);this.chain=r.reduceRight((i,s)=>new N7(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(I7),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Rce=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:UR,useClass:Pce}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:LR,useValue:t.cookieName}:[],t.headerName?{provide:BR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[UR,{provide:R7,useExisting:UR,multi:!0},{provide:B7,useClass:Fce},{provide:LR,useValue:"XSRF-TOKEN"},{provide:BR,useValue:"X-XSRF-TOKEN"}]}),n})(),Lce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kce,{provide:A7,useClass:Nce},L7,{provide:I7,useExisting:L7}],imports:[[Rce.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const U7="firebasestorage.googleapis.com",V7="storageBucket";class Ts extends Z.ZR{constructor(e,t){super(VR(e),`Firebase Storage: ${t} (${VR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ts.prototype)}_codeEquals(e){return VR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function VR(n){return"storage/"+n}function HR(){return new Ts("unknown","An unknown error occurred, please check the error payload for server response.")}function H7(){return new Ts("canceled","User canceled the upload/download.")}function j7(){return new Ts("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mx(n){return new Ts("invalid-argument",n)}function G7(){return new Ts("app-deleted","The Firebase app was deleted.")}function $7(n){return new Ts("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function FC(n,e){return new Ts("invalid-format","String does not match format '"+n+"': "+e)}function NC(n){throw new Ts("internal-error","Internal error: "+n)}class Va{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Va.makeFromUrl(e,t)}catch(i){return new Va(e,"")}if(""===r.path)return r;throw function zce(n){return new Ts("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+i+"(/(.*))?$","i");function p(oe){oe.path_=decodeURIComponent(oe.path)}const w=t.replace(/[.]/g,"\\."),V=[{regex:u,indices:{bucket:1,path:3},postModify:function s(oe){"/"===oe.path.charAt(oe.path.length-1)&&(oe.path_=oe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${w}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${t===U7?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<V.length;oe++){const be=V[oe],Ie=be.regex.exec(e);if(Ie){let Ae=Ie[be.indices.path];Ae||(Ae=""),r=new Va(Ie[be.indices.bucket],Ae),be.postModify(r);break}}if(null==r)throw function qce(n){return new Ts("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class Qce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yk(n){return"string"==typeof n||n instanceof String}function W7(n){return jR()&&n instanceof Blob}function jR(){return"undefined"!=typeof Blob}function GR(n,e,t,r){if(r<e)throw mx(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw mx(`Invalid value for '${n}'. Expected ${t} or less.`)}function hg(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function q7(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var km=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(km||(km={})),km))();class rue{constructor(e,t,r,i,s,o,u,h,p,_,w){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,C)=>{this.resolve_=E,this.reject_=C,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());!function eue(n){return void 0!==n}(h)?s():s(h)}catch(h){o(h)}else if(null!==u){const h=HR();h.serverResponse=u.getErrorText(),o(this.errorCallback_?this.errorCallback_(u,h):h)}else o(i.canceled?this.appDelete_?G7():H7():function Wce(){return new Ts("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wk(!1,null,!0)):this.backoffId_=function Xce(n,e,t){let r=1,i=null,s=null,o=!1,u=0;function h(){return 2===u}let p=!1;function _(...M){p||(p=!0,e.apply(null,M))}function w(M){i=setTimeout(()=>{i=null,n(C,h())},M)}function E(){s&&clearTimeout(s)}function C(M,...j){if(p)return void E();if(M)return E(),void _.call(null,M,...j);if(h()||o)return E(),void _.call(null,M,...j);let V;r<64&&(r*=2),1===u?(u=2,V=0):V=1e3*(r+Math.random()),w(V)}let I=!1;function D(M){I||(I=!0,E(),!p&&(null!==i?(M||(u=2),clearTimeout(i),w(0)):M||(u=1)))}return w(0),s=setTimeout(()=>{o=!0,D(!0)},t),D}((r,i)=>{if(i)return void r(!1,new wk(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===km.NO_ERROR,h=s.getStatus();if(!u||this.isRetryStatusCode_(h)){const _=s.getErrorCode()===km.ABORT;return void r(!1,new wk(!1,null,_))}const p=-1!==this.successCodes_.indexOf(h);r(!0,new wk(p,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Jce(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class wk{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function uue(...n){const e=function cue(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(jR())return new Blob(n);throw new Ts("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Jc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $R{constructor(e,t){this.data=e,this.contentType=t||null}}function WR(n,e){switch(n){case Jc.RAW:return new $R(z7(e));case Jc.BASE64:case Jc.BASE64URL:return new $R(Z7(n,e));case Jc.DATA_URL:return new $R(function pue(n){const e=new K7(n);return e.base64?Z7(Jc.BASE64,e.rest):function fue(n){let e;try{e=decodeURIComponent(n)}catch(t){throw FC(Jc.DATA_URL,"Malformed data URL.")}return z7(e)}(e.rest)}(e),function gue(n){return new K7(n).contentType}(e))}throw HR()}function z7(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Z7(n,e){switch(n){case Jc.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw FC(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Jc.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw FC(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function hue(n){return atob(n)}(e)}catch(i){throw FC(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class K7{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw FC(Jc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function mue(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class If{constructor(e,t){let r=0,i="";W7(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(W7(this.data_)){const i=function due(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new If(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new If(r,!0)}}static getBlob(...e){if(jR()){const t=e.map(r=>r instanceof If?r.data_:r);return new If(uue.apply(null,t))}{const t=e.map(o=>yk(o)?WR(Jc.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new If(i,!0)}}uploadData(){return this.data_}}function qR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function nue(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Y7(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function yue(n,e){return e}class Cl{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||yue}}let xk=null;function RC(){if(xk)return xk;const n=[];n.push(new Cl("bucket")),n.push(new Cl("generation")),n.push(new Cl("metageneration")),n.push(new Cl("name","fullPath",!0));const t=new Cl("name");t.xform=function e(s,o){return function wue(n){return!yk(n)||n.length<2?n:Y7(n)}(o)},n.push(t);const i=new Cl("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new Cl("timeCreated")),n.push(new Cl("updated")),n.push(new Cl("md5Hash",null,!0)),n.push(new Cl("cacheControl",null,!0)),n.push(new Cl("contentDisposition",null,!0)),n.push(new Cl("contentEncoding",null,!0)),n.push(new Cl("contentLanguage",null,!0)),n.push(new Cl("contentType",null,!0)),n.push(new Cl("metadata","customMetadata",!0)),xk=n,xk}function Q7(n,e,t){const r=qR(e);return null===r?null:function Eue(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function xue(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Va(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function zR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const X7="prefixes";class Df{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kf(n){if(!n)throw HR()}function Ek(n,e){return function t(r,i){const s=Q7(n,i,e);return kf(null!==s),s}}function _x(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Gce(){return new Ts("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function jce(){return new Ts("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Hce(n){return new Ts("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function $ce(n){return new Ts("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function LC(n){const e=_x(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Vce(n){return new Ts("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function eH(n,e,t){const i=hg(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,u=new Df(i,"GET",Ek(n,t),o);return u.errorHandler=LC(e),u}function Iue(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const u=hg(e.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,_=new Df(u,"GET",function Sue(n,e){return function t(r,i){const s=function Cue(n,e,t){const r=qR(t);return null===r?null:function Tue(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[X7])for(const i of t[X7]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new Va(e,s));r.prefixes.push(o)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new Va(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return kf(null!==s),s}}(n,e.bucket),p);return _.urlParams=s,_.errorHandler=_x(e),_}function nH(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Oue(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class bk{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function ZR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){kf(!1)}return kf(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Rue={STATE_CHANGED:"state_changed"},Sl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KR(n){switch(n){case"running":case"pausing":case"canceling":return Sl.RUNNING;case"paused":return Sl.PAUSED;case"success":return Sl.SUCCESS;case"canceled":return Sl.CANCELED;default:return Sl.ERROR}}class Lue{constructor(e,t,r){if(function tue(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function vx(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Uue extends class Bue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=km.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=km.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=km.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw NC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw NC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw NC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw NC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw NC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function lh(){return new Uue}class oH{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=RC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Mue(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=nH(e,r,i),u={name:o.fullPath},h=hg(s,n.host,n._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},w=zR(o,t),I=new Df(h,"POST",function C(D){let M;ZR(D);try{M=D.getResponseHeader("X-Goog-Upload-URL")}catch(j){kf(!1)}return kf(yk(M)),M},n.maxUploadRetryTime);return I.urlParams=u,I.headers=_,I.body=w,I.errorHandler=_x(e),I}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,lh,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Fue(n,e,t,r){const h=new Df(t,"POST",function s(p){const _=ZR(p,["active","final"]);let w=null;try{w=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch(C){kf(!1)}w||kf(!1);const E=Number(w);return kf(!isNaN(E)),new bk(E,r.size(),"final"===_)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=_x(e),h}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,lh,t,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new bk(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function Nue(n,e,t,r,i,s,o,u){const h=new bk(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw function Kce(){return new Ts("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let _=p;i>0&&(_=Math.min(_,i));const w=h.current,I={"X-Goog-Upload-Command":_===p?"upload, finalize":"upload","X-Goog-Upload-Offset":`${h.current}`},D=r.slice(w,w+_);if(null===D)throw j7();const V=new Df(t,"POST",function M(oe,be){const Ie=ZR(oe,["active","final"]),re=h.current+_,Ae=r.size();let Se;return Se="final"===Ie?Ek(e,s)(oe,be):null,new bk(re,Ae,"final"===Ie,Se)},e.maxUploadRetryTime);return V.headers=I,V.body=D.uploadData(),V.progressCallback=u||null,V.errorHandler=_x(n),V}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const u=this._ref.storage._makeRequest(o,lh,i,s);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=eH(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,lh,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function rH(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},h=function u(){let V="";for(let oe=0;oe<2;oe++)V+=Math.random().toString().slice(2);return V}();o["Content-Type"]="multipart/related; boundary="+h;const p=nH(e,r,i),_=zR(p,t),C=If.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",r,"\r\n--"+h+"--");if(null===C)throw j7();const I={name:p.fullPath},D=hg(s,n.host,n._protocol),j=n.maxUploadRetryTime,z=new Df(D,"POST",Ek(n,t),j);return z.urlParams=I,z.headers=o,z.body=C.uploadData(),z.errorHandler=_x(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,lh,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=H7(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=KR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new Lue(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(KR(this._state)){case Sl.SUCCESS:vx(this._resolve.bind(null,this.snapshot))();break;case Sl.CANCELED:case Sl.ERROR:vx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(KR(this._state)){case Sl.RUNNING:case Sl.PAUSED:e.next&&vx(e.next.bind(e,this.snapshot))();break;case Sl.SUCCESS:e.complete&&vx(e.complete.bind(e))();break;default:e.error&&vx(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class cy{constructor(e,t){this._service=e,this._location=t instanceof Va?t:Va.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cy(e,t)}get root(){const e=new Va(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y7(this._location.path)}get storage(){return this._service}get parent(){const e=function _ue(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Va(this._location.bucket,e);return new cy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw $7(e)}}function lH(n,e,t){return YR.apply(this,arguments)}function YR(){return YR=(0,et.Z)(function*(n,e,t){const i=yield cH(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield lH(n,e,i.nextPageToken))}),YR.apply(this,arguments)}function cH(n,e){null!=e&&"number"==typeof e.maxResults&&GR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Iue(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,lh)}function Que(n){n._throwIfRoot("getDownloadURL");const e=function Due(n,e,t){const i=hg(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,u=new Df(i,"GET",function Aue(n,e){return function t(r,i){const s=Q7(n,i,e);return kf(null!==s),function bue(n,e,t,r){const i=qR(e);if(null===i||!yk(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(p=>{const w=n.fullPath;return hg("/b/"+o(n.bucket)+"/o/"+o(w),t,r)+q7({alt:"media",token:p})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return u.errorHandler=LC(e),u}(n.storage,n._location,RC());return n.storage.makeRequestWithTokens(e,lh).then(t=>{if(null===t)throw function Yce(){return new Ts("no-download-url","The given file does not have any download URLs.")}();return t})}function uH(n,e){const t=function vue(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Va(n._location.bucket,t);return new cy(n.storage,r)}function dH(n,e){if(n instanceof QR){const t=n;if(null==t._bucket)throw function Zce(){return new Ts("no-default-bucket","No default bucket found. Did you set the '"+V7+"' property when initializing the app?")}();const r=new cy(t,t._bucket);return null!=e?dH(r,e):r}return void 0!==e?uH(n,e):n}function tde(n,e){if(e&&function Jue(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof QR)return function ede(n,e){return new cy(n,e)}(n,e);throw mx("To use ref(service, url), the first argument must be a Storage instance.")}return dH(n,e)}function hH(n,e){const t=null==e?void 0:e[V7];return null==t?null:Va.makeFromBucketSpec(t,n)}class QR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=U7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Va.makeFromBucketSpec(i,this._host):hH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Va.makeFromBucketSpec(this._url,e):hH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,et.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,et.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cy(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new Qce(G7());{const s=function lue(n,e,t,r,i,s){const o=q7(n.urlParams),u=n.url+o,h=Object.assign({},n.headers);return function oue(n,e){e&&(n["X-Firebase-GMPID"]=e)}(h,e),function iue(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(h,t),function sue(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(h,s),function aue(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(h,r),new rue(u,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,et.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const fH="@firebase/storage";function mH(n,e){return tde(n=(0,Z.m9)(n),e)}function hde(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new QR(t,r,i,e,Lo.SDK_VERSION)}!function fde(){(0,Lo._registerComponent)(new Fc.wA("storage",hde,"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(fH,"0.9.6",""),(0,Lo.registerVersion)(fH,"0.9.6","esm2017")}();class Tk{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _H{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Tk(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Tk(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?o=>t(new Tk(o,this,this._ref)):{next:t.next?o=>t.next(new Tk(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class vH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new fg(e,this._service))}get items(){return this._delegate.items.map(e=>new fg(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fg{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function ude(n,e){return uH(n,e)}(this._delegate,e);return new fg(t,this.storage)}get root(){return new fg(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new fg(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _H(function rde(n,e,t){return function que(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new oH(n,new If(e),t)}(n=(0,Z.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Jc.RAW,r){this._throwIfRoot("putString");const i=WR(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new _H(new oH(this._delegate,new If(i.data,!0),s),this)}listAll(){return function ade(n){return function Zue(n){const e={prefixes:[],items:[]};return lH(n,e).then(()=>e)}(n=(0,Z.m9)(n))}(this._delegate).then(e=>new vH(e,this.storage))}list(e){return function ode(n,e){return cH(n=(0,Z.m9)(n),e)}(this._delegate,e||void 0).then(t=>new vH(t,this.storage))}getMetadata(){return function ide(n){return function Kue(n){n._throwIfRoot("getMetadata");const e=eH(n.storage,n._location,RC());return n.storage.makeRequestWithTokens(e,lh)}(n=(0,Z.m9)(n))}(this._delegate)}updateMetadata(e){return function sde(n,e){return function Yue(n,e){n._throwIfRoot("updateMetadata");const t=function kue(n,e,t,r){const s=hg(e.fullServerUrl(),n.host,n._protocol),u=zR(t,r),p=n.maxOperationRetryTime,_=new Df(s,"PATCH",Ek(n,r),p);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=u,_.errorHandler=LC(e),_}(n.storage,n._location,e,RC());return n.storage.makeRequestWithTokens(t,lh)}(n=(0,Z.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function lde(n){return Que(n=(0,Z.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function cde(n){return function Xue(n){n._throwIfRoot("deleteObject");const e=function Pue(n,e){const r=hg(e.fullServerUrl(),n.host,n._protocol),u=new Df(r,"DELETE",function o(h,p){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=LC(e),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,lh)}(n=(0,Z.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw $7(e)}}class yH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(wH(e))throw mx("ref() expected a child path but got a URL, use refFromURL instead.");return new fg(mH(this._delegate,e),this)}refFromURL(e){if(!wH(e))throw mx("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Va.makeFromUrl(e,this._delegate.host)}catch(t){throw mx("refFromUrl() expected a valid full URL but got an invalid one.")}return new fg(mH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function dde(n,e,t,r={}){!function nde(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Z.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function wH(n){return/^[A-Za-z]+:\/\//.test(n)}function _de(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new yH(t,r)}function xH(n){const e=function yde(n){return new A.y(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(L8(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Yt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Ck(n){return{getDownloadURL:()=>un(void 0).pipe(Sr.fc,li(()=>n.getDownloadURL()),Sr.iC),getMetadata:()=>un(void 0).pipe(Sr.fc,li(()=>n.getMetadata()),Sr.iC),delete:()=>(0,Tr.D)(n.delete()),child:e=>Ck(n.child(e)),updateMetadata:e=>(0,Tr.D)(n.updateMetadata(e)),put:(e,t)=>xH(n.put(e,t)),putString:(e,t,r)=>xH(n.putString(e,t,r)),list:e=>(0,Tr.D)(n.list(e)),listAll:()=>(0,Tr.D)(n.listAll())}}!function vde(n){const e={TaskState:Sl,TaskEvent:Rue,StringFormat:Jc,Storage:yH,Reference:fg};n.INTERNAL.registerComponent(new Fc.wA("storage-compat",_de,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}($y.Z);const wde=new c.OlP("angularfire2.storageBucket"),xde=new c.OlP("angularfire2.storage.maxUploadRetryTime"),Ede=new c.OlP("angularfire2.storage.maxOperationRetryTime"),bde=new c.OlP("angularfire2.storage.use-emulator");let Tde=(()=>{class n{constructor(t,r,i,s,o,u,h,p,_,w){const E=(0,ms.on)(t,o,r);this.storage=(0,ms.cc)(`${E.name}.storage.${i}`,"AngularFireStorage",E.name,()=>{const C=o.runOutsideAngular(()=>E.storage(i||void 0)),I=_;return I&&C.useEmulator(...I),h&&C.setMaxUploadRetryTime(h),p&&C.setMaxOperationRetryTime(p),C},[h,p])}ref(t){return Ck(this.storage.ref(t))}refFromURL(t){return Ck(this.storage.refFromURL(t))}upload(t,r,i){return Ck(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ms.Dh),c.LFG(ms.xv,8),c.LFG(wde,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Sr.HU),c.LFG(xde,8),c.LFG(Ede,8),c.LFG(bde,8),c.LFG(gT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Cde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Sde=(()=>{class n{constructor(){PD.Z.registerVersion("angularfire",Sr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Tde],imports:[Cde]}),n})();class Rde{constructor(){this.change=new c.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}}let Lde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Rde],imports:[[Wa]]}),n})(),Bde=(()=>{class n{constructor(t,r){this.loadingspinner=t,this.router=r,this.router.events.subscribe(i=>this.navigation(i))}navigation(t){t instanceof Gf&&this.loadingspinner.show(),setTimeout(()=>{t instanceof Ea&&this.loadingspinner.hide(),t instanceof Sh&&this.loadingspinner.hide(),t instanceof vi&&this.loadingspinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qu),c.Y36(Er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"]],template:function(t,r){1&t&&(c._UZ(0,"router-outlet"),c.TgZ(1,"ngx-spinner",0)(2,"p",1),c._uU(3,"Loading..."),c.qZA()())},directives:[Mc,Kre],styles:[""]}),n})();const gr=!1;function EH(n){return new c.vHH(3e3,gr)}function vhe(){return"undefined"!=typeof window&&void 0!==window.document}function XR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pm(n){switch(n.length){case 0:return new sC;case 1:return n[0];default:return new e5(n)}}function bH(n,e,t,r,i={},s={}){const o=[],u=[];let h=-1,p=null;if(r.forEach(_=>{const w=_.offset,E=w==h,C=E&&p||{};Object.keys(_).forEach(I=>{let D=I,M=_[I];if("offset"!==I)switch(D=e.normalizePropertyName(D,o),M){case"!":M=i[I];break;case lg:M=s[I];break;default:M=e.normalizeStyleValue(I,D,M,o)}C[D]=M}),E||u.push(C),p=C,h=w}),o.length)throw function ahe(n){return new c.vHH(3502,gr)}();return u}function JR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eL(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eL(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eL(t,"destroy",n)))}}function eL(n,e,t){const r=t.totalTime,s=tL(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function tL(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function eu(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function TH(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let nL=(n,e)=>!1,CH=(n,e,t)=>[],SH=null;function rL(n){const e=n.parentNode||n.host;return e===SH?null:e}(XR()||"undefined"!=typeof Element)&&(vhe()?(SH=(()=>document.documentElement)(),nL=(n,e)=>{for(;e;){if(e===n)return!0;e=rL(e)}return!1}):nL=(n,e)=>n.contains(e),CH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let uy=null,AH=!1;function IH(n){uy||(uy=function whe(){return"undefined"!=typeof document?document.body:null}()||{},AH=!!uy.style&&"WebkitAppearance"in uy.style);let e=!0;return uy.style&&!function yhe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in uy.style,!e&&AH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in uy.style)),e}const DH=nL,kH=CH;let PH=(()=>{class n{validateStyleProperty(t){return IH(t)}matchesElement(t,r){return!1}containsElement(t,r){return DH(t,r)}getParentElement(t){return rL(t)}query(t,r,i){return kH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,u=[],h){return new sC(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),iL=(()=>{class n{}return n.NOOP=new PH,n})();const sL="ng-enter",Ak="ng-leave",Ik="ng-trigger",Dk=".ng-trigger",MH="ng-animating",oL=".ng-animating";function dy(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aL(parseFloat(e[1]),e[2])}function aL(n,e){return"s"===e?1e3*n:n}function kk(n,e,t){return n.hasOwnProperty("duration")?n:function bhe(n,e,t){let i,s=0,o="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return e.push(EH()),{duration:0,delay:0,easing:""};i=aL(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(s=aL(parseFloat(h),u[4]));const p=u[5];p&&(o=p)}else i=n;if(!t){let u=!1,h=e.length;i<0&&(e.push(function Ude(){return new c.vHH(3100,gr)}()),u=!0),s<0&&(e.push(function Vde(){return new c.vHH(3101,gr)}()),u=!0),u&&e.splice(h,0,EH())}return{duration:i,delay:s,easing:o}}(n,e,t)}function yx(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Om(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else yx(n,t);return t}function NH(n,e,t){return t?e+":"+t+";":""}function RH(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=NH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=NH(0,She(t),n.style[t]));n.setAttribute("style",e)}function Pf(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=cL(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),XR()&&RH(n))}function hy(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=cL(t);n.style[r]=""}),XR()&&RH(n))}function BC(n){return Array.isArray(n)?1==n.length?n[0]:X8(n):n}const lL=new RegExp("{{\\s*(.+?)\\s*}}","g");function LH(n){let e=[];if("string"==typeof n){let t;for(;t=lL.exec(n);)e.push(t[1]);lL.lastIndex=0}return e}function Pk(n,e,t){const r=n.toString(),i=r.replace(lL,(s,o)=>{let u=e[o];return e.hasOwnProperty(o)||(t.push(function jde(n){return new c.vHH(3003,gr)}()),u=""),u.toString()});return i==r?n:i}function Ok(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Che=/-+([a-z0-9])/g;function cL(n){return n.replace(Che,(...e)=>e[1].toUpperCase())}function She(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tu(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Gde(n){return new c.vHH(3004,gr)}()}}function BH(n,e){return window.getComputedStyle(n)[e]}function Ohe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Mhe(n,e,t){if(":"==n[0]){const h=function Fhe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function rhe(n){return new c.vHH(3016,gr)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function nhe(n){return new c.vHH(3015,gr)}()),e;const i=r[1],s=r[2],o=r[3];e.push(UH(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(UH(o,i))}(r,t,e)):t.push(n),t}const Rk=new Set(["true","1"]),Lk=new Set(["false","0"]);function UH(n,e){const t=Rk.has(n)||Lk.has(n),r=Rk.has(e)||Lk.has(e);return(i,s)=>{let o="*"==n||n==i,u="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Rk.has(n):Lk.has(n)),!u&&r&&"boolean"==typeof s&&(u=s?Rk.has(e):Lk.has(e)),o&&u}}const Nhe=new RegExp("s*:selfs*,?","g");function uL(n,e,t,r){return new Rhe(n).build(e,t,r)}class Rhe{constructor(e){this._driver=e}build(e,t,r){const i=new Uhe(t);this._resetContextStyleTimingState(i);const s=tu(this,BC(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Wde(){return new c.vHH(3006,gr)}()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),0==u.type){const h=u,p=h.name;p.toString().split(/\s*,\s*/).forEach(_=>{h.name=_,s.push(this.visitState(h,t))}),h.name=p}else if(1==u.type){const h=this.visitTransition(u,t);r+=h.queryCount,i+=h.depCount,o.push(h)}else t.errors.push(function qde(){return new c.vHH(3007,gr)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(u=>{if(Bk(u)){const h=u;Object.keys(h).forEach(p=>{LH(h[p]).forEach(_=>{o.hasOwnProperty(_)||s.add(_)})})}}),s.size&&(Ok(s.values()),t.errors.push(function zde(n,e){return new c.vHH(3008,gr)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=tu(this,BC(e.animation),t);return{type:1,matchers:Ohe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:fy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>tu(this,r,t)),options:fy(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const u=tu(this,o,t);return i=Math.max(i,t.currentTime),u});return t.currentTime=i,{type:3,steps:s,options:fy(e.options)}}visitAnimate(e,t){const r=function Hhe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dL(kk(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=dL(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=kk(t,e);return dL(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:_m({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,u=!1;if(!o){u=!0;const p={};r.easing&&(p.easing=r.easing),o=_m(p)}t.currentTime+=r.duration+r.delay;const h=this.visitStyle(o,t);h.isEmptyStep=u,i=h}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==lg?r.push(o):t.errors.push(function Zde(n){return new c.vHH(3002,gr)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Bk(o)){const u=o,h=u.easing;if(h&&(s=h,delete u.easing),!i)for(let p in u)if(u[p].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(u=>{if(!this._driver.validateStyleProperty(u))return delete o[u],void t.unsupportedCSSPropertiesFound.add(u);const h=t.collectedStyles[t.currentQuerySelector],p=h[u];let _=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(t.errors.push(function Kde(n,e,t,r,i){return new c.vHH(3010,gr)}()),_=!1),s=p.startTime),_&&(h[u]={startTime:s,endTime:i}),t.options&&function The(n,e,t){const r=e.params||{},i=LH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Hde(n){return new c.vHH(3001,gr)}())})}(o[u],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Yde(){return new c.vHH(3011,gr)}()),r;let s=0;const o=[];let u=!1,h=!1,p=0;const _=e.steps.map(j=>{const z=this._makeStyleAst(j,t);let V=null!=z.offset?z.offset:function Vhe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Bk(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Bk(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(z.styles),oe=0;return null!=V&&(s++,oe=z.offset=V),h=h||oe<0||oe>1,u=u||oe<p,p=oe,o.push(oe),z});h&&t.errors.push(function Qde(){return new c.vHH(3012,gr)}()),u&&t.errors.push(function Xde(){return new c.vHH(3200,gr)}());const w=e.steps.length;let E=0;s>0&&s<w?t.errors.push(function Jde(){return new c.vHH(3202,gr)}()):0==s&&(E=1/(w-1));const C=w-1,I=t.currentTime,D=t.currentAnimateTimings,M=D.duration;return _.forEach((j,z)=>{const V=E>0?z==C?1:E*z:o[z],oe=V*M;t.currentTime=I+D.delay+oe,D.duration=oe,this._validateStyleAst(j,t),j.offset=V,r.styles.push(j)}),r}visitReference(e,t){return{type:8,animation:tu(this,BC(e.animation),t),options:fy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fy(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Lhe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Nhe,"")),n=n.replace(/@\*/g,Dk).replace(/@\w+/g,t=>Dk+"-"+t.substr(1)).replace(/:animating/g,oL),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,eu(t.collectedStyles,t.currentQuerySelector,{});const u=tu(this,BC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:u,originalSelector:e.selector,options:fy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ehe(){return new c.vHH(3013,gr)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:kk(e.timings,t.errors,!0);return{type:12,animation:tu(this,BC(e.animation),t),timings:r,options:null}}}class Uhe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bk(n){return!Array.isArray(n)&&"object"==typeof n}function fy(n){return n?(n=yx(n)).params&&(n.params=function Bhe(n){return n?yx(n):null}(n.params)):n={},n}function dL(n,e,t){return{duration:n,delay:e,easing:t}}function hL(n,e,t,r,i,s,o=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:u}}class Uk{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $he=new RegExp(":enter","g"),qhe=new RegExp(":leave","g");function fL(n,e,t,r,i,s={},o={},u,h,p=[]){return(new zhe).buildKeyframes(n,e,t,r,i,s,o,u,h,p)}class zhe{buildKeyframes(e,t,r,i,s,o,u,h,p,_=[]){p=p||new Uk;const w=new pL(e,t,p,i,s,_,[]);w.options=h,w.currentTimeline.setStyles([o],null,w.errors,h),tu(this,r,w);const E=w.timelines.filter(C=>C.containsAnimation());if(Object.keys(u).length){let C;for(let I=E.length-1;I>=0;I--){const D=E[I];if(D.element===t){C=D;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([u],null,w.errors,h)}return E.length?E.map(C=>C.buildKeyframes()):[hL(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?dy(r.duration):null,u=null!=r.delay?dy(r.delay):null;return 0!==o&&e.forEach(h=>{const p=t.appendInstructionToTimeline(h,o,u);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),tu(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vk);const o=dy(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>tu(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?dy(e.options.delay):0;e.steps.forEach(o=>{const u=t.createSubContext(e.options);s&&u.delayNextStep(s),tu(this,o,u),i=Math.max(i,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return kk(t.params?Pk(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,u=t.createSubContext().currentTimeline;u.easing=r.easing,e.styles.forEach(h=>{u.forwardTime((h.offset||0)*s),u.setStyles(h.styles,h.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?dy(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vk);let o=r;const u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=u.length;let h=null;u.forEach((p,_)=>{t.currentQueryIndex=_;const w=t.createSubContext(e.options,p);s&&w.delayNextStep(s),p===t.element&&(h=w.currentTimeline),tu(this,e.animation,w),w.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,w.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),u=o*(t.currentQueryTotal-1);let h=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=u-h;break;case"full":h=r.currentStaggerTime}const _=t.currentTimeline;h&&_.delayNextStep(h);const w=_.currentTime;tu(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-w+(i.startTime-r.currentTimeline.startTime)}}const Vk={};class pL{constructor(e,t,r,i,s,o,u,h){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new Hk(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=dy(r.duration)),null!=r.delay&&(i.delay=dy(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(u=>{(!t||!o.hasOwnProperty(u))&&(o[u]=Pk(s[u],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new pL(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Vk,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new Zhe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let u=[];if(i&&u.push(this.element),e.length>0){e=(e=e.replace($he,"."+this._enterClassName)).replace(qhe,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),u.push(...p)}return!s&&0==u.length&&o.push(function the(n){return new c.vHH(3014,gr)}()),u}}class Hk{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Hk(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||lg,this._currentKeyframe[t]=lg}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function Khe(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=lg})):Om(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(u=>{const h=Pk(o[u],s,r);this._pendingStyles[u]=h,this._localTimelineStyles.hasOwnProperty(u)||(this._backFill[u]=this._globalTimelineStyles.hasOwnProperty(u)?this._globalTimelineStyles[u]:lg),this._updateStyle(u,h)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((u,h)=>{const p=Om(u,!0);Object.keys(p).forEach(_=>{const w=p[_];"!"==w?e.add(_):w==lg&&t.add(_)}),r||(p.offset=h/this.duration),i.push(p)});const s=e.size?Ok(e.values()):[],o=t.size?Ok(t.values()):[];if(r){const u=i[0],h=yx(u);u.offset=0,h.offset=1,i=[u,h]}return hL(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Zhe extends Hk{constructor(e,t,r,i,s,o,u=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,u=t/o,h=Om(e[0],!1);h.offset=0,s.push(h);const p=Om(e[0],!1);p.offset=jH(u),s.push(p);const _=e.length-1;for(let w=1;w<=_;w++){let E=Om(e[w],!1);E.offset=jH((t+E.offset*r)/o),s.push(E)}r=o,t=0,i="",e=s}return hL(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function jH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class gL{}class Yhe extends gL{normalizePropertyName(e,t){return cL(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Qhe[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&i.push(function $de(n,e){return new c.vHH(3005,gr)}())}return o+s}}const Qhe=(()=>function Xhe(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GH(n,e,t,r,i,s,o,u,h,p,_,w,E){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:u,queriedElements:h,preStyleProps:p,postStyleProps:_,totalTime:w,errors:E}}const mL={};class $H{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Jhe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,u,h,p,_){const w=[],E=this.ast.options&&this.ast.options.params||mL,I=this.buildStyles(r,u&&u.params||mL,w),D=h&&h.params||mL,M=this.buildStyles(i,D,w),j=new Set,z=new Map,V=new Map,oe="void"===i,be={params:Object.assign(Object.assign({},E),D)},Ie=_?[]:fL(e,t,this.ast.animation,s,o,I,M,be,p,w);let re=0;if(Ie.forEach(Se=>{re=Math.max(Se.duration+Se.delay,re)}),w.length)return GH(t,this._triggerName,r,i,oe,I,M,[],[],z,V,re,w);Ie.forEach(Se=>{const We=Se.element,Je=eu(z,We,{});Se.preStyleProps.forEach(Dt=>Je[Dt]=!0);const Me=eu(V,We,{});Se.postStyleProps.forEach(Dt=>Me[Dt]=!0),We!==t&&j.add(We)});const Ae=Ok(j.values());return GH(t,this._triggerName,r,i,oe,I,M,Ie,Ae,z,V,re)}}class efe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=yx(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(u=>{let h=o[u];h.length>1&&(h=Pk(h,i,t));const p=this.normalizer.normalizePropertyName(u,t);h=this.normalizer.normalizeStyleValue(u,p,h,t),r[p]=h})}}),r}}class nfe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new efe(i.style,i.options&&i.options.params||{},r)}),WH(this.states,"true","1"),WH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new $H(e,i,this.states))}),this.fallbackTransition=function rfe(n,e,t){return new $H(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,u)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function WH(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const ife=new Uk;class sfe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=uL(this._driver,t,r,[]);if(r.length)throw function lhe(n){return new c.vHH(3503,gr)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=bH(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const u=new Map;if(s?(o=fL(this._driver,t,s,sL,Ak,{},{},r,ife,i),o.forEach(_=>{const w=eu(u,_.element,{});_.postStyleProps.forEach(E=>w[E]=null)})):(i.push(function che(){return new c.vHH(3300,gr)}()),o=[]),i.length)throw function uhe(n){return new c.vHH(3504,gr)}();u.forEach((_,w)=>{Object.keys(_).forEach(E=>{_[E]=this._driver.computeStyle(w,E,lg)})});const p=Pm(o.map(_=>{const w=u.get(_.element);return this._buildPlayer(_,{},w)}));return this._playersById[e]=p,p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function dhe(n){return new c.vHH(3301,gr)}();return t}listen(e,t,r,i){const s=tL(t,"","","");return JR(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const qH="ng-animate-queued",_L="ng-animate-disabled",ufe=[],zH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rd="__ng_removed";class vL{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function gfe(n){return null!=n?n:null}(r?e.value:e),r){const s=yx(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const UC="void",yL=new vL(UC);class hfe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,id(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function hhe(n,e){return new c.vHH(3302,gr)}();if(null==r||0==r.length)throw function fhe(n){return new c.vHH(3303,gr)}();if(!function mfe(n){return"start"==n||"done"==n}(r))throw function phe(n,e){return new c.vHH(3400,gr)}();const s=eu(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const u=eu(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(id(e,Ik),id(e,Ik+"-"+t),u[t]=yL),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(o);h>=0&&s.splice(h,1),this._triggers[t]||delete u[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function ghe(n){return new c.vHH(3401,gr)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new wL(this.id,t,e);let u=this._engine.statesByElement.get(e);u||(id(e,Ik),id(e,Ik+"-"+t),this._engine.statesByElement.set(e,u={}));let h=u[t];const p=new vL(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),u[t]=p,h||(h=yL),p.value!==UC&&h.value===p.value){if(!function yfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(h.params,p.params)){const D=[],M=s.matchStyles(h.value,h.params,D),j=s.matchStyles(p.value,p.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{hy(e,M),Pf(e,j)})}return}const E=eu(this._engine.playersByElement,e,[]);E.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let C=s.matchTransition(h.value,p.value,e,p.params),I=!1;if(!C){if(!i)return;C=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:h,toState:p,player:o,isFallbackTransition:I}),I||(id(e,qH),o.onStart(()=>{wx(e,qH)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);const M=this._engine.playersByElement.get(e);if(M){let j=M.indexOf(o);j>=0&&M.splice(j,1)}}),this.players.push(o),E.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Dk,!0);r.forEach(i=>{if(i[rd])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const u=[];if(Object.keys(s).forEach(h=>{if(o.set(h,s[h].value),this._triggers[h]){const p=this.trigger(e,h,UC,i);p&&u.push(p)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Pm(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const h=this._triggers[o].fallbackTransition,p=r[o]||yL,_=new vL(UC),w=new wL(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:h,fromState:p,toState:_,player:w,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[rd];(!s||s===zH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){id(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(u=>{if(u.name==r.triggerName){const h=tL(s,r.triggerName,r.fromState.value,r.toState.value);h._data=e,JR(r.player,u.phase,h,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ffe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new hfe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let u=this.driver.getParentElement(t);for(;u;){const h=i.get(u);if(h){const p=r.indexOf(h);r.splice(p+1,0,e),o=!0;break}u=this.driver.getParentElement(u)}}else for(let u=s;u>=0;u--)if(this.driver.containsElement(r[u].hostElement,t)){r.splice(u+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const u=this._fetchNamespace(o);u&&t.add(u)}}}return t}trigger(e,t,r,i){if(jk(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!jk(t))return;const s=t[rd];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),id(e,_L)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wx(e,_L))}removeNode(e,t,r,i){if(jk(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[rd]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return jk(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Dk,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oL,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pm(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[rd];if(r&&r.setForRemoval){if(e[rd]=zH,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(_L))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)id(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Pm(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mhe(n){return new c.vHH(3402,gr)}()}_flushAnimations(e,t){const r=new Uk,i=[],s=new Map,o=[],u=new Map,h=new Map,p=new Map,_=new Set;this.disabledNodes.forEach(_t=>{_.add(_t);const pt=this.driver.query(_t,".ng-animate-queued",!0);for(let Ut=0;Ut<pt.length;Ut++)_.add(pt[Ut])});const w=this.bodyNode,E=Array.from(this.statesByElement.keys()),C=YH(E,this.collectedEnterElements),I=new Map;let D=0;C.forEach((_t,pt)=>{const Ut=sL+D++;I.set(pt,Ut),_t.forEach(xt=>id(xt,Ut))});const M=[],j=new Set,z=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const pt=this.collectedLeaveElements[_t],Ut=pt[rd];Ut&&Ut.setForRemoval&&(M.push(pt),j.add(pt),Ut.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(xt=>j.add(xt)):z.add(pt))}const V=new Map,oe=YH(E,Array.from(j));oe.forEach((_t,pt)=>{const Ut=Ak+D++;V.set(pt,Ut),_t.forEach(xt=>id(xt,Ut))}),e.push(()=>{C.forEach((_t,pt)=>{const Ut=I.get(pt);_t.forEach(xt=>wx(xt,Ut))}),oe.forEach((_t,pt)=>{const Ut=V.get(pt);_t.forEach(xt=>wx(xt,Ut))}),M.forEach(_t=>{this.processLeaveNode(_t)})});const be=[],Ie=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(Ut=>{const xt=Ut.player,pn=Ut.element;if(be.push(xt),this.collectedEnterElements.length){const kt=pn[rd];if(kt&&kt.setForMove){if(kt.previousTriggersValues&&kt.previousTriggersValues.has(Ut.triggerName)){const At=kt.previousTriggersValues.get(Ut.triggerName),Tt=this.statesByElement.get(Ut.element);Tt&&Tt[Ut.triggerName]&&(Tt[Ut.triggerName].value=At)}return void xt.destroy()}}const ht=!w||!this.driver.containsElement(w,pn),he=V.get(pn),Be=I.get(pn),ge=this._buildInstruction(Ut,r,Be,he,ht);if(ge.errors&&ge.errors.length)return void Ie.push(ge);if(ht)return xt.onStart(()=>hy(pn,ge.fromStyles)),xt.onDestroy(()=>Pf(pn,ge.toStyles)),void i.push(xt);if(Ut.isFallbackTransition)return xt.onStart(()=>hy(pn,ge.fromStyles)),xt.onDestroy(()=>Pf(pn,ge.toStyles)),void i.push(xt);const xe=[];ge.timelines.forEach(kt=>{kt.stretchStartingKeyframe=!0,this.disabledNodes.has(kt.element)||xe.push(kt)}),ge.timelines=xe,r.append(pn,ge.timelines),o.push({instruction:ge,player:xt,element:pn}),ge.queriedElements.forEach(kt=>eu(u,kt,[]).push(xt)),ge.preStyleProps.forEach((kt,At)=>{const Tt=Object.keys(kt);if(Tt.length){let gt=h.get(At);gt||h.set(At,gt=new Set),Tt.forEach(qn=>gt.add(qn))}}),ge.postStyleProps.forEach((kt,At)=>{const Tt=Object.keys(kt);let gt=p.get(At);gt||p.set(At,gt=new Set),Tt.forEach(qn=>gt.add(qn))})});if(Ie.length){const _t=[];Ie.forEach(pt=>{_t.push(function _he(n,e){return new c.vHH(3505,gr)}())}),be.forEach(pt=>pt.destroy()),this.reportError(_t)}const re=new Map,Ae=new Map;o.forEach(_t=>{const pt=_t.element;r.has(pt)&&(Ae.set(pt,pt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,re))}),i.forEach(_t=>{const pt=_t.element;this._getPreviousPlayers(pt,!1,_t.namespaceId,_t.triggerName,null).forEach(xt=>{eu(re,pt,[]).push(xt),xt.destroy()})});const Se=M.filter(_t=>XH(_t,h,p)),We=new Map;KH(We,this.driver,z,p,lg).forEach(_t=>{XH(_t,h,p)&&Se.push(_t)});const Me=new Map;C.forEach((_t,pt)=>{KH(Me,this.driver,new Set(_t),h,"!")}),Se.forEach(_t=>{const pt=We.get(_t),Ut=Me.get(_t);We.set(_t,Object.assign(Object.assign({},pt),Ut))});const Dt=[],cn=[],Gt={};o.forEach(_t=>{const{element:pt,player:Ut,instruction:xt}=_t;if(r.has(pt)){if(_.has(pt))return Ut.onDestroy(()=>Pf(pt,xt.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(xt.totalTime),void i.push(Ut);let pn=Gt;if(Ae.size>1){let he=pt;const Be=[];for(;he=he.parentNode;){const ge=Ae.get(he);if(ge){pn=ge;break}Be.push(he)}Be.forEach(ge=>Ae.set(ge,pn))}const ht=this._buildAnimation(Ut.namespaceId,xt,re,s,Me,We);if(Ut.setRealPlayer(ht),pn===Gt)Dt.push(Ut);else{const he=this.playersByElement.get(pn);he&&he.length&&(Ut.parentPlayer=Pm(he)),i.push(Ut)}}else hy(pt,xt.fromStyles),Ut.onDestroy(()=>Pf(pt,xt.toStyles)),cn.push(Ut),_.has(pt)&&i.push(Ut)}),cn.forEach(_t=>{const pt=s.get(_t.element);if(pt&&pt.length){const Ut=Pm(pt);_t.setRealPlayer(Ut)}}),i.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<M.length;_t++){const pt=M[_t],Ut=pt[rd];if(wx(pt,Ak),Ut&&Ut.hasAnimation)continue;let xt=[];if(u.size){let ht=u.get(pt);ht&&ht.length&&xt.push(...ht);let he=this.driver.query(pt,oL,!0);for(let Be=0;Be<he.length;Be++){let ge=u.get(he[Be]);ge&&ge.length&&xt.push(...ge)}}const pn=xt.filter(ht=>!ht.destroyed);pn.length?_fe(this,pt,pn):this.processLeaveNode(pt)}return M.length=0,Dt.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const pt=this.players.indexOf(_t);this.players.splice(pt,1)}),_t.play()}),Dt}elementContainsData(e,t){let r=!1;const i=t[rd];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const u=this.playersByQueriedElement.get(e);u&&(o=u)}else{const u=this.playersByElement.get(e);if(u){const h=!s||s==UC;u.forEach(p=>{p.queued||!h&&p.triggerName!=i||o.push(p)})}}return(r||i)&&(o=o.filter(u=>!(r&&r!=u.namespaceId||i&&i!=u.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const p=h.element,_=p!==s,w=eu(r,p,[]);this._getPreviousPlayers(p,_,o,u,t.toState).forEach(C=>{const I=C.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),C.destroy(),w.push(C)})}hy(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const u=t.triggerName,h=t.element,p=[],_=new Set,w=new Set,E=t.timelines.map(I=>{const D=I.element;_.add(D);const M=D[rd];if(M&&M.removedBeforeQueried)return new sC(I.duration,I.delay);const j=D!==h,z=function vfe(n){const e=[];return QH(n,e),e}((r.get(D)||ufe).map(re=>re.getRealPlayer())).filter(re=>!!re.element&&re.element===D),V=s.get(D),oe=o.get(D),be=bH(0,this._normalizer,0,I.keyframes,V,oe),Ie=this._buildPlayer(I,be,z);if(I.subTimeline&&i&&w.add(D),j){const re=new wL(e,u,D);re.setRealPlayer(Ie),p.push(re)}return Ie});p.forEach(I=>{eu(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function pfe(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,I.element,I))}),_.forEach(I=>id(I,MH));const C=Pm(E);return C.onDestroy(()=>{_.forEach(I=>wx(I,MH)),Pf(h,t.toStyles)}),w.forEach(I=>{eu(i,I,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new sC(e.duration,e.delay)}}class wL{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new sC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>JR(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){eu(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jk(n){return n&&1===n.nodeType}function ZH(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function KH(n,e,t,r,i){const s=[];t.forEach(h=>s.push(ZH(h)));const o=[];r.forEach((h,p)=>{const _={};h.forEach(w=>{const E=_[w]=e.computeStyle(p,w,i);(!E||0==E.length)&&(p[rd]=dfe,o.push(p))}),n.set(p,_)});let u=0;return t.forEach(h=>ZH(h,s[u++])),o}function YH(n,e){const t=new Map;if(n.forEach(u=>t.set(u,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(u){if(!u)return 1;let h=s.get(u);if(h)return h;const p=u.parentNode;return h=t.has(p)?p:i.has(p)?1:o(p),s.set(u,h),h}return e.forEach(u=>{const h=o(u);1!==h&&t.get(h).push(u)}),t}function id(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function wx(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function _fe(n,e,t){Pm(t).onDone(()=>n.processLeaveNode(e))}function QH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof e5?QH(r.players,e):e.push(r)}}function XH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Gk{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new ffe(e,t,r),this._timelineEngine=new sfe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let u=this._triggerCache[o];if(!u){const h=[],_=uL(this._driver,s,h,[]);if(h.length)throw function ohe(n,e){return new c.vHH(3404,gr)}();u=function tfe(n,e,t){return new nfe(n,e,t)}(i,_,this._normalizer),this._triggerCache[o]=u}this._transitionEngine.registerTrigger(t,i,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=TH(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,u]=TH(r);return this._timelineEngine.listen(o,t,u,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xfe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Pf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pf(this._element,this._initialStyles),this._endStyles&&(Pf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hy(this._element,this._endStyles),this._endStyles=null),Pf(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xL(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Efe(i)&&(e=e||{},e[i]=n[i])}return e}function Efe(n){return"display"===n||"position"===n}class JH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:BH(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bfe{validateStyleProperty(e){return IH(e)}matchesElement(e,t){return!1}containsElement(e,t){return DH(e,t)}getParentElement(e){return rL(e)}query(e,t,r){return kH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(h.easing=s);const p={},_=o.filter(E=>E instanceof JH);(function Ahe(n,e){return 0===n||0===e})(r,i)&&_.forEach(E=>{let C=E.currentSnapshot;Object.keys(C).forEach(I=>p[I]=C[I])}),t=function Ihe(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(u=>{s.hasOwnProperty(u)||o.push(u),s[u]=t[u]}),o.length)for(var i=1;i<e.length;i++){let u=e[i];o.forEach(function(h){u[h]=BH(n,h)})}}return e}(e,t=t.map(E=>Om(E,!1)),p);const w=function wfe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=xL(e[0]),e.length>1&&(r=xL(e[e.length-1]))):e&&(t=xL(e)),t||r?new xfe(n,t,r):null}(e,t);return new JH(e,t,h,w)}}let Tfe=(()=>{class n extends Y8{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?X8(t):t;return e9(this._renderer,null,r,"register",[i]),new Cfe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Y))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Cfe extends class Vre{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Sfe(this._id,e,t||{},this._renderer)}}class Sfe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return e9(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function e9(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const t9="@.disabled";let Afe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const u=null==o?void 0:o.parentNode(s);u&&o.removeChild(u,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let _=this._rendererCache.get(s);return _||(_=new n9("",s,this.engine),this._rendererCache.set(s,_)),_}const o=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,t);const h=_=>{Array.isArray(_)?_.forEach(h):this.engine.registerTrigger(o,u,t,_.name,_)};return r.data.animation.forEach(h),new Ife(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,u]=s;o(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Gk),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class n9{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==t9?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ife extends n9{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==t9?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Dfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function kfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(e,t,r)}}let Pfe=(()=>{class n extends Gk{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(iL),c.LFG(gL))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const r9=new c.OlP("AnimationModuleType"),i9=[{provide:Y8,useClass:Tfe},{provide:gL,useFactory:function Ofe(){return new Yhe}},{provide:Gk,useClass:Pfe},{provide:c.FYo,useFactory:function Mfe(n,e,t){return new Afe(n,e,t)},deps:[Qa,Gk,c.R0b]}],s9=[{provide:iL,useFactory:()=>new bfe},{provide:r9,useValue:"BrowserAnimations"},...i9],Ffe=[{provide:iL,useClass:PH},{provide:r9,useValue:"NoopAnimations"},...i9];let Nfe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Ffe:s9}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:s9,imports:[Hl]}),n})();const Rfe={apiKey:"AIzaSyA1gBrtVrJOZwY9-voO4SrNGK8HJkyGans",authDomain:"trackify-d3824.firebaseapp.com",databaseURL:"https://trackify-d3824-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"trackify-d3824",storageBucket:"trackify-d3824.appspot.com",messagingSenderId:"1013604880702",appId:"1:1013604880702:web:fb154e3f054b27b0c19c6f",measurementId:"G-WRQXN2MXDN"};let Lfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[Bde]}),n.\u0275inj=c.cJS({providers:[vm,mT],imports:[[Hl,use,ms.hO.initializeApp(Rfe),Ece,oG,pG,Sde,kie.forRoot(),ane,lne,Lce,Lre,Rre,Lde,ase,Yre,Nfe]]}),n})();(0,c.G48)(),wc().bootstrapModule(Lfe).catch(n=>console.error(n))},5867:(Jt,Ye,K)=>{"use strict";K.d(Ye,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=K(9681);(0,c.registerVersion)("firebase","9.8.1","app")},127:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Z:()=>c.Z});var c=K(3942);c.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(Jt,Ye,K)=>{"use strict";K.r(Ye);var c=K(5861),ye=K(3942),G=K(2090),de=K(9681),X=K(655),Q=K(1877),Y=K(4859);const Et=function Nt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ot=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vt=new Q.Yd("@firebase/auth");function en(x,...m){Vt.logLevel<=Q.in.ERROR&&Vt.error(`Auth (${de.SDK_VERSION}): ${x}`,...m)}function dt(x,...m){throw Mt(x,...m)}function nt(x,...m){return Mt(x,...m)}function st(x,m,y){const T=Object.assign(Object.assign({},Ot()),{[m]:y});return new G.LL("auth","Firebase",T).create(m,{appName:x.name})}function Ft(x,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&dt(x,"argument-error"),st(x,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(x,...m){if("string"!=typeof x){const y=m[0],T=[...m.slice(1)];return T[0]&&(T[0].appName=x.name),x._errorFactory.create(y,...T)}return qe.create(x,...m)}function q(x,m,...y){if(!x)throw Mt(m,...y)}function Xe(x){const m="INTERNAL ASSERTION FAILED: "+x;throw en(m),new Error(m)}function we(x,m){x||Xe(m)}const Re=new Map;function De(x){we(x instanceof Function,"Expected a class definition");let m=Re.get(x);return m?(we(m instanceof x,"Instance stored in cache mismatched with class"),m):(m=new x,Re.set(x,m),m)}function bt(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function mn(){return"http:"===Qn()||"https:"===Qn()}function Qn(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Ln{constructor(m,y){this.shortDelay=m,this.longDelay=y,we(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Vn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mn()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mr(x,m){we(x.emulator,"Emulator should always be set here");const{url:y}=x.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class _r{static initialize(m,y,T){this.fetchImpl=m,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xr=new Ln(3e4,6e4);function Gn(x,m){return x.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:x.tenantId}):m}function Hn(x,m,y,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(x,m,y,T,R={}){return as(x,R,(0,c.Z)(function*(){let W={},Ce={};T&&("GET"===m?Ce=T:W={body:JSON.stringify(T)});const Ke=(0,G.xO)(Object.assign({key:x.config.apiKey},Ce)).slice(1),Pt=yield x._getAdditionalHeaders();return Pt["Content-Type"]="application/json",x.languageCode&&(Pt["X-Firebase-Locale"]=x.languageCode),_r.fetch()(uo(x,x.config.apiHost,y,Ke),Object.assign({method:m,headers:Pt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function as(x,m,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(x,m,y){x._canInitEmulator=!1;const T=Object.assign(Object.assign({},Zn),m);try{const R=new Ss(x),W=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const Ce=yield W.json();if("needConfirmation"in Ce)throw qi(x,"account-exists-with-different-credential",Ce);if(W.ok&&!("errorMessage"in Ce))return Ce;{const Ke=W.ok?Ce.errorMessage:Ce.error.message,[Pt,on]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw qi(x,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===Pt)throw qi(x,"email-already-in-use",Ce);const Sn=T[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(on)throw st(x,Sn,on);dt(x,Sn)}}catch(R){if(R instanceof G.ZR)throw R;dt(x,"network-request-failed")}})).apply(this,arguments)}function Ni(x,m,y,T){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(x,m,y,T,R={}){const W=yield Hn(x,m,y,T,R);return"mfaPendingCredential"in W&&dt(x,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function uo(x,m,y,T){const R=`${m}${y}?${T}`;return x.config.emulator?mr(x.config,R):`${x.config.apiScheme}://${R}`}class Ss{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(nt(this.auth,"network-request-failed")),Xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qi(x,m,y){const T={appName:x.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const R=nt(x,m,T);return R.customData._tokenResponse=y,R}function Jr(){return(Jr=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Gr(x,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function bo(x,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function fi(x){if(x)try{const m=new Date(Number(x));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function cs(){return(cs=(0,c.Z)(function*(x,m=!1){const y=(0,G.m9)(x),T=yield y.getIdToken(m),R=zt(T);q(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const W="object"==typeof R.firebase?R.firebase:void 0,Ce=null==W?void 0:W.sign_in_provider;return{claims:R,token:T,authTime:fi(Bn(R.auth_time)),issuedAtTime:fi(Bn(R.iat)),expirationTime:fi(Bn(R.exp)),signInProvider:Ce||null,signInSecondFactor:(null==W?void 0:W.sign_in_second_factor)||null}})).apply(this,arguments)}function Bn(x){return 1e3*Number(x)}function zt(x){const[m,y,T]=x.split(".");if(void 0===m||void 0===y||void 0===T)return en("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,G.tV)(y);return R?JSON.parse(R):(en("Failed to decode base64 JWT payload"),null)}catch(R){return en("Caught error parsing JWT payload as JSON",R),null}}function Ri(x,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(x,m,y=!1){if(y)return m;try{return yield m}catch(T){throw T instanceof G.ZR&&In(T)&&x.auth.currentUser===x&&(yield x.auth.signOut()),T}})).apply(this,arguments)}function In({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class Ha{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),T)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&m.schedule(!0))}m.schedule()})()}}class Li{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bi(x){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(x){var m;const y=x.auth,T=yield x.getIdToken(),R=yield Ri(x,bo(y,{idToken:T}));q(null==R?void 0:R.users.length,y,"internal-error");const W=R.users[0];x._notifyReloadListener(W);const Ce=(null===(m=W.providerUserInfo)||void 0===m?void 0:m.length)?ue(W.providerUserInfo):[],Ke=lt(x.providerData,Ce),Sn=!!x.isAnonymous&&!(x.email&&W.passwordHash||(null==Ke?void 0:Ke.length)),Tn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ke,metadata:new Li(W.createdAt,W.lastLoginAt),isAnonymous:Sn};Object.assign(x,Tn)})).apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(x){const m=(0,G.m9)(x);yield Bi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function lt(x,m){return[...x.filter(T=>!m.some(R=>R.providerId===T.providerId)),...m]}function ue(x){return x.map(m=>{var{providerId:y}=m,T=(0,X._T)(m,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function vt(){return(vt=(0,c.Z)(function*(x,m){const y=yield as(x,{},(0,c.Z)(function*(){const T=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:W}=x.config,Ce=uo(x,R,"/v1/token",`key=${W}`),Ke=yield x._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",_r.fetch()(Ce,{method:"POST",headers:Ke,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){q(m.idToken,"internal-error"),q(void 0!==m.idToken,"internal-error"),q(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ln(x){const m=zt(x);return q(m,"internal-error"),q(void 0!==m.exp,"internal-error"),q(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var T=this;return(0,c.Z)(function*(){return q(!T.accessToken||T.refreshToken,m,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(m,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var T=this;return(0,c.Z)(function*(){const{accessToken:R,refreshToken:W,expiresIn:Ce}=yield function Oe(x,m){return vt.apply(this,arguments)}(m,y);T.updateTokensAndExpiration(R,W,Number(Ce))})()}updateTokensAndExpiration(m,y,T){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(m,y){const{refreshToken:T,accessToken:R,expirationTime:W}=y,Ce=new nn;return T&&(q("string"==typeof T,"internal-error",{appName:m}),Ce.refreshToken=T),R&&(q("string"==typeof R,"internal-error",{appName:m}),Ce.accessToken=R),W&&(q("number"==typeof W,"internal-error",{appName:m}),Ce.expirationTime=W),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new nn,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function xn(x,m){q("string"==typeof x||void 0===x,"internal-error",{appName:m})}class En{constructor(m){var{uid:y,auth:T,stsTokenManager:R}=m,W=(0,X._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ha(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new Li(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,c.Z)(function*(){const T=yield Ri(y,y.stsTokenManager.getToken(y.auth,m));return q(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(m){return function $r(x){return cs.apply(this,arguments)}(this,m)}reload(){return function Ee(x){return Te.apply(this,arguments)}(this)}_assign(m){this!==m&&(q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new En(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var T=this;return(0,c.Z)(function*(){let R=!1;m.idToken&&m.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(m),R=!0),y&&(yield Bi(T)),yield T.auth._persistUserIfCurrent(T),R&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var m=this;return(0,c.Z)(function*(){const y=yield m.getIdToken();return yield Ri(m,function an(x,m){return Jr.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var T,R,W,Ce,Ke,Pt,on,Sn;const Tn=null!==(T=y.displayName)&&void 0!==T?T:void 0,wi=null!==(R=y.email)&&void 0!==R?R:void 0,Ro=null!==(W=y.phoneNumber)&&void 0!==W?W:void 0,Vh=null!==(Ce=y.photoURL)&&void 0!==Ce?Ce:void 0,r_=null!==(Ke=y.tenantId)&&void 0!==Ke?Ke:void 0,Ly=null!==(Pt=y._redirectEventId)&&void 0!==Pt?Pt:void 0,Od=null!==(on=y.createdAt)&&void 0!==on?on:void 0,ip=null!==(Sn=y.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:Zg,emailVerified:By,isAnonymous:Er,providerData:i_,stsTokenManager:s_}=y;q(Zg&&s_,m,"internal-error");const Md=nn.fromJSON(this.name,s_);q("string"==typeof Zg,m,"internal-error"),xn(Tn,m.name),xn(wi,m.name),q("boolean"==typeof By,m,"internal-error"),q("boolean"==typeof Er,m,"internal-error"),xn(Ro,m.name),xn(Vh,m.name),xn(r_,m.name),xn(Ly,m.name),xn(Od,m.name),xn(ip,m.name);const ku=new En({uid:Zg,auth:m,email:wi,emailVerified:By,displayName:Tn,isAnonymous:Er,photoURL:Vh,phoneNumber:Ro,tenantId:r_,stsTokenManager:Md,createdAt:Od,lastLoginAt:ip});return i_&&Array.isArray(i_)&&(ku.providerData=i_.map(Hh=>Object.assign({},Hh))),Ly&&(ku._redirectEventId=Ly),ku}static _fromIdTokenResponse(m,y,T=!1){return(0,c.Z)(function*(){const R=new nn;R.updateFromServerResponse(y);const W=new En({uid:y.localId,auth:m,stsTokenManager:R,isAnonymous:T});return yield Bi(W),W})()}}const Dn=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,T){var R=this;return(0,c.Z)(function*(){R.storage[y]=T})()}_get(y){var T=this;return(0,c.Z)(function*(){const R=T.storage[y];return void 0===R?null:R})()}_remove(y){var T=this;return(0,c.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return x.type="NONE",x})();function pi(x,m,y){return`firebase:${x}:${m}:${y}`}class us{constructor(m,y,T){this.persistence=m,this.auth=y,this.userKey=T;const{config:R,name:W}=this.auth;this.fullUserKey=pi(this.userKey,R.apiKey,W),this.fullPersistenceKey=pi("persistence",R.apiKey,W),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?En._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,c.Z)(function*(){if(y.persistence===m)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,T="authUser"){return(0,c.Z)(function*(){if(!y.length)return new us(De(Dn),m,T);const R=(yield Promise.all(y.map(function(){var on=(0,c.Z)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return on.apply(this,arguments)}}()))).filter(on=>on);let W=R[0]||De(Dn);const Ce=pi(T,m.config.apiKey,m.name);let Ke=null;for(const on of y)try{const Sn=yield on._get(Ce);if(Sn){const Tn=En._fromJSON(m,Sn);on!==W&&(Ke=Tn),W=on;break}}catch(Sn){}const Pt=R.filter(on=>on._shouldAllowMigration);return W._shouldAllowMigration&&Pt.length?(W=Pt[0],Ke&&(yield W._set(Ce,Ke.toJSON())),yield Promise.all(y.map(function(){var on=(0,c.Z)(function*(Sn){if(Sn!==W)try{yield Sn._remove(Ce)}catch(Tn){}});return function(Sn){return on.apply(this,arguments)}}())),new us(W,m,T)):new us(W,m,T)})()}}function fc(x){const m=x.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(gi(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(pc(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Yo(m))return"Blackberry";if(_i(m))return"Webos";if(Il(m))return"Safari";if((m.includes("chrome/")||gc(m))&&!m.includes("edge/"))return"Chrome";if(mi(m))return"Android";{const T=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function pc(x=(0,G.z$)()){return/firefox\//i.test(x)}function Il(x=(0,G.z$)()){const m=x.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function gc(x=(0,G.z$)()){return/crios\//i.test(x)}function gi(x=(0,G.z$)()){return/iemobile/i.test(x)}function mi(x=(0,G.z$)()){return/android/i.test(x)}function Yo(x=(0,G.z$)()){return/blackberry/i.test(x)}function _i(x=(0,G.z$)()){return/webos/i.test(x)}function As(x=(0,G.z$)()){return/iphone|ipad|ipod/i.test(x)}function ha(x=(0,G.z$)()){return As(x)||mi(x)||_i(x)||Yo(x)||/windows phone/i.test(x)||gi(x)}function Dl(x,m=[]){let y;switch(x){case"Browser":y=fc((0,G.z$)());break;case"Worker":y=`${fc((0,G.z$)())}-${x}`;break;default:y=x}const T=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${de.SDK_VERSION}/${T}`}class Cn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const T=W=>new Promise((Ce,Ke)=>{try{Ce(m(W))}catch(Pt){Ke(Pt)}});T.onAbort=y,this.queue.push(T);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,c.Z)(function*(){if(y.auth.currentUser===m)return;const T=[];try{for(const R of y.queue)yield R(m),R.onAbort&&T.push(R.onAbort)}catch(R){T.reverse();for(const W of T)try{W()}catch(Ce){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:R.message})}})()}}class Kt{constructor(m,y,T){this.app=m,this.heartbeatServiceProvider=y,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(m,y){var T=this;return y&&(this._popupRedirectResolver=De(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var R,W;if(!T._deleted&&(T.persistenceManager=yield us.create(T,m),!T._deleted)){if(null===(R=T._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(Ce){}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,c.Z)(function*(){var T;const R=yield y.assertedPersistence.getCurrentUser();let W=R,Ce=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ke=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,Pt=null==W?void 0:W._redirectEventId,on=yield y.tryRedirectSignIn(m);(!Ke||Ke===Pt)&&(null==on?void 0:on.user)&&(W=on.user,Ce=!0)}if(!W)return y.directlySetCurrentUser(null);if(!W._redirectEventId){if(Ce)try{yield y.beforeStateQueue.runMiddleware(W)}catch(Ke){W=R,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ke))}return W?y.reloadAndSetCurrentUserOrClear(W):y.directlySetCurrentUser(null)}return q(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===W._redirectEventId?y.directlySetCurrentUser(W):y.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(m){var y=this;return(0,c.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(R){yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,c.Z)(function*(){try{yield Bi(m)}catch(T){if("auth/network-request-failed"!==T.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function qt(){if("undefined"==typeof navigator)return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,c.Z)(function*(){const T=m?(0,G.m9)(m):null;return T&&q(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(m,y=!1){var T=this;return(0,c.Z)(function*(){if(!T._deleted)return m&&q(T.tenantId===m.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(m)),T.queue((0,c.Z)(function*(){yield T.directlySetCurrentUser(m),T.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(De(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,y,T){return this.registerStateListener(this.authStateSubscription,m,y,T)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,T){return this.registerStateListener(this.idTokenSubscription,m,y,T)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var T=this;return(0,c.Z)(function*(){const R=yield T.getOrInitRedirectPersistenceManager(y);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const T=m&&De(m)||y._popupRedirectResolver;q(T,y,"argument-error"),y.redirectPersistenceManager=yield us.create(y,[De(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,c.Z)(function*(){var T,R;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===m?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,c.Z)(function*(){if(m===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,T,R){if(this._deleted)return()=>{};const W="function"==typeof y?y:y.next.bind(y),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return q(Ce,this,"internal-error"),Ce.then(()=>W(this.currentUser)),"function"==typeof y?m.addObserver(y,T,R):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var y;const T={"X-Client-Version":m.clientVersion};m.app.options.appId&&(T["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return R&&(T["X-Firebase-Client"]=R),T})()}}function vn(x){return(0,G.m9)(x)}class vr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(y=>this.observer=y)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function To(x){const m=x.indexOf(":");return m<0?"":x.substr(0,m+1)}function $s(x){if(!x)return null;const m=Number(x);return isNaN(m)?null:m}class Ws{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return Xe("not implemented")}_getIdTokenResponse(m){return Xe("not implemented")}_linkToIdToken(m,y){return Xe("not implemented")}_getReauthenticationResolver(m){return Xe("not implemented")}}function Mr(x,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:resetPassword",Gn(x,m))})).apply(this,arguments)}function kl(x,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function iu(x,m){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:update",Gn(x,m))})).apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithPassword",Gn(x,m))})).apply(this,arguments)}function pa(x,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:sendOobCode",Gn(x,m))})).apply(this,arguments)}function wr(x,m){return su.apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(x,m){return pa(x,m)})).apply(this,arguments)}function Pl(x,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(x,m){return pa(x,m)})).apply(this,arguments)}function Co(x,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(x,m){return pa(x,m)})).apply(this,arguments)}function uh(x,m){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(x,m){return pa(x,m)})).apply(this,arguments)}function ad(){return(ad=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithEmailLink",Gn(x,m))})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithEmailLink",Gn(x,m))})).apply(this,arguments)}class Zi extends Ws{constructor(m,y,T,R=null){super("password",T),this._email=m,this._password=y,this._tenantId=R}static _fromEmailAndPassword(m,y){return new Zi(m,y,"password")}static _fromEmailAndCode(m,y,T=null){return new Zi(m,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function Fr(x,m){return ja.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ao(x,m){return ad.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:dt(m,"internal-error")}})()}_linkToIdToken(m,y){var T=this;return(0,c.Z)(function*(){switch(T.signInMethod){case"password":return kl(m,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ld(x,m){return Ga.apply(this,arguments)}(m,{idToken:y,email:T._email,oobCode:T._password});default:dt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Jo(x,m){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithIdp",Gn(x,m))})).apply(this,arguments)}class ea extends Ws{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new ea(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):dt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:R}=y,W=(0,X._T)(y,["providerId","signInMethod"]);if(!T||!R)return null;const Ce=new ea(T,R);return Ce.idToken=W.idToken||void 0,Ce.accessToken=W.accessToken||void 0,Ce.secret=W.secret,Ce.nonce=W.nonce,Ce.pendingToken=W.pendingToken||null,Ce}_getIdTokenResponse(m){return Jo(m,this.buildRequest())}_linkToIdToken(m,y){const T=this.buildRequest();return T.idToken=y,Jo(m,T)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Jo(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,G.xO)(y)}return m}}function vg(x,m){return dh.apply(this,arguments)}function dh(){return(dh=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:sendVerificationCode",Gn(x,m))})).apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithPhoneNumber",Gn(x,m))})).apply(this,arguments)}function hh(){return(hh=(0,c.Z)(function*(x,m){const y=yield Ni(x,"POST","/v1/accounts:signInWithPhoneNumber",Gn(x,m));if(y.temporaryProof)throw qi(x,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Ol={USER_NOT_FOUND:"user-not-found"};function fh(){return(fh=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithPhoneNumber",Gn(x,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ol)})).apply(this,arguments)}class Ml extends Ws{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new Ml({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new Ml({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function ud(x,m){return ga.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function yg(x,m){return hh.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ff(x,m){return fh.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:T,verificationCode:R}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:T,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:T,phoneNumber:R,temporaryProof:W}=m;return T||y||R||W?new Ml({verificationId:y,verificationCode:T,phoneNumber:R,temporaryProof:W}):null}}class au{constructor(m){var y,T,R,W,Ce,Ke;const Pt=(0,G.zd)((0,G.pd)(m)),on=null!==(y=Pt.apiKey)&&void 0!==y?y:null,Sn=null!==(T=Pt.oobCode)&&void 0!==T?T:null,Tn=function Nf(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Pt.mode)&&void 0!==R?R:null);q(on&&Sn&&Tn,"argument-error"),this.apiKey=on,this.operation=Tn,this.code=Sn,this.continueUrl=null!==(W=Pt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(Ce=Pt.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(Ke=Pt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(m){const y=function _c(x){const m=(0,G.zd)((0,G.pd)(x)).link,y=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,T=(0,G.zd)((0,G.pd)(x)).deep_link_id;return(T?(0,G.zd)((0,G.pd)(T)).link:null)||T||y||m||x}(m);try{return new au(y)}catch(T){return null}}}let gh=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(y,T){return Zi._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const R=au.parseLink(T);return q(R,"argument-error"),Zi._fromEmailAndCode(y,R.code,R.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Ki{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class $a extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Io extends $a{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return q("providerId"in y&&"signInMethod"in y,"argument-error"),ea._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return q(m.idToken||m.accessToken,"argument-error"),ea._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Io.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Io.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:R,pendingToken:W,nonce:Ce,providerId:Ke}=m;if(!T&&!R&&!y&&!W||!Ke)return null;try{return new Io(Ke)._credential({idToken:y,accessToken:T,nonce:Ce,pendingToken:W})}catch(Pt){return null}}}let Fl=(()=>{class x extends $a{constructor(){super("facebook.com")}static credential(y){return ea._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch(T){return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),mh=(()=>{class x extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return ea._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:R}=y;if(!T&&!R)return null;try{return x.credential(T,R)}catch(W){return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Rf=(()=>{class x extends $a{constructor(){super("github.com")}static credential(y){return ea._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch(T){return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class qa extends Ws{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Jo(m,this.buildRequest())}_linkToIdToken(m,y){const T=this.buildRequest();return T.idToken=y,Jo(m,T)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Jo(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:R,pendingToken:W}=y;return T&&R&&W&&T===R?new qa(T,W):null}static _create(m,y){return new qa(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ds extends Ki{constructor(m){q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ds.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ds.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=qa.fromJSON(m);return q(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:T}=m;if(!y||!T)return null;try{return qa._create(T,y)}catch(R){return null}}}let _h=(()=>{class x extends $a{constructor(){super("twitter.com")}static credential(y,T){return ea._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:R}=y;if(!T||!R)return null;try{return x.credential(T,R)}catch(W){return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function hs(x,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signUp",Gn(x,m))})).apply(this,arguments)}class qs{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,T,R=!1){return(0,c.Z)(function*(){const W=yield En._fromIdTokenResponse(m,T,R),Ce=dd(T);return new qs({user:W,providerId:Ce,_tokenResponse:T,operationType:y})})()}static _forOperation(m,y,T){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(T,!0);const R=dd(T);return new qs({user:m,providerId:R,_tokenResponse:T,operationType:y})})()}}function dd(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function hd(){return(hd=(0,c.Z)(function*(x){var m;const y=vn(x);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new qs({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield hs(y,{returnSecureToken:!0}),R=yield qs._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Nl extends G.ZR{constructor(m,y,T,R){var W;super(y.code,y.message),this.operationType=T,this.user=R,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:m.name,tenantId:null!==(W=m.tenantId)&&void 0!==W?W:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(m,y,T,R){return new Nl(m,y,T,R)}}function fd(x,m,y,T){return("reauthenticate"===m?y._getReauthenticationResolver(x):y._getIdTokenResponse(x)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Nl._fromErrorAndOperation(x,W,m,T):W})}function Do(x){return new Set(x.map(({providerId:m})=>m).filter(m=>!!m))}function xr(){return(xr=(0,c.Z)(function*(x,m){const y=(0,G.m9)(x);yield sr(!0,y,m);const{providerUserInfo:T}=yield Gr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),R=Do(T||[]);return y.providerData=y.providerData.filter(W=>R.has(W.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Za(x,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(x,m,y=!1){const T=yield Ri(x,m._linkToIdToken(x.auth,yield x.getIdToken()),y);return qs._forOperation(x,"link",T)})).apply(this,arguments)}function sr(x,m,y){return vc.apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(x,m,y){yield Bi(m);const R=!1===x?"provider-already-linked":"no-such-provider";q(Do(m.providerData).has(y)===x,m.auth,R)})).apply(this,arguments)}function lu(x,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(x,m,y=!1){const{auth:T}=x,R="reauthenticate";try{const W=yield Ri(x,fd(T,R,m,x),y);q(W.idToken,T,"internal-error");const Ce=zt(W.idToken);q(Ce,T,"internal-error");const{sub:Ke}=Ce;return q(x.uid===Ke,T,"user-mismatch"),qs._forOperation(x,R,W)}catch(W){throw"auth/user-not-found"===(null==W?void 0:W.code)&&dt(T,"user-mismatch"),W}})).apply(this,arguments)}function Vi(x,m){return cu.apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(x,m,y=!1){const T="signIn",R=yield fd(x,T,m),W=yield qs._fromIdTokenResponse(x,T,R);return y||(yield x._updateCurrentUser(W.user)),W})).apply(this,arguments)}function Lr(x,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(x,m){return Vi(vn(x),m)})).apply(this,arguments)}function Ci(x,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(x,m){const y=(0,G.m9)(x);return yield sr(!1,y,m.providerId),Za(y,m)})).apply(this,arguments)}function fo(x,m){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(x,m){return lu((0,G.m9)(x),m)})).apply(this,arguments)}function po(x,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(x,m){return Ni(x,"POST","/v1/accounts:signInWithCustomToken",Gn(x,m))})).apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(x,m){const y=vn(x),T=yield po(y,{token:m,returnSecureToken:!0}),R=yield qs._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class _a{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?pd._fromServerResponse(m,y):dt(m,"internal-error")}}class pd extends _a{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new pd(y)}}function Bl(x,m,y){var T;q((null===(T=y.url)||void 0===T?void 0:T.length)>0,x,"invalid-continue-uri"),q(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(q(y.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(q(y.android.packageName.length>0,x,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function Ya(){return(Ya=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x),R={requestType:"PASSWORD_RESET",email:m};y&&Bl(T,R,y),yield Pl(T,R)})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(x,m,y){yield Mr((0,G.m9)(x),{oobCode:m,newPassword:y})})).apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(x,m){yield iu((0,G.m9)(x),{oobCode:m})})).apply(this,arguments)}function $n(x,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(x,m){const y=(0,G.m9)(x),T=yield Mr(y,{oobCode:m}),R=T.requestType;switch(q(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(T.mfaInfo,y,"internal-error");default:q(T.email,y,"internal-error")}let W=null;return T.mfaInfo&&(W=_a._fromServerResponse(vn(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:W},operation:R}})).apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(x,m){const{data:y}=yield $n((0,G.m9)(x),m);return y.email})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(x,m,y){const T=vn(x),R=yield hs(T,{returnSecureToken:!0,email:m,password:y}),W=yield qs._fromIdTokenResponse(T,"signIn",R);return yield T._updateCurrentUser(W.user),W})).apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x),R={requestType:"EMAIL_SIGNIN",email:m};q(y.handleCodeInApp,T,"argument-error"),y&&Bl(T,R,y),yield Co(T,R)})).apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x),R=gh.credentialWithLink(m,y||bt());return q(R._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Lr(T,R)})).apply(this,arguments)}function Yi(x,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:createAuthUri",Gn(x,m))})).apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(x,m){const T={identifier:m,continueUri:mn()?bt():"http://localhost"},{signinMethods:R}=yield Yi((0,G.m9)(x),T);return R||[]})).apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(x,m){const y=(0,G.m9)(x),R={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};m&&Bl(y.auth,R,m);const{email:W}=yield wr(y.auth,R);W!==x.email&&(yield x.reload())})).apply(this,arguments)}function wc(){return(wc=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:m};y&&Bl(T.auth,W,y);const{email:Ce}=yield uh(T.auth,W);Ce!==x.email&&(yield x.reload())})).apply(this,arguments)}function wd(x,m){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(x,m){return Hn(x,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(x,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const T=(0,G.m9)(x),W={idToken:yield T.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},Ce=yield Ri(T,wd(T.auth,W));T.displayName=Ce.displayName||null,T.photoURL=Ce.photoUrl||null;const Ke=T.providerData.find(({providerId:Pt})=>"password"===Pt);Ke&&(Ke.displayName=T.displayName,Ke.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ce)})).apply(this,arguments)}function Ec(x,m,y){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(x,m,y){const{auth:T}=x,W={idToken:yield x.getIdToken(),returnSecureToken:!0};m&&(W.email=m),y&&(W.password=y);const Ce=yield Ri(x,kl(T,W));yield x._updateTokensIfNecessary(Ce,!0)})).apply(this,arguments)}class jl{constructor(m,y,T={}){this.isNewUser=m,this.providerId=y,this.profile=T}}class xh extends jl{constructor(m,y,T,R){super(m,y,T),this.username=R}}class mu extends jl{constructor(m,y){super(m,"facebook.com",y)}}class Hi extends xh{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Bf extends jl{constructor(m,y){super(m,"google.com",y)}}class xd extends xh{constructor(m,y,T){super(m,"twitter.com",y,T)}}function Si(x){const{user:m,_tokenResponse:y}=x;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function gu(x){var m,y;if(!x)return null;const{providerId:T}=x,R=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},W=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!T&&(null==x?void 0:x.idToken)){const Ce=null===(y=null===(m=zt(x.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ce)return new jl(W,"anonymous"!==Ce&&"custom"!==Ce?Ce:null)}if(!T)return null;switch(T){case"facebook.com":return new mu(W,R);case"github.com":return new Hi(W,R);case"google.com":return new Bf(W,R);case"twitter.com":return new xd(W,R,x.screenName||null);case"custom":case"anonymous":return new jl(W,null);default:return new jl(W,T,R)}}(y)}class na{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new na("enroll",m)}static _fromMfaPendingCredential(m){return new na("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,T;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return na._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(T=m.multiFactorSession)||void 0===T?void 0:T.idToken)return na._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ja{constructor(m,y,T){this.session=m,this.hints=y,this.signInResolver=T}static _fromError(m,y){const T=vn(m),R=y.customData._serverResponse,W=(R.mfaInfo||[]).map(Ke=>_a._fromServerResponse(T,Ke));q(R.mfaPendingCredential,T,"internal-error");const Ce=na._fromMfaPendingCredential(R.mfaPendingCredential);return new Ja(Ce,W,function(){var Ke=(0,c.Z)(function*(Pt){const on=yield Pt._process(T,Ce);delete R.mfaInfo,delete R.mfaPendingCredential;const Sn=Object.assign(Object.assign({},R),{idToken:on.idToken,refreshToken:on.refreshToken});switch(y.operationType){case"signIn":const Tn=yield qs._fromIdTokenResponse(T,y.operationType,Sn);return yield T._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return q(y.user,T,"internal-error"),qs._forOperation(y.user,y.operationType,Sn);default:dt(T,"internal-error")}});return function(Pt){return Ke.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,c.Z)(function*(){return y.signInResolver(m)})()}}function _u(x,m){return Hn(x,"POST","/v2/accounts/mfaEnrollment:start",Gn(x,m))}class Gl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>_a._fromServerResponse(m.auth,T)))})}static _fromUser(m){return new Gl(m)}getSession(){var m=this;return(0,c.Z)(function*(){return na._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var T=this;return(0,c.Z)(function*(){const R=m,W=yield T.getSession(),Ce=yield Ri(T.user,R._process(T.user.auth,W,y));return yield T.user._updateTokensIfNecessary(Ce),T.user.reload()})()}unenroll(m){var y=this;return(0,c.Z)(function*(){const T="string"==typeof m?m:m.uid,R=yield y.user.getIdToken(),W=yield Ri(y.user,function el(x,m){return Hn(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Gn(x,m))}(y.user.auth,{idToken:R,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ce})=>Ce!==T),yield y.user._updateTokensIfNecessary(W);try{yield y.user.reload()}catch(Ce){if("auth/user-token-expired"!==Ce.code)throw Ce}})()}}const Ps=new WeakMap,Oo="__sak";class Tc{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cr=(()=>{class x extends Tc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tg(){const x=(0,G.z$)();return Il(x)||As(x)}()&&function Ui(){try{return!(!window||window===window.top)}catch(x){return!1}}(),this.fallbackToPolling=ha(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const R=this.storage.getItem(T),W=this.localCache[T];R!==W&&y(T,W,R)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((Ke,Pt,on)=>{this.notifyListeners(Ke,on)});const R=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(R);if(y.newValue!==Ke)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!T)return}const W=()=>{const Ke=this.storage.getItem(R);!T&&this.localCache[R]===Ke||this.notifyListeners(R,Ke)},Ce=this.storage.getItem(R);!function mc(){return(0,G.w1)()&&10===document.documentMode}()||Ce===y.newValue||y.newValue===y.oldValue?W():setTimeout(W,10)}notifyListeners(y,T){this.localCache[y]=T;const R=this.listeners[y];if(R)for(const W of Array.from(R))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var R=()=>super._set,W=this;return(0,c.Z)(function*(){yield R().call(W,y,T),W.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,R=this;return(0,c.Z)(function*(){const W=yield T().call(R,y);return R.localCache[y]=JSON.stringify(W),W})()}_remove(y){var T=()=>super._remove,R=this;return(0,c.Z)(function*(){yield T().call(R,y),delete R.localCache[y]})()}}return x.type="LOCAL",x})(),A=(()=>{class x extends Tc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return x.type="SESSION",x})();let L=(()=>{class x{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(W=>W.isListeningto(y));if(T)return T;const R=new x(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,c.Z)(function*(){const R=y,{eventId:W,eventType:Ce,data:Ke}=R.data,Pt=T.handlersMap[Ce];if(!(null==Pt?void 0:Pt.size))return;R.ports[0].postMessage({status:"ack",eventId:W,eventType:Ce});const on=Array.from(Pt).map(function(){var Tn=(0,c.Z)(function*(wi){return wi(R.origin,Ke)});return function(wi){return Tn.apply(this,arguments)}}()),Sn=yield function k(x){return Promise.all(x.map(function(){var m=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return m.apply(this,arguments)}}()))}(on);R.ports[0].postMessage({status:"done",eventId:W,eventType:Ce,response:Sn})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function le(x="",m=10){let y="";for(let T=0;T<m;T++)y+=Math.floor(10*Math.random());return x+y}class at{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,T=50){var R=this;return(0,c.Z)(function*(){const W="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let Ce,Ke;return new Promise((Pt,on)=>{const Sn=le("",20);W.port1.start();const Tn=setTimeout(()=>{on(new Error("unsupported_event"))},T);Ke={messageChannel:W,onMessage(wi){const Ro=wi;if(Ro.data.eventId===Sn)switch(Ro.data.status){case"ack":clearTimeout(Tn),Ce=setTimeout(()=>{on(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),Pt(Ro.data.response);break;default:clearTimeout(Tn),clearTimeout(Ce),on(new Error("invalid_response"))}}},R.handlers.add(Ke),W.port1.addEventListener("message",Ke.onMessage),R.target.postMessage({eventType:m,eventId:Sn,data:y},[W.port2])}).finally(()=>{Ke&&R.removeMessageHandler(Ke)})})()}}function Bt(){return window}function ti(){return void 0!==Bt().WorkerGlobalScope&&"function"==typeof Bt().importScripts}function tl(){return(tl=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(x){return null}})).apply(this,arguments)}const Vf="firebaseLocalStorageDb",Wl="firebaseLocalStorage",yu="fbase_key";class Cc{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function fs(x,m){return x.transaction([Wl],m?"readwrite":"readonly").objectStore(Wl)}function Sc(){const x=indexedDB.open(Vf,1);return new Promise((m,y)=>{x.addEventListener("error",()=>{y(x.error)}),x.addEventListener("upgradeneeded",()=>{const T=x.result;try{T.createObjectStore(Wl,{keyPath:yu})}catch(R){y(R)}}),x.addEventListener("success",(0,c.Z)(function*(){const T=x.result;T.objectStoreNames.contains(Wl)?m(T):(T.close(),yield function Ks(){const x=indexedDB.deleteDatabase(Vf);return new Cc(x).toPromise()}(),m(yield Sc()))}))})}function wu(x,m,y){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(x,m,y){const T=fs(x,!0).put({[yu]:m,value:y});return new Cc(T).toPromise()})).apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(x,m){const y=fs(x,!1).get(m),T=yield new Cc(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Eu(x,m){const y=fs(x,!0).delete(m);return new Cc(y).toPromise()}const Zl=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield Sc()),y.db})()}_withRetries(y){var T=this;return(0,c.Z)(function*(){let R=0;for(;;)try{const W=yield T._openDb();return yield y(W)}catch(W){if(R++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return ti()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=L._getInstance(function Th(){return ti()?self:null}()),y.receiver._subscribe("keyChanged",function(){var T=(0,c.Z)(function*(R,W){return{keyProcessed:(yield y._poll()).includes(W.key)}});return function(R,W){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,c.Z)(function*(R,W){return["keyChanged"]});return function(R,W){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var T,R;if(y.activeServiceWorker=yield function Yt(){return tl.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new at(y.activeServiceWorker);const W=yield y.sender._send("ping",{},800);!W||(null===(T=W[0])||void 0===T?void 0:T.fulfilled)&&(null===(R=W[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,c.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function vu(){var x;return(null===(x=null==navigator?void 0:navigator.serviceWorker)||void 0===x?void 0:x.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Sc();return yield wu(y,Oo,"1"),yield Eu(y,Oo),!0}catch(y){}return!1})()}_withPendingWrite(y){var T=this;return(0,c.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var R=this;return(0,c.Z)(function*(){return R._withPendingWrite((0,c.Z)(function*(){return yield R._withRetries(W=>wu(W,y,T)),R.localCache[y]=T,R.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,c.Z)(function*(){const R=yield T._withRetries(W=>function xu(x,m){return zl.apply(this,arguments)}(W,y));return T.localCache[y]=R,R})()}_remove(y){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(R=>Eu(R,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const T=yield y._withRetries(Ce=>{const Ke=fs(Ce,!1).getAll();return new Cc(Ke).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const R=[],W=new Set;for(const{fbase_key:Ce,value:Ke}of T)W.add(Ce),JSON.stringify(y.localCache[Ce])!==JSON.stringify(Ke)&&(y.notifyListeners(Ce,Ke),R.push(Ce));for(const Ce of Object.keys(y.localCache))y.localCache[Ce]&&!W.has(Ce)&&(y.notifyListeners(Ce,null),R.push(Ce));return R})()}notifyListeners(y,T){this.localCache[y]=T;const R=this.listeners[y];if(R)for(const W of Array.from(R))W(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function ai(x,m){return Hn(x,"POST","/v2/accounts/mfaSignIn:start",Gn(x,m))}function li(){return(li=(0,c.Z)(function*(x){return(yield Hn(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yl(x){return new Promise((m,y)=>{const T=document.createElement("script");T.setAttribute("src",x),T.onload=m,T.onerror=R=>{const W=nt("internal-error");W.customData=R,y(W)},T.type="text/javascript",T.charset="UTF-8",function Ic(){var x,m;return null!==(m=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==m?m:document}().appendChild(T)})}function rl(x){return`__${x}${Math.floor(1e6*Math.random())}`}const ra=1e12;class Ii{constructor(m){this.auth=m,this.counter=ra,this._widgets=new Map}render(m,y){const T=this.counter;return this._widgets.set(T,new ia(m,this.auth.name,y||{})),this.counter++,T}reset(m){var y;const T=m||ra;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(m){var y;return(null===(y=this._widgets.get(m||ra))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,c.Z)(function*(){var T;return null===(T=y._widgets.get(m||ra))||void 0===T||T.execute(),""})()}}class ia{constructor(m,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;q(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ch(x){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<x;T++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jf=rl("rcb"),ci=new Ln(3e4,6e4);class xx{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bt().grecaptcha}load(m,y=""){return q(function bu(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Bt().grecaptcha):new Promise((T,R)=>{const W=Bt().setTimeout(()=>{R(nt(m,"network-request-failed"))},ci.get());Bt()[jf]=()=>{Bt().clearTimeout(W),delete Bt()[jf];const Ke=Bt().grecaptcha;if(!Ke)return void R(nt(m,"internal-error"));const Pt=Ke.render;Ke.render=(on,Sn)=>{const Tn=Pt(on,Sn);return this.counter++,Tn},this.hostLanguage=y,T(Ke)},Yl(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:jf,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(W),R(nt(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Bt().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ys{load(m){return(0,c.Z)(function*(){return new Ii(m)})()}clearedOneInstance(){}}const Cg="recaptcha",Ql={theme:"light",type:"image"};class Gf{constructor(m,y=Object.assign({},Ql),T){this.parameters=y,this.type=Cg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(T),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;q(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new xx,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),T=m.getAssertedRecaptcha();return T.getResponse(y)||new Promise(W=>{const Ce=Ke=>{!Ke||(m.tokenChangeListeners.delete(Ce),W(Ke))};m.tokenChangeListeners.add(Ce),m.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof m)m(y);else if("string"==typeof m){const T=Bt()[m];"function"==typeof T&&T(y)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){q(mn()&&!ti(),m.auth,"internal-error"),yield function Ea(){let x=null;return new Promise(m=>{"complete"!==document.readyState?(x=()=>m(),window.addEventListener("load",x)):m()}).catch(m=>{throw x&&window.removeEventListener("load",x),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Kl(x){return li.apply(this,arguments)}(m.auth);q(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sh{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=Ml._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function bd(){return(bd=(0,c.Z)(function*(x,m,y){const T=vn(x),R=yield Qs(T,m,(0,G.m9)(y));return new Sh(R,W=>Lr(T,W))})).apply(this,arguments)}function Sg(){return(Sg=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x);yield sr(!1,T,"phone");const R=yield Qs(T.auth,m,(0,G.m9)(y));return new Sh(R,W=>Ci(T,W))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x),R=yield Qs(T.auth,m,(0,G.m9)(y));return new Sh(R,W=>fo(T,W))})).apply(this,arguments)}function Qs(x,m,y){return Td.apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(x,m,y){var T;const R=yield y.verify();try{let W;if(q("string"==typeof R,x,"argument-error"),q(y.type===Cg,x,"argument-error"),W="string"==typeof m?{phoneNumber:m}:m,"session"in W){const Ce=W.session;if("phoneNumber"in W)return q("enroll"===Ce.type,x,"internal-error"),(yield _u(x,{idToken:Ce.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{q("signin"===Ce.type,x,"internal-error");const Ke=(null===(T=W.multiFactorHint)||void 0===T?void 0:T.uid)||W.multiFactorUid;return q(Ke,x,"missing-multi-factor-info"),(yield ai(x,{mfaPendingCredential:Ce.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ce}=yield vg(x,{phoneNumber:W.phoneNumber,recaptchaToken:R});return Ce}}finally{y._reset()}})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(x,m){yield Za((0,G.m9)(x),m)})).apply(this,arguments)}let Xl=(()=>{class x{constructor(y){this.providerId=x.PROVIDER_ID,this.auth=vn(y)}verifyPhoneNumber(y,T){return Qs(this.auth,y,(0,G.m9)(T))}static credential(y,T){return Ml._fromVerification(y,T)}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:R}=y;return T&&R?Ml._fromTokenResponse(T,R):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function sl(x,m){return m?De(m):(q(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class Cu extends Ws{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Jo(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Jo(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Jo(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function jn(x){return Vi(x.auth,new Cu(x),x.bypassAuthState)}function Ag(x){const{auth:m,user:y}=x;return q(y,m,"internal-error"),lu(y,new Cu(x),x.bypassAuthState)}function Su(x){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(x){const{auth:m,user:y}=x;return q(y,m,"internal-error"),Za(y,new Cu(x),x.bypassAuthState)})).apply(this,arguments)}class Cd{constructor(m,y,T,R,W=!1){this.auth=m,this.resolver=T,this.user=R,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,c.Z)(function*(T,R){m.pendingPromise={resolve:T,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(W){m.reject(W)}});return function(T,R){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,c.Z)(function*(){const{urlResponse:T,sessionId:R,postBody:W,tenantId:Ce,error:Ke,type:Pt}=m;if(Ke)return void y.reject(Ke);const on={auth:y.auth,requestUri:T,sessionId:R,tenantId:Ce||void 0,postBody:W||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Pt)(on))}catch(Sn){y.reject(Sn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return jn;case"linkViaPopup":case"linkViaRedirect":return Su;case"reauthViaPopup":case"reauthViaRedirect":return Ag;default:dt(this.auth,"internal-error")}}resolve(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Au=new Ln(2e3,1e4);function ol(){return(ol=(0,c.Z)(function*(x,m,y){const T=vn(x);Ft(x,m,Ki);const R=sl(T,y);return new Dg(T,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function Ih(){return(Ih=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x);Ft(T.auth,m,Ki);const R=sl(T.auth,y);return new Dg(T.auth,"reauthViaPopup",m,R,T).executeNotNull()})).apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x);Ft(T.auth,m,Ki);const R=sl(T.auth,y);return new Dg(T.auth,"linkViaPopup",m,R,T).executeNotNull()})).apply(this,arguments)}let Dg=(()=>{class x extends Cd{constructor(y,T,R,W,Ce){super(y,T,W,Ce),this.provider=R,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const T=yield y.execute();return q(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,c.Z)(function*(){we(1===y.filter.length,"Popup operations only handle one event");const T=le();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(nt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,R;this.pollId=(null===(R=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Au.get())};y()}}return x.currentPopupAction=null,x})();const ps=new Map;class $f extends Cd{constructor(m,y,T=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,c.Z)(function*(){let T=ps.get(y.auth._key());if(!T){try{const W=(yield function Lm(x,m){return Jl.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;T=()=>Promise.resolve(W)}catch(R){T=()=>Promise.reject(R)}ps.set(y.auth._key(),T)}return y.bypassAuthState||ps.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,T=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(T,m);if("unknown"!==m.type){if(m.eventId){const R=yield T.auth._redirectUserForId(m.eventId);if(R)return T.user=R,y().call(T,m);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Jl(){return(Jl=(0,c.Z)(function*(x,m){const y=se(m),T=U(x);if(!(yield T._isAvailable()))return!1;const R="true"===(yield T._get(y));return yield T._remove(y),R})).apply(this,arguments)}function Iu(x,m){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(x,m){return U(x)._set(se(m),"true")})).apply(this,arguments)}function F(x,m){ps.set(x._key(),m)}function U(x){return De(x._redirectPersistence)}function se(x){return pi("pendingRedirect",x.config.apiKey,x.name)}function Qe(){return(Qe=(0,c.Z)(function*(x,m,y){const T=vn(x);Ft(x,m,Ki);const R=sl(T,y);return yield Iu(R,T),R._openRedirect(T,m,"signInViaRedirect")})).apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x);Ft(T.auth,m,Ki);const R=sl(T.auth,y);yield Iu(R,T.auth);const W=yield Fs(T);return R._openRedirect(T.auth,m,"reauthViaRedirect",W)})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(x,m,y){const T=(0,G.m9)(x);Ft(T.auth,m,Ki);const R=sl(T.auth,y);yield sr(!1,T,m.providerId),yield Iu(R,T.auth);const W=yield Fs(T);return R._openRedirect(T.auth,m,"linkViaRedirect",W)})).apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(x,m){return yield vn(x)._initializationPromise,Ta(x,m,!1)})).apply(this,arguments)}function Ta(x,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(x,m,y=!1){const T=vn(x),R=sl(T,m),Ce=yield new $f(T,R,y).execute();return Ce&&!y&&(delete Ce.user._redirectEventId,yield T._persistUserIfCurrent(Ce.user),yield T._setRedirectUser(null,m)),Ce})).apply(this,arguments)}function Fs(x){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(x){const m=le(`${x.uid}:::`);return x._redirectEventId=m,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),m})).apply(this,arguments)}class Wf{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(m,T)&&(y=!0,this.sendToConsumer(m,T),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Pg(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qf(x);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var T;if(m.error&&!qf(m)){const R=(null===(T=m.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(nt(this.auth,R))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const T=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&T}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kg(m))}saveEventToCache(m){this.cachedEventUids.add(kg(m)),this.lastProcessedEventTime=Date.now()}}function kg(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(m=>m).join("-")}function qf({type:x,error:m}){return"unknown"===x&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Bm(x){return Um.apply(this,arguments)}function Um(){return(Um=(0,c.Z)(function*(x,m={}){return Hn(x,"GET","/v1/projects",m)})).apply(this,arguments)}const Og=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dh=/^https?/;function Vm(){return(Vm=(0,c.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:m}=yield Bm(x);for(const y of m)try{if($C(y))return}catch(T){}dt(x,"unauthorized-domain")})).apply(this,arguments)}function $C(x){const m=bt(),{protocol:y,hostname:T}=new URL(m);if(x.startsWith("chrome-extension://")){const Ce=new URL(x);return""===Ce.hostname&&""===T?"chrome-extension:"===y&&x.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&Ce.hostname===T}if(!Dh.test(y))return!1;if(Og.test(x))return T===x;const R=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(T)}const vy=new Ln(3e4,6e4);function Hm(){const x=Bt().___jsl;if(null==x?void 0:x.H)for(const m of Object.keys(x.H))if(x.H[m].r=x.H[m].r||[],x.H[m].L=x.H[m].L||[],x.H[m].r=[...x.H[m].L],x.CP)for(let y=0;y<x.CP.length;y++)x.CP[y]=null}let kh=null;function Dc(x){return kh=kh||function yy(x){return new Promise((m,y)=>{var T,R,W;function Ce(){Hm(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Hm(),y(nt(x,"network-request-failed"))},timeout:vy.get()})}if(null===(R=null===(T=Bt().gapi)||void 0===T?void 0:T.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(W=Bt().gapi)||void 0===W?void 0:W.load)){const Ke=rl("iframefcb");return Bt()[Ke]=()=>{gapi.load?Ce():y(nt(x,"network-request-failed"))},Yl(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(Pt=>y(Pt))}Ce()}}).catch(m=>{throw kh=null,m})}(x),kh}const Ph=new Ln(5e3,15e3),Oh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wy(x){const m=x.config;q(m.authDomain,x,"auth-domain-config-required");const y=m.emulator?mr(m,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,T={apiKey:m.apiKey,appName:x.name,v:de.SDK_VERSION},R=cl.get(x.config.apiHost);R&&(T.eid=R);const W=x._getFrameworks();return W.length&&(T.fw=W.join(",")),`${y}?${(0,G.xO)(T).slice(1)}`}function kc(){return kc=(0,c.Z)(function*(x){const m=yield Dc(x),y=Bt().gapi;return q(y,x,"internal-error"),m.open({where:document.body,url:wy(x),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oh,dontclear:!0},T=>new Promise(function(){var R=(0,c.Z)(function*(W,Ce){yield T.restyle({setHideOnLeave:!1});const Ke=nt(x,"network-request-failed"),Pt=Bt().setTimeout(()=>{Ce(Ke)},Ph.get());function on(){Bt().clearTimeout(Pt),W(T)}T.ping(on).then(on,()=>{Ce(Ke)})});return function(W,Ce){return R.apply(this,arguments)}}()))}),kc.apply(this,arguments)}const Fg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xy{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Fo(x,m,y,T,R,W){q(x.config.authDomain,x,"auth-domain-config-required"),q(x.config.apiKey,x,"invalid-api-key");const Ce={apiKey:x.config.apiKey,appName:x.name,authType:y,redirectUrl:T,v:de.SDK_VERSION,eventId:R};if(m instanceof Ki){m.setDefaultLanguage(x.languageCode),Ce.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(Ce.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Pt,on]of Object.entries(W||{}))Ce[Pt]=on}if(m instanceof $a){const Pt=m.getScopes().filter(on=>""!==on);Pt.length>0&&(Ce.scopes=Pt.join(","))}x.tenantId&&(Ce.tid=x.tenantId);const Ke=Ce;for(const Pt of Object.keys(Ke))void 0===Ke[Pt]&&delete Ke[Pt];return`${function tc({config:x}){return x.emulator?mr(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,G.xO)(Ke).slice(1)}`}const Mh="webStorageSupport";class Yf extends class Cx{constructor(m){this.factorId=m}_process(m,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,T);case"signin":return this._finalizeSignIn(m,y.credential);default:return Xe("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Yf(m)}_finalizeEnroll(m,y,T){return function bg(x,m){return Hn(x,"POST","/v2/accounts/mfaEnrollment:finalize",Gn(x,m))}(m,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function Hf(x,m){return Hn(x,"POST","/v2/accounts/mfaSignIn:finalize",Gn(x,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sx=(()=>{class x{constructor(){}static assertion(y){return Yf._fromCredential(y)}}return x.FACTOR_ID="phone",x})();var $m="@firebase/auth";class Ty{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(T=>{var R;m((null===(R=T)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ad(){return window}function Ca(){return(Ca=(0,c.Z)(function*(x,m,y){var T;const{BuildInfo:R}=Ad();we(m.sessionId,"AuthEvent did not contain a session ID");const W=yield qC(m.sessionId),Ce={};return As()?Ce.ibi=R.packageName:mi()?Ce.apn=R.packageName:dt(x,"operation-not-supported-in-this-environment"),R.displayName&&(Ce.appDisplayName=R.displayName),Ce.sessionId=W,Fo(x,y,m.type,void 0,null!==(T=m.eventId)&&void 0!==T?T:void 0,Ce)})).apply(this,arguments)}function Bg(){return(Bg=(0,c.Z)(function*(x){const{BuildInfo:m}=Ad(),y={};As()?y.iosBundleId=m.packageName:mi()?y.androidPackageName=m.packageName:dt(x,"operation-not-supported-in-this-environment"),yield Bm(x,y)})).apply(this,arguments)}function Cy(){return(Cy=(0,c.Z)(function*(x,m,y){const{cordova:T}=Ad();let R=()=>{};try{yield new Promise((W,Ce)=>{let Ke=null;function Pt(){var Tn;W();const wi=null===(Tn=T.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof wi&&wi(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function on(){Ke||(Ke=window.setTimeout(()=>{Ce(nt(x,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&on()}m.addPassiveListener(Pt),document.addEventListener("resume",on,!1),mi()&&document.addEventListener("visibilitychange",Sn,!1),R=()=>{m.removePassiveListener(Pt),document.removeEventListener("resume",on,!1),document.removeEventListener("visibilitychange",Sn,!1),Ke&&window.clearTimeout(Ke)}})}finally{R()}})).apply(this,arguments)}function qC(x){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,c.Z)(function*(x){const m=qm(x),y=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(y)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qm(x){if(we(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(x);const m=new ArrayBuffer(x.length),y=new Uint8Array(m);for(let T=0;T<x.length;T++)y[T]=x.charCodeAt(T);return y}!function Ax(x){(0,de._registerComponent)(new Y.wA("auth",(m,{options:y})=>{const T=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),{apiKey:W,authDomain:Ce}=T.options;return((Ke,Pt)=>{q(W&&!W.includes(":"),"invalid-api-key",{appName:Ke.name}),q(!(null==Ce?void 0:Ce.includes(":")),"argument-error",{appName:Ke.name});const on={apiKey:W,authDomain:Ce,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dl(x)},Sn=new Kt(Ke,Pt,on);return function Ve(x,m){const y=(null==m?void 0:m.persistence)||[],T=(Array.isArray(y)?y:[y]).map(De);(null==m?void 0:m.errorMap)&&x._updateErrorMap(m.errorMap),x._initializeWithPersistence(T,null==m?void 0:m.popupRedirectResolver)}(Sn,y),Sn})(T,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,T)=>{m.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new Y.wA("auth-internal",m=>{const y=vn(m.getProvider("auth").getImmediate());return new Ty(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)($m,"0.20.1",function Lg(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,de.registerVersion)($m,"0.20.1","esm2017")}("Browser");class Vg extends Wf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(m)),super.onEvent(m)}initialized(){var m=this;return(0,c.Z)(function*(){yield m.initPromise})()}}function Rh(x){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,c.Z)(function*(x){const m=yield Jf()._get(Lh(x));return m&&(yield Jf()._remove(Lh(x))),m})).apply(this,arguments)}function Ay(){const x=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const T=Math.floor(Math.random()*m.length);x.push(m.charAt(T))}return x.join("")}function Jf(){return De(Cr)}function Lh(x){return pi("authEvent",x.config.apiKey,x.name)}function mo(x){if(!(null==x?void 0:x.includes("?")))return{};const[m,...y]=x.split("?");return(0,G.zd)(y.join("?"))}function Id(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nt("no-auth-event")}}function Dd(){var x;return(null===(x=null==self?void 0:self.location)||void 0===x?void 0:x.protocol)||null}function Py(x=(0,G.z$)()){return!("file:"!==Dd()&&"ionic:"!==Dd()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ym(){try{const x=self.localStorage,m=le();if(x)return x.setItem(m,"1"),x.removeItem(m),!function Gg(x=(0,G.z$)()){return function Bh(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ji(x=(0,G.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,G.hl)()}catch(x){return $g()&&(0,G.hl)()}return!1}function $g(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gs(){return(function ky(){return"http:"===Dd()||"https:"===Dd()}()||(0,G.ru)()||Py())&&!function Km(){return(0,G.b$)()||(0,G.UG)()}()&&Ym()&&!$g()}function Uh(){return Py()&&"undefined"!=typeof document}function tp(){return(tp=(0,c.Z)(function*(){return!!Uh()&&new Promise(x=>{const m=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),x(!0)})})})).apply(this,arguments)}const _o={LOCAL:"local",NONE:"none",SESSION:"session"},Du=q,Xm="persistence";function kd(x){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,c.Z)(function*(x){yield x._initializationPromise;const m=Wg(),y=pi(Xm,x.config.apiKey,x.name);m&&m.setItem(y,x._getPersistence())})).apply(this,arguments)}function Wg(){var x;try{return(null===(x=function Mx(){return"undefined"!=typeof window?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch(m){return null}}const Nx=q;class Sa{constructor(){this.browserResolver=De(class Ey{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A,this._completeRedirectFn=Ta,this._overrideRedirectResult=F}_openPopup(m,y,T,R){var W=this;return(0,c.Z)(function*(){var Ce;we(null===(Ce=W.eventManagers[m._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const Ke=Fo(m,y,T,bt(),R);return function Kf(x,m,y,T=500,R=600){const W=Math.max((window.screen.availHeight-R)/2,0).toString(),Ce=Math.max((window.screen.availWidth-T)/2,0).toString();let Ke="";const Pt=Object.assign(Object.assign({},Fg),{width:T.toString(),height:R.toString(),top:W,left:Ce}),on=(0,G.z$)().toLowerCase();y&&(Ke=gc(on)?"_blank":y),pc(on)&&(m=m||"http://localhost",Pt.scrollbars="yes");const Sn=Object.entries(Pt).reduce((wi,[Ro,Vh])=>`${wi}${Ro}=${Vh},`,"");if(function Qo(x=(0,G.z$)()){var m;return As(x)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(on)&&"_self"!==Ke)return function Ex(x,m){const y=document.createElement("a");y.href=x,y.target=m;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(m||"",Ke),new xy(null);const Tn=window.open(m||"",Ke,Sn);q(Tn,x,"popup-blocked");try{Tn.focus()}catch(wi){}return new xy(Tn)}(m,Ke,le())})()}_openRedirect(m,y,T,R){var W=this;return(0,c.Z)(function*(){return yield W._originValidation(m),function fr(x){Bt().location.href=x}(Fo(m,y,T,bt(),R)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:R,promise:W}=this.eventManagers[y];return R?Promise.resolve(R):(we(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(m);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(m){var y=this;return(0,c.Z)(function*(){const T=yield function WC(x){return kc.apply(this,arguments)}(m),R=new Wf(m);return T.register("authEvent",W=>(q(null==W?void 0:W.authEvent,m,"invalid-auth-event"),{status:R.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:R},y.iframes[m._key()]=T,R})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Mh,{type:Mh},R=>{var W;const Ce=null===(W=null==R?void 0:R[0])||void 0===W?void 0:W[Mh];void 0!==Ce&&y(!!Ce),dt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function zf(x){return Vm.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return ha()||Il()||As()}}),this.cordovaResolver=De(class Zm{constructor(){this._redirectPersistence=A,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ta,this._overrideRedirectResult=F}_initialize(m){var y=this;return(0,c.Z)(function*(){const T=m._key();let R=y.eventManagers.get(T);return R||(R=new Vg(m),y.eventManagers.set(T,R),y.attachCallbackListeners(m,R)),R})()}_openPopup(m){dt(m,"operation-not-supported-in-this-environment")}_openRedirect(m,y,T,R){var W=this;return(0,c.Z)(function*(){!function Nh(x){var m,y,T,R,W,Ce,Ke,Pt,on,Sn;const Tn=Ad();q("function"==typeof(null===(m=null==Tn?void 0:Tn.universalLinks)||void 0===m?void 0:m.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(y=null==Tn?void 0:Tn.BuildInfo)||void 0===y?void 0:y.packageName),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(W=null===(R=null===(T=null==Tn?void 0:Tn.cordova)||void 0===T?void 0:T.plugins)||void 0===R?void 0:R.browsertab)||void 0===W?void 0:W.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Pt=null===(Ke=null===(Ce=null==Tn?void 0:Tn.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===Pt?void 0:Pt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Sn=null===(on=null==Tn?void 0:Tn.cordova)||void 0===on?void 0:on.InAppBrowser)||void 0===Sn?void 0:Sn.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Ce=yield W._initialize(m);yield Ce.initialized(),Ce.resetRedirect(),function O(){ps.clear()}(),yield W._originValidation(m);const Ke=function Hg(x,m,y=null){return{type:m,eventId:y,urlResponse:null,sessionId:Ay(),postBody:null,tenantId:x.tenantId,error:nt(x,"no-auth-event")}}(m,T,R);yield function Sy(x,m){return Jf()._set(Lh(x),m)}(m,Ke);const Pt=yield function Wm(x,m,y){return Ca.apply(this,arguments)}(m,Ke,y),on=yield function Ug(x){const{cordova:m}=Ad();return new Promise(y=>{m.plugins.browsertab.isAvailable(T=>{let R=null;T?m.plugins.browsertab.openUrl(x):R=m.InAppBrowser.open(x,function ch(x=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),y(R)})})}(Pt);return function Oc(x,m,y){return Cy.apply(this,arguments)}(m,Ce,on)})()}_isIframeWebStorageSupported(m,y){throw new Error("Method not implemented.")}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Qf(x){return Bg.apply(this,arguments)}(m)),this.originValidationPromises[y]}attachCallbackListeners(m,y){const{universalLinks:T,handleOpenURL:R,BuildInfo:W}=Ad(),Ce=setTimeout((0,c.Z)(function*(){yield Rh(m),y.onEvent(Id())}),500),Ke=function(){var Sn=(0,c.Z)(function*(Tn){clearTimeout(Ce);const wi=yield Rh(m);let Ro=null;wi&&(null==Tn?void 0:Tn.url)&&(Ro=function Dx(x,m){var y,T;const R=function ep(x){const m=mo(x),y=m.link?decodeURIComponent(m.link):void 0,T=mo(y).link,R=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return mo(R).link||R||T||y||x}(m);if(R.includes("/__/auth/callback")){const W=mo(R),Ce=W.firebaseError?function Iy(x){try{return JSON.parse(x)}catch(m){return null}}(decodeURIComponent(W.firebaseError)):null,Ke=null===(T=null===(y=null==Ce?void 0:Ce.code)||void 0===y?void 0:y.split("auth/"))||void 0===T?void 0:T[1],Pt=Ke?nt(Ke):null;return Pt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:R,postBody:null}}return null}(wi,Tn.url)),y.onEvent(Ro||Id())});return function(wi){return Sn.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,Ke);const Pt=R,on=`${W.packageName.toLowerCase()}://`;Ad().handleOpenURL=function(){var Sn=(0,c.Z)(function*(Tn){if(Tn.toLowerCase().startsWith(on)&&Ke({url:Tn}),"function"==typeof Pt)try{Pt(Tn)}catch(wi){console.error(wi)}});return function(Tn){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=A,this._completeRedirectFn=Ta,this._overrideRedirectResult=F}_initialize(m){var y=this;return(0,c.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,y,T,R){var W=this;return(0,c.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._openPopup(m,y,T,R)})()}_openRedirect(m,y,T,R){var W=this;return(0,c.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._openRedirect(m,y,T,R)})()}_isIframeWebStorageSupported(m,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,y)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Uh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nx(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,c.Z)(function*(){if(m.underlyingResolver)return;const y=yield function Qm(){return tp.apply(this,arguments)}();m.underlyingResolver=y?m.cordovaResolver:m.browserResolver})()}}function qg(x){return x.unwrap()}function Lx(x){return Oy(x)}function Oy(x){const{_tokenResponse:m}=x instanceof G.ZR?x.customData:x;if(!m)return null;if(!(x instanceof G.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Xl.credentialFromResult(x);const y=m.providerId;if(!y||"password"===y)return null;let T;switch(y){case"google.com":T=mh;break;case"facebook.com":T=Fl;break;case"github.com":T=Rf;break;case"twitter.com":T=_h;break;default:const{oauthIdToken:R,oauthAccessToken:W,oauthTokenSecret:Ce,pendingToken:Ke,nonce:Pt}=m;return W||Ce||R||Ke?Ke?y.startsWith("saml.")?qa._create(y,Ke):ea._fromParams({providerId:y,signInMethod:y,pendingToken:Ke,idToken:R,accessToken:W}):new Io(y).credential({idToken:R,accessToken:W,rawNonce:Pt}):null}return x instanceof G.ZR?T.credentialFromError(x):T.credentialFromResult(x)}function No(x,m){return m.catch(y=>{throw y instanceof G.ZR&&function zg(x,m){var y;const T=null===(y=m.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new Bx(x,function oi(x,m){var y;const T=(0,G.m9)(x),R=m;return q(m.customData.operationType,T,"argument-error"),q(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),Ja._fromError(T,R)}(x,m));else if(T){const R=Oy(m),W=m;R&&(W.credential=R,W.tenantId=T.tenantId||void 0,W.email=T.email||void 0,W.phoneNumber=T.phoneNumber||void 0)}}(x,y),y}).then(y=>{const R=y.user;return{operationType:y.operationType,credential:Lx(y),additionalUserInfo:Si(y),user:ul.getOrCreate(R)}})}function e_(x,m){return t_.apply(this,arguments)}function t_(){return(t_=(0,c.Z)(function*(x,m){const y=yield m;return{verificationId:y.verificationId,confirm:T=>No(x,y.confirm(T))}})).apply(this,arguments)}class Bx{constructor(m,y){this.resolver=y,this.auth=function Rx(x){return x.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return No(qg(this.auth),this.resolver.resolveSignIn(m))}}class ul{constructor(m){this._delegate=m,this.multiFactor=function xa(x){const m=(0,G.m9)(x);return Ps.has(m)||Ps.set(m,Gl._fromUser(m)),Ps.get(m)}(m)}static getOrCreate(m){return ul.USER_MAP.has(m)||ul.USER_MAP.set(m,new ul(m)),ul.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var y=this;return(0,c.Z)(function*(){return No(y.auth,Ci(y._delegate,m))})()}linkWithPhoneNumber(m,y){var T=this;return(0,c.Z)(function*(){return e_(T.auth,function Ah(x,m,y){return Sg.apply(this,arguments)}(T._delegate,m,y))})()}linkWithPopup(m){var y=this;return(0,c.Z)(function*(){return No(y.auth,function Ig(x,m,y){return ba.apply(this,arguments)}(y._delegate,m,Sa))})()}linkWithRedirect(m){var y=this;return(0,c.Z)(function*(){return yield kd(vn(y.auth)),function or(x,m,y){return function On(x,m,y){return Di.apply(this,arguments)}(x,m,y)}(y._delegate,m,Sa)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var y=this;return(0,c.Z)(function*(){return No(y.auth,fo(y._delegate,m))})()}reauthenticateWithPhoneNumber(m,y){return e_(this.auth,function Rm(x,m,y){return Os.apply(this,arguments)}(this._delegate,m,y))}reauthenticateWithPopup(m){return No(this.auth,function sa(x,m,y){return Ih.apply(this,arguments)}(this._delegate,m,Sa))}reauthenticateWithRedirect(m){var y=this;return(0,c.Z)(function*(){return yield kd(vn(y.auth)),function rn(x,m,y){return function fn(x,m,y){return bn.apply(this,arguments)}(x,m,y)}(y._delegate,m,Sa)})()}sendEmailVerification(m){return function go(x,m){return hu.apply(this,arguments)}(this._delegate,m)}unlink(m){var y=this;return(0,c.Z)(function*(){return yield function Lf(x,m){return xr.apply(this,arguments)}(y._delegate,m),y})()}updateEmail(m){return function wh(x,m){return Ec((0,G.m9)(x),m,null)}(this._delegate,m)}updatePassword(m){return function pu(x,m){return Ec((0,G.m9)(x),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Tu(x,m){return il.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function fu(x,m){return xc.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,y){return function Vl(x,m,y){return wc.apply(this,arguments)}(this._delegate,m,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ul.USER_MAP=new WeakMap;const rp=q;let My=(()=>{class x{constructor(y,T){if(this.app=y,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=y.options;rp(R,"invalid-api-key",{appName:y.name}),rp(R,"invalid-api-key",{appName:y.name});const W="undefined"!=typeof window?Sa:void 0;this._delegate=T.initialize({options:{persistence:Ux(R,y.name),popupRedirectResolver:W}}),this._delegate._updateErrorMap(Et),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ul.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,T){!function Is(x,m,y){const T=vn(x);q(T._canInitEmulator,T,"emulator-config-failed"),q(/^https?:\/\//.test(m),T,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),W=To(m),{host:Ce,port:Ke}=function si(x){const m=To(x),y=/(\/\/)?([^?#/]+)/.exec(x.substr(m.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(T);if(R){const W=R[1];return{host:W,port:$s(T.substr(W.length+1))}}{const[W,Ce]=T.split(":");return{host:W,port:$s(Ce)}}}(m);T.config.emulator={url:`${W}//${Ce}${null===Ke?"":`:${Ke}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ce,port:Ke,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function hr(){function x(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(this._delegate,y,T)}applyActionCode(y){return function Ul(x,m){return ut.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return $n(this._delegate,y)}confirmPasswordReset(y,T){return function uu(x,m,y){return md.apply(this,arguments)}(this._delegate,y,T)}createUserWithEmailAndPassword(y,T){var R=this;return(0,c.Z)(function*(){return No(R._delegate,function va(x,m,y){return ks.apply(this,arguments)}(R._delegate,y,T))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function du(x,m){return ya.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function yh(x,m){const y=au.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,c.Z)(function*(){rp(gs(),y._delegate,"operation-not-supported-in-this-environment");const T=yield function Xi(x,m){return al.apply(this,arguments)}(y._delegate,Sa);return T?No(y._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Dy(x,m){vn(x)._logFramework(m)}(this._delegate,y)}onAuthStateChanged(y,T,R){const{next:W,error:Ce,complete:Ke}=Fy(y,T,R);return this._delegate.onAuthStateChanged(W,Ce,Ke)}onIdTokenChanged(y,T,R){const{next:W,error:Ce,complete:Ke}=Fy(y,T,R);return this._delegate.onIdTokenChanged(W,Ce,Ke)}sendSignInLinkToEmail(y,T){return function vd(x,m,y){return yd.apply(this,arguments)}(this._delegate,y,T)}sendPasswordResetEmail(y,T){return function gd(x,m,y){return Ya.apply(this,arguments)}(this._delegate,y,T||void 0)}setPersistence(y){var T=this;return(0,c.Z)(function*(){let R;switch(function Fx(x,m){Du(Object.values(_o).includes(m),x,"invalid-persistence-type"),(0,G.b$)()?Du(m!==_o.SESSION,x,"unsupported-persistence-type"):(0,G.UG)()?Du(m===_o.NONE,x,"unsupported-persistence-type"):$g()?Du(m===_o.NONE||m===_o.LOCAL&&(0,G.hl)(),x,"unsupported-persistence-type"):Du(m===_o.NONE||Ym(),x,"unsupported-persistence-type")}(T._delegate,y),y){case _o.SESSION:R=A;break;case _o.LOCAL:R=(yield De(Zl)._isAvailable())?Zl:Cr;break;case _o.NONE:R=Dn;break;default:return dt("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return No(this._delegate,function vh(x){return hd.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return No(this._delegate,Lr(this._delegate,y))}signInWithCustomToken(y){return No(this._delegate,function Ll(x,m){return An.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,T){return No(this._delegate,function _d(x,m,y){return Lr((0,G.m9)(x),gh.credential(m,y))}(this._delegate,y,T))}signInWithEmailLink(y,T){return No(this._delegate,function wg(x,m,y){return ta.apply(this,arguments)}(this._delegate,y,T))}signInWithPhoneNumber(y,T){return e_(this._delegate,function vi(x,m,y){return bd.apply(this,arguments)}(this._delegate,y,T))}signInWithPopup(y){var T=this;return(0,c.Z)(function*(){return rp(gs(),T._delegate,"operation-not-supported-in-this-environment"),No(T._delegate,function _y(x,m,y){return ol.apply(this,arguments)}(T._delegate,y,Sa))})()}signInWithRedirect(y){var T=this;return(0,c.Z)(function*(){return rp(gs(),T._delegate,"operation-not-supported-in-this-environment"),yield kd(T._delegate),function ke(x,m,y){return function Le(x,m,y){return Qe.apply(this,arguments)}(x,m,y)}(T._delegate,y,Sa)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function Nr(x,m){return yc.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=_o,x})();function Fy(x,m,y){let T=x;"function"!=typeof x&&({next:T,error:m,complete:y}=x);const R=T;return{next:Ce=>R(Ce&&ul.getOrCreate(Ce)),error:m,complete:y}}function Ux(x,m){const y=function np(x,m){const y=Wg();if(!y)return[];const T=pi(Xm,x,m);switch(y.getItem(T)){case _o.NONE:return[Dn];case _o.LOCAL:return[Zl,A];case _o.SESSION:return[A];default:return[]}}(x,m);if("undefined"!=typeof self&&!y.includes(Zl)&&y.push(Zl),"undefined"!=typeof window)for(const T of[Cr,A])y.includes(T)||y.push(T);return y.includes(Dn)||y.push(Dn),y}class n_{constructor(){this.providerId="phone",this._delegate=new Xl(qg(ye.Z.auth()))}static credential(m,y){return Xl.credential(m,y)}verifyPhoneNumber(m,y){return this._delegate.verifyPhoneNumber(m,y)}unwrap(){return this._delegate}}n_.PHONE_SIGN_IN_METHOD=Xl.PHONE_SIGN_IN_METHOD,n_.PROVIDER_ID=Xl.PROVIDER_ID;const Ny=q;class Vx{constructor(m,y,T=ye.Z.app()){var R;Ny(null===(R=T.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Gf(m,y,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Pd(x){x.INTERNAL.registerComponent(new Y.wA("auth-compat",m=>{const y=m.getProvider("app-compat").getImmediate(),T=m.getProvider("auth");return new My(y,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:gh,FacebookAuthProvider:Fl,GithubAuthProvider:Rf,GoogleAuthProvider:mh,OAuthProvider:Io,SAMLAuthProvider:ds,PhoneAuthProvider:n_,PhoneMultiFactorGenerator:Sx,RecaptchaVerifier:Vx,TwitterAuthProvider:_h,Auth:My,AuthCredential:Ws,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.2.14")}(ye.Z)},8306:(Jt,Ye,K)=>{"use strict";K.d(Ye,{y:()=>me});var c=K(930),ye=K(727),G=K(8822),de=K(4671);var Y=K(2416),J=K(576),Ue=K(2806);let me=(()=>{class ft{constructor(Ot){Ot&&(this._subscribe=Ot)}lift(Ot){const qe=new ft;return qe.source=this,qe.operator=Ot,qe}subscribe(Ot,qe,ot){const Vt=function Nt(ft){return ft&&ft instanceof c.Lv||function Fe(ft){return ft&&(0,J.m)(ft.next)&&(0,J.m)(ft.error)&&(0,J.m)(ft.complete)}(ft)&&(0,ye.Nn)(ft)}(Ot)?Ot:new c.Hp(Ot,qe,ot);return(0,Ue.x)(()=>{const{operator:en,source:dt}=this;Vt.add(en?en.call(Vt,dt):dt?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Ot){try{return this._subscribe(Ot)}catch(qe){Ot.error(qe)}}forEach(Ot,qe){return new(qe=_e(qe))((ot,Vt)=>{const en=new c.Hp({next:dt=>{try{Ot(dt)}catch(nt){Vt(nt),en.unsubscribe()}},error:Vt,complete:ot});this.subscribe(en)})}_subscribe(Ot){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ot)}[G.L](){return this}pipe(...Ot){return function Q(ft){return 0===ft.length?de.y:1===ft.length?ft[0]:function(Ot){return ft.reduce((qe,ot)=>ot(qe),Ot)}}(Ot)(this)}toPromise(Ot){return new(Ot=_e(Ot))((qe,ot)=>{let Vt;this.subscribe(en=>Vt=en,en=>ot(en),()=>qe(Vt))})}}return ft.create=Et=>new ft(Et),ft})();function _e(ft){var Et;return null!==(Et=null!=ft?ft:Y.v.Promise)&&void 0!==Et?Et:Promise}},7579:(Jt,Ye,K)=>{"use strict";K.d(Ye,{x:()=>Y});var c=K(8306),ye=K(727);const de=(0,K(3888).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=K(8737),Q=K(2806);let Y=(()=>{class Ue extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const Fe=new J(this,this);return Fe.operator=_e,Fe}_throwIfClosed(){if(this.closed)throw new de}next(_e){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(_e)}})}error(_e){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(_e)}})}complete(){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:Fe,isStopped:Nt,observers:ft}=this;return Fe||Nt?ye.Lc:(this.currentObservers=null,ft.push(_e),new ye.w0(()=>{this.currentObservers=null,(0,X.P)(ft,_e)}))}_checkFinalizedStatuses(_e){const{hasError:Fe,thrownError:Nt,isStopped:ft}=this;Fe?_e.error(Nt):ft&&_e.complete()}asObservable(){const _e=new c.y;return _e.source=this,_e}}return Ue.create=(me,_e)=>new J(me,_e),Ue})();class J extends Y{constructor(me,_e){super(),this.destination=me,this.source=_e}next(me){var _e,Fe;null===(Fe=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===Fe||Fe.call(_e,me)}error(me){var _e,Fe;null===(Fe=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===Fe||Fe.call(_e,me)}complete(){var me,_e;null===(_e=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===_e||_e.call(me)}_subscribe(me){var _e,Fe;return null!==(Fe=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(me))&&void 0!==Fe?Fe:ye.Lc}}},930:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Hp:()=>Ot,Lv:()=>Fe});var c=K(576),ye=K(727),G=K(2416),de=K(7849),X=K(5032);const Q=Ue("C",void 0,void 0);function Ue(dt,nt,st){return{kind:dt,value:nt,error:st}}var me=K(3410),_e=K(2806);class Fe extends ye.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,ye.Nn)(nt)&&nt.add(this)):this.destination=en}static create(nt,st,Ft){return new Ot(nt,st,Ft)}next(nt){this.isStopped?Vt(function J(dt){return Ue("N",dt,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?Vt(function Y(dt){return Ue("E",void 0,dt)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?Vt(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Nt=Function.prototype.bind;function ft(dt,nt){return Nt.call(dt,nt)}class Et{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:st}=this;if(st.next)try{st.next(nt)}catch(Ft){qe(Ft)}}error(nt){const{partialObserver:st}=this;if(st.error)try{st.error(nt)}catch(Ft){qe(Ft)}else qe(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(st){qe(st)}}}class Ot extends Fe{constructor(nt,st,Ft){let Mt;if(super(),(0,c.m)(nt)||!nt)Mt={next:null!=nt?nt:void 0,error:null!=st?st:void 0,complete:null!=Ft?Ft:void 0};else{let q;this&&G.v.useDeprecatedNextContext?(q=Object.create(nt),q.unsubscribe=()=>this.unsubscribe(),Mt={next:nt.next&&ft(nt.next,q),error:nt.error&&ft(nt.error,q),complete:nt.complete&&ft(nt.complete,q)}):Mt=nt}this.destination=new Et(Mt)}}function qe(dt){G.v.useDeprecatedSynchronousErrorHandling?(0,_e.O)(dt):(0,de.h)(dt)}function Vt(dt,nt){const{onStoppedNotification:st}=G.v;st&&me.z.setTimeout(()=>st(dt,nt))}const en={closed:!0,next:X.Z,error:function ot(dt){throw dt},complete:X.Z}},727:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Lc:()=>Q,w0:()=>X,Nn:()=>Y});var c=K(576);const G=(0,K(3888).d)(Ue=>function(_e){Ue(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((Fe,Nt)=>`${Nt+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var de=K(8737);class X{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const ft of _e)ft.remove(this);else _e.remove(this);const{initialTeardown:Fe}=this;if((0,c.m)(Fe))try{Fe()}catch(ft){me=ft instanceof G?ft.errors:[ft]}const{_finalizers:Nt}=this;if(Nt){this._finalizers=null;for(const ft of Nt)try{J(ft)}catch(Et){me=null!=me?me:[],Et instanceof G?me=[...me,...Et.errors]:me.push(Et)}}if(me)throw new G(me)}}add(me){var _e;if(me&&me!==this)if(this.closed)J(me);else{if(me instanceof X){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(me)}}_hasParent(me){const{_parentage:_e}=this;return _e===me||Array.isArray(_e)&&_e.includes(me)}_addParent(me){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(me),_e):_e?[_e,me]:me}_removeParent(me){const{_parentage:_e}=this;_e===me?this._parentage=null:Array.isArray(_e)&&(0,de.P)(_e,me)}remove(me){const{_finalizers:_e}=this;_e&&(0,de.P)(_e,me),me instanceof X&&me._removeParent(this)}}X.EMPTY=(()=>{const Ue=new X;return Ue.closed=!0,Ue})();const Q=X.EMPTY;function Y(Ue){return Ue instanceof X||Ue&&"closed"in Ue&&(0,c.m)(Ue.remove)&&(0,c.m)(Ue.add)&&(0,c.m)(Ue.unsubscribe)}function J(Ue){(0,c.m)(Ue)?Ue():Ue.unsubscribe()}},2416:(Jt,Ye,K)=>{"use strict";K.d(Ye,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Jt,Ye,K)=>{"use strict";K.d(Ye,{E:()=>ye});const ye=new(K(8306).y)(X=>X.complete())},8996:(Jt,Ye,K)=>{"use strict";K.d(Ye,{D:()=>nt});var c=K(8421),ye=K(5363),G=K(9468),Q=K(8306),J=K(2202),Ue=K(576),me=K(9672);function Fe(st,Ft){if(!st)throw new Error("Iterable cannot be null");return new Q.y(Mt=>{(0,me.f)(Mt,Ft,()=>{const q=st[Symbol.asyncIterator]();(0,me.f)(Mt,Ft,()=>{q.next().then(Xe=>{Xe.done?Mt.complete():Mt.next(Xe.value)})},0,!0)})})}var Nt=K(3670),ft=K(8239),Et=K(1144),Ot=K(6495),qe=K(2206),ot=K(4532),Vt=K(3260);function nt(st,Ft){return Ft?function dt(st,Ft){if(null!=st){if((0,Nt.c)(st))return function de(st,Ft){return(0,c.Xf)(st).pipe((0,G.R)(Ft),(0,ye.Q)(Ft))}(st,Ft);if((0,Et.z)(st))return function Y(st,Ft){return new Q.y(Mt=>{let q=0;return Ft.schedule(function(){q===st.length?Mt.complete():(Mt.next(st[q++]),Mt.closed||this.schedule())})})}(st,Ft);if((0,ft.t)(st))return function X(st,Ft){return(0,c.Xf)(st).pipe((0,G.R)(Ft),(0,ye.Q)(Ft))}(st,Ft);if((0,qe.D)(st))return Fe(st,Ft);if((0,Ot.T)(st))return function _e(st,Ft){return new Q.y(Mt=>{let q;return(0,me.f)(Mt,Ft,()=>{q=st[J.h](),(0,me.f)(Mt,Ft,()=>{let Xe,we;try{({value:Xe,done:we}=q.next())}catch(Re){return void Mt.error(Re)}we?Mt.complete():Mt.next(Xe)},0,!0)}),()=>(0,Ue.m)(null==q?void 0:q.return)&&q.return()})}(st,Ft);if((0,Vt.L)(st))return function en(st,Ft){return Fe((0,Vt.Q)(st),Ft)}(st,Ft)}throw(0,ot.z)(st)}(st,Ft):(0,c.Xf)(st)}},8421:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Xf:()=>Nt});var c=K(655),ye=K(1144),G=K(8239),de=K(8306),X=K(3670),Q=K(2206),Y=K(4532),J=K(6495),Ue=K(3260),me=K(576),_e=K(7849),Fe=K(8822);function Nt(dt){if(dt instanceof de.y)return dt;if(null!=dt){if((0,X.c)(dt))return function ft(dt){return new de.y(nt=>{const st=dt[Fe.L]();if((0,me.m)(st.subscribe))return st.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(dt);if((0,ye.z)(dt))return function Et(dt){return new de.y(nt=>{for(let st=0;st<dt.length&&!nt.closed;st++)nt.next(dt[st]);nt.complete()})}(dt);if((0,G.t)(dt))return function Ot(dt){return new de.y(nt=>{dt.then(st=>{nt.closed||(nt.next(st),nt.complete())},st=>nt.error(st)).then(null,_e.h)})}(dt);if((0,Q.D)(dt))return ot(dt);if((0,J.T)(dt))return function qe(dt){return new de.y(nt=>{for(const st of dt)if(nt.next(st),nt.closed)return;nt.complete()})}(dt);if((0,Ue.L)(dt))return function Vt(dt){return ot((0,Ue.Q)(dt))}(dt)}throw(0,Y.z)(dt)}function ot(dt){return new de.y(nt=>{(function en(dt,nt){var st,Ft,Mt,q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(st=(0,c.KL)(dt);!(Ft=yield st.next()).done;)if(nt.next(Ft.value),nt.closed)return}catch(Xe){Mt={error:Xe}}finally{try{Ft&&!Ft.done&&(q=st.return)&&(yield q.call(st))}finally{if(Mt)throw Mt.error}}nt.complete()})})(dt,nt).catch(st=>nt.error(st))})}},6451:(Jt,Ye,K)=>{"use strict";K.d(Ye,{T:()=>Q});var c=K(8189),ye=K(8421),G=K(515),de=K(3269),X=K(8996);function Q(...Y){const J=(0,de.yG)(Y),Ue=(0,de._6)(Y,1/0),me=Y;return me.length?1===me.length?(0,ye.Xf)(me[0]):(0,c.J)(Ue)((0,X.D)(me,J)):G.E}},5403:(Jt,Ye,K)=>{"use strict";K.d(Ye,{x:()=>ye});var c=K(930);function ye(de,X,Q,Y,J){return new G(de,X,Q,Y,J)}class G extends c.Lv{constructor(X,Q,Y,J,Ue,me){super(X),this.onFinalize=Ue,this.shouldUnsubscribe=me,this._next=Q?function(_e){try{Q(_e)}catch(Fe){X.error(Fe)}}:super._next,this._error=J?function(_e){try{J(_e)}catch(Fe){X.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(_e){X.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(Jt,Ye,K)=>{"use strict";K.d(Ye,{U:()=>G});var c=K(4482),ye=K(5403);function G(de,X){return(0,c.e)((Q,Y)=>{let J=0;Q.subscribe((0,ye.x)(Y,Ue=>{Y.next(de.call(X,Ue,J++))}))})}},8189:(Jt,Ye,K)=>{"use strict";K.d(Ye,{J:()=>G});var c=K(5577),ye=K(4671);function G(de=1/0){return(0,c.z)(ye.y,de)}},5577:(Jt,Ye,K)=>{"use strict";K.d(Ye,{z:()=>J});var c=K(4004),ye=K(8421),G=K(4482),de=K(9672),X=K(5403),Y=K(576);function J(Ue,me,_e=1/0){return(0,Y.m)(me)?J((Fe,Nt)=>(0,c.U)((ft,Et)=>me(Fe,ft,Nt,Et))((0,ye.Xf)(Ue(Fe,Nt))),_e):("number"==typeof me&&(_e=me),(0,G.e)((Fe,Nt)=>function Q(Ue,me,_e,Fe,Nt,ft,Et,Ot){const qe=[];let ot=0,Vt=0,en=!1;const dt=()=>{en&&!qe.length&&!ot&&me.complete()},nt=Ft=>ot<Fe?st(Ft):qe.push(Ft),st=Ft=>{ft&&me.next(Ft),ot++;let Mt=!1;(0,ye.Xf)(_e(Ft,Vt++)).subscribe((0,X.x)(me,q=>{null==Nt||Nt(q),ft?nt(q):me.next(q)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(ot--;qe.length&&ot<Fe;){const q=qe.shift();Et?(0,de.f)(me,Et,()=>st(q)):st(q)}dt()}catch(q){me.error(q)}}))};return Ue.subscribe((0,X.x)(me,nt,()=>{en=!0,dt()})),()=>{null==Ot||Ot()}}(Fe,Nt,Ue,_e)))}},5363:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Q:()=>de});var c=K(9672),ye=K(4482),G=K(5403);function de(X,Q=0){return(0,ye.e)((Y,J)=>{Y.subscribe((0,G.x)(J,Ue=>(0,c.f)(J,X,()=>J.next(Ue),Q),()=>(0,c.f)(J,X,()=>J.complete(),Q),Ue=>(0,c.f)(J,X,()=>J.error(Ue),Q)))})}},3099:(Jt,Ye,K)=>{"use strict";K.d(Ye,{B:()=>Q});var c=K(8996),ye=K(5698),G=K(7579),de=K(930),X=K(4482);function Q(J={}){const{connector:Ue=(()=>new G.x),resetOnError:me=!0,resetOnComplete:_e=!0,resetOnRefCountZero:Fe=!0}=J;return Nt=>{let ft=null,Et=null,Ot=null,qe=0,ot=!1,Vt=!1;const en=()=>{null==Et||Et.unsubscribe(),Et=null},dt=()=>{en(),ft=Ot=null,ot=Vt=!1},nt=()=>{const st=ft;dt(),null==st||st.unsubscribe()};return(0,X.e)((st,Ft)=>{qe++,!Vt&&!ot&&en();const Mt=Ot=null!=Ot?Ot:Ue();Ft.add(()=>{qe--,0===qe&&!Vt&&!ot&&(Et=Y(nt,Fe))}),Mt.subscribe(Ft),ft||(ft=new de.Hp({next:q=>Mt.next(q),error:q=>{Vt=!0,en(),Et=Y(dt,me,q),Mt.error(q)},complete:()=>{ot=!0,en(),Et=Y(dt,_e),Mt.complete()}}),(0,c.D)(st).subscribe(ft))})(Nt)}}function Y(J,Ue,...me){return!0===Ue?(J(),null):!1===Ue?null:Ue(...me).pipe((0,ye.q)(1)).subscribe(()=>J())}},9468:(Jt,Ye,K)=>{"use strict";K.d(Ye,{R:()=>ye});var c=K(4482);function ye(G,de=0){return(0,c.e)((X,Q)=>{Q.add(G.schedule(()=>X.subscribe(Q),de))})}},5698:(Jt,Ye,K)=>{"use strict";K.d(Ye,{q:()=>de});var c=K(515),ye=K(4482),G=K(5403);function de(X){return X<=0?()=>c.E:(0,ye.e)((Q,Y)=>{let J=0;Q.subscribe((0,G.x)(Y,Ue=>{++J<=X&&(Y.next(Ue),X<=J&&Y.complete())}))})}},8505:(Jt,Ye,K)=>{"use strict";K.d(Ye,{b:()=>X});var c=K(576),ye=K(4482),G=K(5403),de=K(4671);function X(Q,Y,J){const Ue=(0,c.m)(Q)||Y||J?{next:Q,error:Y,complete:J}:Q;return Ue?(0,ye.e)((me,_e)=>{var Fe;null===(Fe=Ue.subscribe)||void 0===Fe||Fe.call(Ue);let Nt=!0;me.subscribe((0,G.x)(_e,ft=>{var Et;null===(Et=Ue.next)||void 0===Et||Et.call(Ue,ft),_e.next(ft)},()=>{var ft;Nt=!1,null===(ft=Ue.complete)||void 0===ft||ft.call(Ue),_e.complete()},ft=>{var Et;Nt=!1,null===(Et=Ue.error)||void 0===Et||Et.call(Ue,ft),_e.error(ft)},()=>{var ft,Et;Nt&&(null===(ft=Ue.unsubscribe)||void 0===ft||ft.call(Ue)),null===(Et=Ue.finalize)||void 0===Et||Et.call(Ue)}))}):de.y}},4408:(Jt,Ye,K)=>{"use strict";K.d(Ye,{o:()=>X});var c=K(727);class ye extends c.w0{constructor(Y,J){super()}schedule(Y,J=0){return this}}const G={setInterval(Q,Y,...J){const{delegate:Ue}=G;return(null==Ue?void 0:Ue.setInterval)?Ue.setInterval(Q,Y,...J):setInterval(Q,Y,...J)},clearInterval(Q){const{delegate:Y}=G;return((null==Y?void 0:Y.clearInterval)||clearInterval)(Q)},delegate:void 0};var de=K(8737);class X extends ye{constructor(Y,J){super(Y,J),this.scheduler=Y,this.work=J,this.pending=!1}schedule(Y,J=0){if(this.closed)return this;this.state=Y;const Ue=this.id,me=this.scheduler;return null!=Ue&&(this.id=this.recycleAsyncId(me,Ue,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(me,this.id,J),this}requestAsyncId(Y,J,Ue=0){return G.setInterval(Y.flush.bind(Y,this),Ue)}recycleAsyncId(Y,J,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return J;G.clearInterval(J)}execute(Y,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Y,J);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,J){let me,Ue=!1;try{this.work(Y)}catch(_e){Ue=!0,me=_e||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:Y,scheduler:J}=this,{actions:Ue}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Ue,this),null!=Y&&(this.id=this.recycleAsyncId(J,Y,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,Ye,K)=>{"use strict";K.d(Ye,{v:()=>G});var c=K(6063);class ye{constructor(X,Q=ye.now){this.schedulerActionCtor=X,this.now=Q}schedule(X,Q=0,Y){return new this.schedulerActionCtor(this,X).schedule(Y,Q)}}ye.now=c.l.now;class G extends ye{constructor(X,Q=ye.now){super(X,Q),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:Q}=this;if(this._active)return void Q.push(X);let Y;this._active=!0;do{if(Y=X.execute(X.state,X.delay))break}while(X=Q.shift());if(this._active=!1,Y){for(;X=Q.shift();)X.unsubscribe();throw Y}}}},4986:(Jt,Ye,K)=>{"use strict";K.d(Ye,{P:()=>de,z:()=>G});var c=K(4408);const G=new(K(7565).v)(c.o),de=G},6063:(Jt,Ye,K)=>{"use strict";K.d(Ye,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Jt,Ye,K)=>{"use strict";K.d(Ye,{z:()=>c});const c={setTimeout(ye,G,...de){const{delegate:X}=c;return(null==X?void 0:X.setTimeout)?X.setTimeout(ye,G,...de):setTimeout(ye,G,...de)},clearTimeout(ye){const{delegate:G}=c;return((null==G?void 0:G.clearTimeout)||clearTimeout)(ye)},delegate:void 0}},2202:(Jt,Ye,K)=>{"use strict";K.d(Ye,{h:()=>ye});const ye=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,Ye,K)=>{"use strict";K.d(Ye,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Jt,Ye,K)=>{"use strict";K.d(Ye,{_6:()=>Q,jO:()=>de,yG:()=>X});var c=K(576),ye=K(3532);function G(Y){return Y[Y.length-1]}function de(Y){return(0,c.m)(G(Y))?Y.pop():void 0}function X(Y){return(0,ye.K)(G(Y))?Y.pop():void 0}function Q(Y,J){return"number"==typeof G(Y)?Y.pop():J}},8737:(Jt,Ye,K)=>{"use strict";function c(ye,G){if(ye){const de=ye.indexOf(G);0<=de&&ye.splice(de,1)}}K.d(Ye,{P:()=>c})},3888:(Jt,Ye,K)=>{"use strict";function c(ye){const de=ye(X=>{Error.call(X),X.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}K.d(Ye,{d:()=>c})},2806:(Jt,Ye,K)=>{"use strict";K.d(Ye,{O:()=>de,x:()=>G});var c=K(2416);let ye=null;function G(X){if(c.v.useDeprecatedSynchronousErrorHandling){const Q=!ye;if(Q&&(ye={errorThrown:!1,error:null}),X(),Q){const{errorThrown:Y,error:J}=ye;if(ye=null,Y)throw J}}else X()}function de(X){c.v.useDeprecatedSynchronousErrorHandling&&ye&&(ye.errorThrown=!0,ye.error=X)}},9672:(Jt,Ye,K)=>{"use strict";function c(ye,G,de,X=0,Q=!1){const Y=G.schedule(function(){de(),Q?ye.add(this.schedule(null,X)):this.unsubscribe()},X);if(ye.add(Y),!Q)return Y}K.d(Ye,{f:()=>c})},4671:(Jt,Ye,K)=>{"use strict";function c(ye){return ye}K.d(Ye,{y:()=>c})},1144:(Jt,Ye,K)=>{"use strict";K.d(Ye,{z:()=>c});const c=ye=>ye&&"number"==typeof ye.length&&"function"!=typeof ye},2206:(Jt,Ye,K)=>{"use strict";K.d(Ye,{D:()=>ye});var c=K(576);function ye(G){return Symbol.asyncIterator&&(0,c.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Jt,Ye,K)=>{"use strict";function c(ye){return"function"==typeof ye}K.d(Ye,{m:()=>c})},3670:(Jt,Ye,K)=>{"use strict";K.d(Ye,{c:()=>G});var c=K(8822),ye=K(576);function G(de){return(0,ye.m)(de[c.L])}},6495:(Jt,Ye,K)=>{"use strict";K.d(Ye,{T:()=>G});var c=K(2202),ye=K(576);function G(de){return(0,ye.m)(null==de?void 0:de[c.h])}},8239:(Jt,Ye,K)=>{"use strict";K.d(Ye,{t:()=>ye});var c=K(576);function ye(G){return(0,c.m)(null==G?void 0:G.then)}},3260:(Jt,Ye,K)=>{"use strict";K.d(Ye,{L:()=>de,Q:()=>G});var c=K(655),ye=K(576);function G(X){return(0,c.FC)(this,arguments,function*(){const Y=X.getReader();try{for(;;){const{value:J,done:Ue}=yield(0,c.qq)(Y.read());if(Ue)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(J)}}finally{Y.releaseLock()}})}function de(X){return(0,ye.m)(null==X?void 0:X.getReader)}},3532:(Jt,Ye,K)=>{"use strict";K.d(Ye,{K:()=>ye});var c=K(576);function ye(G){return G&&(0,c.m)(G.schedule)}},4482:(Jt,Ye,K)=>{"use strict";K.d(Ye,{A:()=>ye,e:()=>G});var c=K(576);function ye(de){return(0,c.m)(null==de?void 0:de.lift)}function G(de){return X=>{if(ye(X))return X.lift(function(Q){try{return de(Q,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Jt,Ye,K)=>{"use strict";function c(){}K.d(Ye,{Z:()=>c})},7849:(Jt,Ye,K)=>{"use strict";K.d(Ye,{h:()=>G});var c=K(2416),ye=K(3410);function G(de){ye.z.setTimeout(()=>{const{onUnhandledError:X}=c.v;if(!X)throw de;X(de)})}},4532:(Jt,Ye,K)=>{"use strict";function c(ye){return new TypeError(`You provided ${null!==ye&&"object"==typeof ye?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Ye,{z:()=>c})},5226:function(Jt){Jt.exports=function(){"use strict";const Ye="SweetAlert2:",c=A=>A.charAt(0).toUpperCase()+A.slice(1),ye=A=>Array.prototype.slice.call(A),G=A=>{console.warn("".concat(Ye," ").concat("object"==typeof A?A.join(" "):A))},de=A=>{console.error("".concat(Ye," ").concat(A))},X=[],Y=(A,k)=>{(A=>{X.includes(A)||(X.push(A),G(A))})('"'.concat(A,'" is deprecated and will be removed in the next major release. Please use "').concat(k,'" instead.'))},J=A=>"function"==typeof A?A():A,Ue=A=>A&&"function"==typeof A.toPromise,me=A=>Ue(A)?A.toPromise():Promise.resolve(A),_e=A=>A&&Promise.resolve(A)===A,Nt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ft=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Et={},Ot=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qe=A=>Object.prototype.hasOwnProperty.call(Nt,A),ot=A=>-1!==ft.indexOf(A),Vt=A=>Et[A],en=A=>{qe(A)||G('Unknown parameter "'.concat(A,'"'))},dt=A=>{Ot.includes(A)&&G('The parameter "'.concat(A,'" is incompatible with toasts'))},nt=A=>{Vt(A)&&Y(A,Vt(A))},Mt=A=>{const k={};for(const L in A)k[A[L]]="swal2-"+A[L];return k},q=Mt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Xe=Mt(["success","warning","info","question","error"]),we=()=>document.body.querySelector(".".concat(q.container)),Re=A=>{const k=we();return k?k.querySelector(A):null},De=A=>Re(".".concat(A)),Ne=()=>De(q.popup),Ve=()=>De(q.icon),bt=()=>De(q.title),mn=()=>De(q["html-container"]),Qn=()=>De(q.image),Vn=()=>De(q["progress-steps"]),qt=()=>De(q["validation-message"]),Ln=()=>Re(".".concat(q.actions," .").concat(q.confirm)),mr=()=>Re(".".concat(q.actions," .").concat(q.deny)),Zn=()=>Re(".".concat(q.loader)),Xr=()=>Re(".".concat(q.actions," .").concat(q.cancel)),Gn=()=>De(q.actions),Hn=()=>De(q.footer),Cs=()=>De(q["timer-progress-bar"]),as=()=>De(q.close),Ni=()=>{const A=ye(Ne().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((L,le)=>{const at=parseInt(L.getAttribute("tabindex")),Bt=parseInt(le.getAttribute("tabindex"));return at>Bt?1:at<Bt?-1:0}),k=ye(Ne().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(L=>"-1"!==L.getAttribute("tabindex"));return(A=>{const k=[];for(let L=0;L<A.length;L++)-1===k.indexOf(A[L])&&k.push(A[L]);return k})(A.concat(k)).filter(L=>In(L))},Gs=()=>Jr(document.body,q.shown)&&!Jr(document.body,q["toast-shown"])&&!Jr(document.body,q["no-backdrop"]),uo=()=>Ne()&&Jr(Ne(),q.toast),qi={previousBodyPadding:null},an=(A,k)=>{if(A.textContent="",k){const le=(new DOMParser).parseFromString(k,"text/html");ye(le.querySelector("head").childNodes).forEach(at=>{A.appendChild(at)}),ye(le.querySelector("body").childNodes).forEach(at=>{A.appendChild(at)})}},Jr=(A,k)=>{if(!k)return!1;const L=k.split(/\s+/);for(let le=0;le<L.length;le++)if(!A.classList.contains(L[le]))return!1;return!0},tr=(A,k,L)=>{if(((A,k)=>{ye(A.classList).forEach(L=>{!Object.values(q).includes(L)&&!Object.values(Xe).includes(L)&&!Object.values(k.showClass).includes(L)&&A.classList.remove(L)})})(A,k),k.customClass&&k.customClass[L]){if("string"!=typeof k.customClass[L]&&!k.customClass[L].forEach)return G("Invalid type of customClass.".concat(L,'! Expected string or iterable object, got "').concat(typeof k.customClass[L],'"'));wn(A,k.customClass[L])}},bo=(A,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return A.querySelector(".".concat(q.popup," > .").concat(q[k]));case"checkbox":return A.querySelector(".".concat(q.popup," > .").concat(q.checkbox," input"));case"radio":return A.querySelector(".".concat(q.popup," > .").concat(q.radio," input:checked"))||A.querySelector(".".concat(q.popup," > .").concat(q.radio," input:first-child"));case"range":return A.querySelector(".".concat(q.popup," > .").concat(q.range," input"));default:return A.querySelector(".".concat(q.popup," > .").concat(q.input))}},ls=A=>{if(A.focus(),"file"!==A.type){const k=A.value;A.value="",A.value=k}},fi=(A,k,L)=>{!A||!k||("string"==typeof k&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(le=>{Array.isArray(A)?A.forEach(at=>{L?at.classList.add(le):at.classList.remove(le)}):L?A.classList.add(le):A.classList.remove(le)}))},wn=(A,k)=>{fi(A,k,!0)},$r=(A,k)=>{fi(A,k,!1)},cs=(A,k)=>{const L=ye(A.childNodes);for(let le=0;le<L.length;le++)if(Jr(L[le],k))return L[le]},Bn=(A,k,L)=>{L==="".concat(parseInt(L))&&(L=parseInt(L)),L||0===parseInt(L)?A.style[k]="number"==typeof L?"".concat(L,"px"):L:A.style.removeProperty(k)},zt=function(A){A.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ln=A=>{A.style.display="none"},Ri=(A,k,L,le)=>{const at=A.querySelector(k);at&&(at.style[L]=le)},zi=function(A,k){k?zt(A,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ln(A)},In=A=>!(!A||!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)),Li=A=>A.scrollHeight>A.clientHeight,Bi=A=>{const k=window.getComputedStyle(A),L=parseFloat(k.getPropertyValue("animation-duration")||"0"),le=parseFloat(k.getPropertyValue("transition-duration")||"0");return L>0||le>0},fe=function(A){let k=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const L=Cs();In(L)&&(k&&(L.style.transition="none",L.style.width="100%"),setTimeout(()=>{L.style.transition="width ".concat(A/1e3,"s linear"),L.style.width="0%"},10))},Te=()=>"undefined"==typeof window||"undefined"==typeof document,ue={},vt=A=>new Promise(k=>{if(!A)return k();const L=window.scrollX,le=window.scrollY;ue.restoreFocusTimeout=setTimeout(()=>{ue.previousActiveElement instanceof HTMLElement?(ue.previousActiveElement.focus(),ue.previousActiveElement=null):document.body&&document.body.focus(),k()},100),window.scrollTo(L,le)}),nn='\n <div aria-labelledby="'.concat(q.title,'" aria-describedby="').concat(q["html-container"],'" class="').concat(q.popup,'" tabindex="-1">\n   <button type="button" class="').concat(q.close,'"></button>\n   <ul class="').concat(q["progress-steps"],'"></ul>\n   <div class="').concat(q.icon,'"></div>\n   <img class="').concat(q.image,'" />\n   <h2 class="').concat(q.title,'" id="').concat(q.title,'"></h2>\n   <div class="').concat(q["html-container"],'" id="').concat(q["html-container"],'"></div>\n   <input class="').concat(q.input,'" />\n   <input type="file" class="').concat(q.file,'" />\n   <div class="').concat(q.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(q.select,'"></select>\n   <div class="').concat(q.radio,'"></div>\n   <label for="').concat(q.checkbox,'" class="').concat(q.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(q.label,'"></span>\n   </label>\n   <textarea class="').concat(q.textarea,'"></textarea>\n   <div class="').concat(q["validation-message"],'" id="').concat(q["validation-message"],'"></div>\n   <div class="').concat(q.actions,'">\n     <div class="').concat(q.loader,'"></div>\n     <button type="button" class="').concat(q.confirm,'"></button>\n     <button type="button" class="').concat(q.deny,'"></button>\n     <button type="button" class="').concat(q.cancel,'"></button>\n   </div>\n   <div class="').concat(q.footer,'"></div>\n   <div class="').concat(q["timer-progress-bar-container"],'">\n     <div class="').concat(q["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),En=()=>{ue.currentInstance.resetValidationMessage()},fc=A=>{const k=(()=>{const A=we();return!!A&&(A.remove(),$r([document.documentElement,document.body],[q["no-backdrop"],q["toast-shown"],q["has-column"]]),!0)})();if(Te())return void de("SweetAlert2 requires document to initialize");const L=document.createElement("div");L.className=q.container,k&&wn(L,q["no-transition"]),an(L,nn);const le=(A=>"string"==typeof A?document.querySelector(A):A)(A.target);le.appendChild(L),(A=>{const k=Ne();k.setAttribute("role",A.toast?"alert":"dialog"),k.setAttribute("aria-live",A.toast?"polite":"assertive"),A.toast||k.setAttribute("aria-modal","true")})(A),(A=>{"rtl"===window.getComputedStyle(A).direction&&wn(we(),q.rtl)})(le),(()=>{const A=Ne(),k=cs(A,q.input),L=cs(A,q.file),le=A.querySelector(".".concat(q.range," input")),at=A.querySelector(".".concat(q.range," output")),Bt=cs(A,q.select),fr=A.querySelector(".".concat(q.checkbox," input")),ti=cs(A,q.textarea);k.oninput=En,L.onchange=En,Bt.onchange=En,fr.onchange=En,ti.oninput=En,le.oninput=()=>{En(),at.value=le.value},le.onchange=()=>{En(),at.value=le.value}})(),pc(L,A)},pc=(A,k)=>{if(k.toast)return;const L=(A=>A[Math.floor(Math.random()*A.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const le=document.createElement("div");le.className=q["no-war"],an(le,'<a href="https://www.youtube.com/watch?v='.concat(L.youtubeId,'" target="_blank">').concat(L.text,"</a>")),A.appendChild(le),A.style.paddingTop="4em"}},Il=(A,k)=>{A instanceof HTMLElement?k.appendChild(A):"object"==typeof A?gc(A,k):A&&an(k,A)},gc=(A,k)=>{A.jquery?gi(k,A):an(k,A.toString())},gi=(A,k)=>{if(A.textContent="",0 in k)for(let L=0;L in k;L++)A.appendChild(k[L].cloneNode(!0));else A.appendChild(k.cloneNode(!0))},mi=(()=>{if(Te())return!1;const A=document.createElement("div"),k={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const L in k)if(Object.prototype.hasOwnProperty.call(k,L)&&void 0!==A.style[L])return k[L];return!1})(),_i=(A,k)=>{const L=Gn(),le=Zn();k.showConfirmButton||k.showDenyButton||k.showCancelButton?zt(L):ln(L),tr(L,k,"actions"),function As(A,k,L){const le=Ln(),at=mr(),Bt=Xr();Qo(le,"confirm",L),Qo(at,"deny",L),Qo(Bt,"cancel",L),function ch(A,k,L,le){if(!le.buttonsStyling)return $r([A,k,L],q.styled);wn([A,k,L],q.styled),le.confirmButtonColor&&(A.style.backgroundColor=le.confirmButtonColor,wn(A,q["default-outline"])),le.denyButtonColor&&(k.style.backgroundColor=le.denyButtonColor,wn(k,q["default-outline"])),le.cancelButtonColor&&(L.style.backgroundColor=le.cancelButtonColor,wn(L,q["default-outline"]))}(le,at,Bt,L),L.reverseButtons&&(L.toast?(A.insertBefore(Bt,le),A.insertBefore(at,le)):(A.insertBefore(Bt,k),A.insertBefore(at,k),A.insertBefore(le,k)))}(L,le,k),an(le,k.loaderHtml),tr(le,k,"loader")};function Qo(A,k,L){zi(A,L["show".concat(c(k),"Button")],"inline-block"),an(A,L["".concat(k,"ButtonText")]),A.setAttribute("aria-label",L["".concat(k,"ButtonAriaLabel")]),A.className=q[k],tr(A,L,"".concat(k,"Button")),wn(A,L["".concat(k,"ButtonClass")])}const mc=(A,k)=>{const L=we();!L||(function ha(A,k){"string"==typeof k?A.style.background=k:k||wn([document.documentElement,document.body],q["no-backdrop"])}(L,k.backdrop),function Ui(A,k){k in q?wn(A,q[k]):(G('The "position" parameter is not valid, defaulting to "center"'),wn(A,q.center))}(L,k.position),function Dl(A,k){if(k&&"string"==typeof k){const L="grow-".concat(k);L in q&&wn(A,q[L])}}(L,k.grow),tr(L,k,"container"))};var Cn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Kt=["input","file","range","select","radio","checkbox","textarea"],vr=A=>{if(!yn[A.input])return de('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(A.input,'"'));const k=Ws(A.input),L=yn[A.input](k,A);zt(k),setTimeout(()=>{ls(L)})},To=(A,k)=>{const L=bo(Ne(),A);if(L){(A=>{for(let k=0;k<A.attributes.length;k++){const L=A.attributes[k].name;["type","value","style"].includes(L)||A.removeAttribute(L)}})(L);for(const le in k)L.setAttribute(le,k[le])}},si=A=>{const k=Ws(A.input);"object"==typeof A.customClass&&wn(k,A.customClass.input)},$s=(A,k)=>{(!A.placeholder||k.inputPlaceholder)&&(A.placeholder=k.inputPlaceholder)},hr=(A,k,L)=>{if(L.inputLabel){A.id=q.input;const le=document.createElement("label"),at=q["input-label"];le.setAttribute("for",A.id),le.className=at,"object"==typeof L.customClass&&wn(le,L.customClass.inputLabel),le.innerText=L.inputLabel,k.insertAdjacentElement("beforebegin",le)}},Ws=A=>cs(Ne(),q[A]||q.input),Mr=(A,k)=>{["string","number"].includes(typeof k)?A.value="".concat(k):_e(k)||G('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof k,'"'))},yn={};yn.text=yn.email=yn.password=yn.number=yn.tel=yn.url=(A,k)=>(Mr(A,k.inputValue),hr(A,A,k),$s(A,k),A.type=k.input,A),yn.file=(A,k)=>(hr(A,A,k),$s(A,k),A),yn.range=(A,k)=>{const L=A.querySelector("input"),le=A.querySelector("output");return Mr(L,k.inputValue),L.type=k.input,Mr(le,k.inputValue),hr(L,A,k),A},yn.select=(A,k)=>{if(A.textContent="",k.inputPlaceholder){const L=document.createElement("option");an(L,k.inputPlaceholder),L.value="",L.disabled=!0,L.selected=!0,A.appendChild(L)}return hr(A,A,k),A},yn.radio=A=>(A.textContent="",A),yn.checkbox=(A,k)=>{const L=bo(Ne(),"checkbox");L.value="1",L.id=q.checkbox,L.checked=Boolean(k.inputValue);const le=A.querySelector("span");return an(le,k.inputPlaceholder),L},yn.textarea=(A,k)=>{Mr(A,k.inputValue),$s(A,k),hr(A,A,k);return setTimeout(()=>{if("MutationObserver"in window){const le=parseInt(window.getComputedStyle(Ne()).width);new MutationObserver(()=>{const Bt=A.offsetWidth+(le=>parseInt(window.getComputedStyle(le).marginLeft)+parseInt(window.getComputedStyle(le).marginRight))(A);Ne().style.width=Bt>le?"".concat(Bt,"px"):null}).observe(A,{attributes:!0,attributeFilter:["style"]})}}),A};const kl=(A,k)=>{const L=mn();tr(L,k,"htmlContainer"),k.html?(Il(k.html,L),zt(L,"block")):k.text?(L.textContent=k.text,zt(L,"block")):ln(L),((A,k)=>{const L=Ne(),le=Cn.innerParams.get(A),at=!le||k.input!==le.input;Kt.forEach(Bt=>{const fr=cs(L,q[Bt]);To(Bt,k.inputAttributes),fr.className=q[Bt],at&&ln(fr)}),k.input&&(at&&vr(k),si(k))})(A,k)},Fr=(A,k)=>{for(const L in Xe)k.icon!==L&&$r(A,Xe[L]);wn(A,Xe[k.icon]),su(A,k),ja(),tr(A,k,"icon")},ja=()=>{const A=Ne(),k=window.getComputedStyle(A).getPropertyValue("background-color"),L=A.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let le=0;le<L.length;le++)L[le].style.backgroundColor=k},wr=(A,k)=>{let le,L=A.innerHTML;k.iconHtml?le=Pl(k.iconHtml):"success"===k.icon?(le='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',L=L.replace(/ style=".*?"/g,"")):le="error"===k.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Pl({question:"?",warning:"!",info:"i"}[k.icon]),L.trim()!==le.trim()&&an(A,le)},su=(A,k)=>{if(k.iconColor){A.style.color=k.iconColor,A.style.borderColor=k.iconColor;for(const L of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ri(A,L,"backgroundColor",k.iconColor);Ri(A,".swal2-success-ring","borderColor",k.iconColor)}},Pl=A=>'<div class="'.concat(q["icon-content"],'">').concat(A,"</div>"),ou=A=>{const k=document.createElement("li");return wn(k,q["progress-step"]),an(k,A),k},uh=A=>{const k=document.createElement("li");return wn(k,q["progress-step-line"]),A.progressStepsDistance&&Bn(k,"width",A.progressStepsDistance),k},ad=(A,k)=>{A.className="".concat(q.popup," ").concat(In(A)?k.showClass.popup:""),k.toast?(wn([document.documentElement,document.body],q["toast-shown"]),wn(A,q.toast)):wn(A,q.modal),tr(A,k,"popup"),"string"==typeof k.customClass&&wn(A,k.customClass),k.icon&&wn(A,q["icon-".concat(k.icon)])},ld=(A,k)=>{((A,k)=>{const L=we(),le=Ne();k.toast?(Bn(L,"width",k.width),le.style.width="100%",le.insertBefore(Zn(),Ve())):Bn(le,"width",k.width),Bn(le,"padding",k.padding),k.color&&(le.style.color=k.color),k.background&&(le.style.background=k.background),ln(qt()),ad(le,k)})(0,k),mc(0,k),((A,k)=>{const L=Vn();if(!k.progressSteps||0===k.progressSteps.length)return ln(L);zt(L),L.textContent="",k.currentProgressStep>=k.progressSteps.length&&G("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.progressSteps.forEach((le,at)=>{const Bt=ou(le);if(L.appendChild(Bt),at===k.currentProgressStep&&wn(Bt,q["active-progress-step"]),at!==k.progressSteps.length-1){const fr=uh(k);L.appendChild(fr)}})})(0,k),((A,k)=>{const L=Cn.innerParams.get(A),le=Ve();L&&k.icon===L.icon?(wr(le,k),Fr(le,k)):k.icon||k.iconHtml?k.icon&&-1===Object.keys(Xe).indexOf(k.icon)?(de('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(k.icon,'"')),ln(le)):(zt(le),wr(le,k),Fr(le,k),wn(le,k.showClass.icon)):ln(le)})(A,k),((A,k)=>{const L=Qn();if(!k.imageUrl)return ln(L);zt(L,""),L.setAttribute("src",k.imageUrl),L.setAttribute("alt",k.imageAlt),Bn(L,"width",k.imageWidth),Bn(L,"height",k.imageHeight),L.className=q.image,tr(L,k,"image")})(0,k),((A,k)=>{const L=bt();zi(L,k.title||k.titleText,"block"),k.title&&Il(k.title,L),k.titleText&&(L.innerText=k.titleText),tr(L,k,"title")})(0,k),((A,k)=>{const L=as();an(L,k.closeButtonHtml),tr(L,k,"closeButton"),zi(L,k.showCloseButton),L.setAttribute("aria-label",k.closeButtonAriaLabel)})(0,k),kl(A,k),_i(0,k),((A,k)=>{const L=Hn();zi(L,k.footer),k.footer&&Il(k.footer,L),tr(L,k,"footer")})(0,k),"function"==typeof k.didRender&&k.didRender(Ne())},Ga=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Jo=()=>{ye(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},cd=["swal-title","swal-html","swal-footer"],ea=A=>{const k={};return ye(A.querySelectorAll("swal-param")).forEach(L=>{Ol(L,["name","value"]);const le=L.getAttribute("name"),at=L.getAttribute("value");"boolean"==typeof Nt[le]&&"false"===at&&(k[le]=!1),"object"==typeof Nt[le]&&(k[le]=JSON.parse(at))}),k},vg=A=>{const k={};return ye(A.querySelectorAll("swal-button")).forEach(L=>{Ol(L,["type","color","aria-label"]);const le=L.getAttribute("type");k["".concat(le,"ButtonText")]=L.innerHTML,k["show".concat(c(le),"Button")]=!0,L.hasAttribute("color")&&(k["".concat(le,"ButtonColor")]=L.getAttribute("color")),L.hasAttribute("aria-label")&&(k["".concat(le,"ButtonAriaLabel")]=L.getAttribute("aria-label"))}),k},dh=A=>{const k={},L=A.querySelector("swal-image");return L&&(Ol(L,["src","width","height","alt"]),L.hasAttribute("src")&&(k.imageUrl=L.getAttribute("src")),L.hasAttribute("width")&&(k.imageWidth=L.getAttribute("width")),L.hasAttribute("height")&&(k.imageHeight=L.getAttribute("height")),L.hasAttribute("alt")&&(k.imageAlt=L.getAttribute("alt"))),k},ud=A=>{const k={},L=A.querySelector("swal-icon");return L&&(Ol(L,["type","color"]),L.hasAttribute("type")&&(k.icon=L.getAttribute("type")),L.hasAttribute("color")&&(k.iconColor=L.getAttribute("color")),k.iconHtml=L.innerHTML),k},ga=A=>{const k={},L=A.querySelector("swal-input");L&&(Ol(L,["type","label","placeholder","value"]),k.input=L.getAttribute("type")||"text",L.hasAttribute("label")&&(k.inputLabel=L.getAttribute("label")),L.hasAttribute("placeholder")&&(k.inputPlaceholder=L.getAttribute("placeholder")),L.hasAttribute("value")&&(k.inputValue=L.getAttribute("value")));const le=A.querySelectorAll("swal-input-option");return le.length&&(k.inputOptions={},ye(le).forEach(at=>{Ol(at,["value"]);const Bt=at.getAttribute("value");k.inputOptions[Bt]=at.innerHTML})),k},yg=(A,k)=>{const L={};for(const le in k){const at=k[le],Bt=A.querySelector(at);Bt&&(Ol(Bt,[]),L[at.replace(/^swal-/,"")]=Bt.innerHTML.trim())}return L},hh=A=>{const k=cd.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);ye(A.children).forEach(L=>{const le=L.tagName.toLowerCase();-1===k.indexOf(le)&&G("Unrecognized element <".concat(le,">"))})},Ol=(A,k)=>{ye(A.attributes).forEach(L=>{-1===k.indexOf(L.name)&&G(['Unrecognized attribute "'.concat(L.name,'" on <').concat(A.tagName.toLowerCase(),">."),"".concat(k.length?"Allowed attributes are: ".concat(k.join(", ")):"To set the value, use HTML within the element.")])})};var Ff={email:(A,k)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(A)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(A,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(A)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function Nf(A){(function fh(A){A.inputValidator||Object.keys(Ff).forEach(k=>{A.input===k&&(A.inputValidator=Ff[k])})})(A),A.showLoaderOnConfirm&&!A.preConfirm&&G("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ml(A){(!A.target||"string"==typeof A.target&&!document.querySelector(A.target)||"string"!=typeof A.target&&!A.target.appendChild)&&(G('Target parameter is not valid, defaulting to "body"'),A.target="body")}(A),"string"==typeof A.title&&(A.title=A.title.split("\n").join("<br />")),fc(A)}class _c{constructor(k,L){this.callback=k,this.remaining=L,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(k){const L=this.running;return L&&this.stop(),this.remaining+=k,L&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const au=()=>{null===qi.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(qi.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(qi.previousBodyPadding+(()=>{const A=document.createElement("div");A.className=q["scrollbar-measure"],document.body.appendChild(A);const k=A.getBoundingClientRect().width-A.clientWidth;return document.body.removeChild(A),k})(),"px"))},Ki=()=>{const A=navigator.userAgent,k=!!A.match(/iPad/i)||!!A.match(/iPhone/i),L=!!A.match(/WebKit/i);k&&L&&!A.match(/CriOS/i)&&Ne().scrollHeight>window.innerHeight-44&&(we().style.paddingBottom="".concat(44,"px"))},$a=()=>{const A=we();let k;A.ontouchstart=L=>{k=Io(L)},A.ontouchmove=L=>{k&&(L.preventDefault(),L.stopPropagation())}},Io=A=>{const k=A.target,L=we();return!(Fl(A)||mh(A)||k!==L&&(Li(L)||"INPUT"===k.tagName||"TEXTAREA"===k.tagName||Li(mn())&&mn().contains(k)))},Fl=A=>A.touches&&A.touches.length&&"stylus"===A.touches[0].touchType,mh=A=>A.touches&&A.touches.length>1,qa=A=>{const k=we(),L=Ne();"function"==typeof A.willOpen&&A.willOpen(L);const at=window.getComputedStyle(document.body).overflowY;hs(k,L,A),setTimeout(()=>{ds(k,L)},10),Gs()&&(_h(k,A.scrollbarPadding,at),ye(document.body.children).forEach(k=>{k===we()||k.contains(we())||(k.hasAttribute("aria-hidden")&&k.setAttribute("data-previous-aria-hidden",k.getAttribute("aria-hidden")),k.setAttribute("aria-hidden","true"))})),!uo()&&!ue.previousActiveElement&&(ue.previousActiveElement=document.activeElement),"function"==typeof A.didOpen&&setTimeout(()=>A.didOpen(L)),$r(k,q["no-transition"])},za=A=>{const k=Ne();if(A.target!==k)return;const L=we();k.removeEventListener(mi,za),L.style.overflowY="auto"},ds=(A,k)=>{mi&&Bi(k)?(A.style.overflowY="hidden",k.addEventListener(mi,za)):A.style.overflowY="auto"},_h=(A,k,L)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Jr(document.body,q.iosfix)){const k=document.body.scrollTop;document.body.style.top="".concat(-1*k,"px"),wn(document.body,q.iosfix),$a(),Ki()}})(),k&&"hidden"!==L&&au(),setTimeout(()=>{A.scrollTop=0})},hs=(A,k,L)=>{wn(A,L.showClass.backdrop),k.style.setProperty("opacity","0","important"),zt(k,"grid"),setTimeout(()=>{wn(k,L.showClass.popup),k.style.removeProperty("opacity")},10),wn([document.documentElement,document.body],q.shown),L.heightAuto&&L.backdrop&&!L.toast&&wn([document.documentElement,document.body],q["height-auto"])},ho=A=>{let k=Ne();k||new Qi,k=Ne();const L=Zn();uo()?ln(Ve()):qs(k,A),zt(L),k.setAttribute("data-loading","true"),k.setAttribute("aria-busy","true"),k.focus()},qs=(A,k)=>{const L=Gn(),le=Zn();!k&&In(Ln())&&(k=Ln()),zt(L),k&&(ln(k),le.setAttribute("data-button-to-replace",k.className)),le.parentNode.insertBefore(le,k),wn([A,L],q.loading)},hd=A=>A.checked?1:0,Nl=A=>A.checked?A.value:null,fd=A=>A.files.length?null!==A.getAttribute("multiple")?A.files:A.files[0]:null,Do=(A,k)=>{const L=Ne(),le=at=>xr[k.input](L,Za(at),k);Ue(k.inputOptions)||_e(k.inputOptions)?(ho(Ln()),me(k.inputOptions).then(at=>{A.hideLoading(),le(at)})):"object"==typeof k.inputOptions?le(k.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof k.inputOptions))},Lf=(A,k)=>{const L=A.getInput();ln(L),me(k.inputValue).then(le=>{L.value="number"===k.input?parseFloat(le)||0:"".concat(le),zt(L),L.focus(),A.hideLoading()}).catch(le=>{de("Error in inputValue promise: ".concat(le)),L.value="",zt(L),L.focus(),A.hideLoading()})},xr={select:(A,k,L)=>{const le=cs(A,q.select),at=(Bt,fr,ti)=>{const Yt=document.createElement("option");Yt.value=ti,an(Yt,fr),Yt.selected=ma(ti,L.inputValue),Bt.appendChild(Yt)};k.forEach(Bt=>{const fr=Bt[0],ti=Bt[1];if(Array.isArray(ti)){const Yt=document.createElement("optgroup");Yt.label=fr,Yt.disabled=!1,le.appendChild(Yt),ti.forEach(tl=>at(Yt,tl[1],tl[0]))}else at(le,ti,fr)}),le.focus()},radio:(A,k,L)=>{const le=cs(A,q.radio);k.forEach(Bt=>{const fr=Bt[0],ti=Bt[1],Yt=document.createElement("input"),tl=document.createElement("label");Yt.type="radio",Yt.name=q.radio,Yt.value=fr,ma(fr,L.inputValue)&&(Yt.checked=!0);const vu=document.createElement("span");an(vu,ti),vu.className=q.label,tl.appendChild(Yt),tl.appendChild(vu),le.appendChild(tl)});const at=le.querySelectorAll("input");at.length&&at[0].focus()}},Za=A=>{const k=[];return"undefined"!=typeof Map&&A instanceof Map?A.forEach((L,le)=>{let at=L;"object"==typeof at&&(at=Za(at)),k.push([le,at])}):Object.keys(A).forEach(L=>{let le=A[L];"object"==typeof le&&(le=Za(le)),k.push([L,le])}),k},ma=(A,k)=>k&&k.toString()===A.toString();function sr(){const A=Cn.innerParams.get(this);if(!A)return;const k=Cn.domCache.get(this);ln(k.loader),uo()?A.icon&&zt(Ve()):vc(k),$r([k.popup,k.actions],q.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const vc=A=>{const k=A.popup.getElementsByClassName(A.loader.getAttribute("data-button-to-replace"));k.length?zt(k[0],"inline-block"):!In(Ln())&&!In(mr())&&!In(Xr())&&ln(A.actions)};var zs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const cu=()=>Ln()&&Ln().click(),Ci=A=>{A.keydownTarget&&A.keydownHandlerAdded&&(A.keydownTarget.removeEventListener("keydown",A.keydownHandler,{capture:A.keydownListenerCapture}),A.keydownHandlerAdded=!1)},fo=(A,k,L)=>{const le=Ni();if(le.length)return(k+=L)===le.length?k=0:-1===k&&(k=le.length-1),le[k].focus();Ne().focus()},Rl=["ArrowRight","ArrowDown"],po=["ArrowLeft","ArrowUp"],Po=(A,k,L)=>{const le=Cn.innerParams.get(A);!le||k.isComposing||229===k.keyCode||(le.stopKeydownPropagation&&k.stopPropagation(),"Enter"===k.key?Ll(A,k,le):"Tab"===k.key?An(k,le):[...Rl,...po].includes(k.key)?_a(k.key):"Escape"===k.key&&pd(k,le,L))},Ll=(A,k,L)=>{if(J(L.allowEnterKey)&&k.target&&A.getInput()&&k.target instanceof HTMLElement&&k.target.outerHTML===A.getInput().outerHTML){if(["textarea","file"].includes(L.input))return;cu(),k.preventDefault()}},An=(A,k)=>{const L=A.target,le=Ni();let at=-1;for(let Bt=0;Bt<le.length;Bt++)if(L===le[Bt]){at=Bt;break}fo(0,at,A.shiftKey?-1:1),A.stopPropagation(),A.preventDefault()},_a=A=>{const k=Ln(),L=mr(),le=Xr();if(document.activeElement instanceof HTMLElement&&![k,L,le].includes(document.activeElement))return;const at=Rl.includes(A)?"nextElementSibling":"previousElementSibling";let Bt=document.activeElement;for(let fr=0;fr<Gn().children.length;fr++){if(Bt=Bt[at],!Bt)return;if(Bt instanceof HTMLButtonElement&&In(Bt))break}Bt instanceof HTMLButtonElement&&Bt.focus()},pd=(A,k,L)=>{J(k.allowEscapeKey)&&(A.preventDefault(),L(Ga.esc))};function Bl(A,k,L,le){uo()?yc(A,le):(vt(L).then(()=>yc(A,le)),Ci(ue)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),Gs()&&(null!==qi.previousBodyPadding&&(document.body.style.paddingRight="".concat(qi.previousBodyPadding,"px"),qi.previousBodyPadding=null),(()=>{if(Jr(document.body,q.iosfix)){const A=parseInt(document.body.style.top,10);$r(document.body,q.iosfix),document.body.style.top="",document.body.scrollTop=-1*A}})(),Jo()),function gd(){$r([document.documentElement,document.body],[q.shown,q["height-auto"],q["no-backdrop"],q["toast-shown"]])}()}function Ya(A){A=$n(A);const k=zs.swalPromiseResolve.get(this),L=md(this);this.isAwaitingPromise()?A.isDismissed||(ut(this),k(A)):L&&k(A)}const md=A=>{const k=Ne();if(!k)return!1;const L=Cn.innerParams.get(A);if(!L||Jr(k,L.hideClass.popup))return!1;$r(k,L.showClass.popup),wn(k,L.hideClass.popup);const le=we();return $r(le,L.showClass.backdrop),wn(le,L.hideClass.backdrop),Qa(A,k,L),!0};const ut=A=>{A.isAwaitingPromise()&&(Cn.awaitingPromise.delete(A),Cn.innerParams.get(A)||A._destroy())},$n=A=>void 0===A?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},A),Qa=(A,k,L)=>{const le=we(),at=mi&&Bi(k);"function"==typeof L.willClose&&L.willClose(k),at?Nr(A,k,le,L.returnFocus,L.didClose):Bl(A,le,L.returnFocus,L.didClose)},Nr=(A,k,L,le,at)=>{ue.swalCloseEventFinishedCallback=Bl.bind(null,A,L,le,at),k.addEventListener(mi,function(Bt){Bt.target===k&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback)})},yc=(A,k)=>{setTimeout(()=>{"function"==typeof k&&k.bind(A.params)(),A._destroy()})};function va(A,k,L){const le=Cn.domCache.get(A);k.forEach(at=>{le[at].disabled=L})}function ks(A,k){if(!A)return!1;if("radio"===A.type){const le=A.parentNode.parentNode.querySelectorAll("input");for(let at=0;at<le.length;at++)le[at].disabled=k}else A.disabled=k}const du=A=>{const k={};return Object.keys(A).forEach(L=>{ot(L)?k[L]=A[L]:G("Invalid parameter to update: ".concat(L))}),k};const go=A=>{hu(A),delete A.params,delete ue.keydownHandler,delete ue.keydownTarget,delete ue.currentInstance},hu=A=>{A.isAwaitingPromise()?(Vl(Cn,A),Cn.awaitingPromise.set(A,!0)):(Vl(zs,A),Vl(Cn,A))},Vl=(A,k)=>{for(const L in A)A[L].delete(k)};var wc=Object.freeze({hideLoading:sr,disableLoading:sr,getInput:function lu(A){const k=Cn.innerParams.get(A||this),L=Cn.domCache.get(A||this);return L?bo(L.popup,k.input):null},close:Ya,isAwaitingPromise:function uu(){return!!Cn.awaitingPromise.get(this)},rejectPromise:function Ul(A){const k=zs.swalPromiseReject.get(this);ut(this),k&&k(A)},handleAwaitingPromise:ut,closePopup:Ya,closeModal:Ya,closeToast:Ya,enableButtons:function _d(){va(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function vd(){va(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function yd(){return ks(this.getInput(),!1)},disableInput:function yh(){return ks(this.getInput(),!0)},showValidationMessage:function wg(A){const k=Cn.domCache.get(this),L=Cn.innerParams.get(this);an(k.validationMessage,A),k.validationMessage.className=q["validation-message"],L.customClass&&L.customClass.validationMessage&&wn(k.validationMessage,L.customClass.validationMessage),zt(k.validationMessage);const le=this.getInput();le&&(le.setAttribute("aria-invalid",!0),le.setAttribute("aria-describedby",q["validation-message"]),ls(le),wn(le,q.inputerror))},resetValidationMessage:function ta(){const A=Cn.domCache.get(this);A.validationMessage&&ln(A.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),$r(k,q.inputerror))},getProgressSteps:function Yi(){return Cn.domCache.get(this).progressSteps},update:function Zs(A){const k=Ne(),L=Cn.innerParams.get(this);if(!k||Jr(k,L.hideClass.popup))return G("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const le=du(A),at=Object.assign({},L,le);ld(this,at),Cn.innerParams.set(this,at),Object.defineProperties(this,{params:{value:Object.assign({},this.params,A),writable:!1,enumerable:!0}})},_destroy:function ya(){const A=Cn.domCache.get(this),k=Cn.innerParams.get(this);k?(A.popup&&ue.swalCloseEventFinishedCallback&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback),"function"==typeof k.didDestroy&&k.didDestroy(),go(this)):hu(this)}});const xc=(A,k)=>{const L=Cn.innerParams.get(A);if(!L.input)return de('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(k)));const le=((A,k)=>{const L=A.getInput();if(!L)return null;switch(k.input){case"checkbox":return hd(L);case"radio":return Nl(L);case"file":return fd(L);default:return k.inputAutoTrim?L.value.trim():L.value}})(A,L);L.inputValidator?wh(A,le,k):A.getInput().checkValidity()?"deny"===k?pu(A,le):gu(A,le):(A.enableButtons(),A.showValidationMessage(L.validationMessage))},wh=(A,k,L)=>{const le=Cn.innerParams.get(A);A.disableInput(),Promise.resolve().then(()=>me(le.inputValidator(k,le.validationMessage))).then(Bt=>{A.enableButtons(),A.enableInput(),Bt?A.showValidationMessage(Bt):"deny"===L?pu(A,k):gu(A,k)})},pu=(A,k)=>{const L=Cn.innerParams.get(A||void 0);L.showLoaderOnDeny&&ho(mr()),L.preDeny?(Cn.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>me(L.preDeny(k,L.validationMessage))).then(at=>{!1===at?(A.hideLoading(),ut(A)):A.closePopup({isDenied:!0,value:void 0===at?k:at})}).catch(at=>wa(A||void 0,at))):A.closePopup({isDenied:!0,value:k})},Ec=(A,k)=>{A.closePopup({isConfirmed:!0,value:k})},wa=(A,k)=>{A.rejectPromise(k)},gu=(A,k)=>{const L=Cn.innerParams.get(A||void 0);L.showLoaderOnConfirm&&ho(),L.preConfirm?(A.resetValidationMessage(),Cn.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>me(L.preConfirm(k,L.validationMessage))).then(at=>{In(qt())||!1===at?(A.hideLoading(),ut(A)):Ec(A,void 0===at?k:at)}).catch(at=>wa(A||void 0,at))):Ec(A,k)},xh=(A,k,L)=>{k.popup.onclick=()=>{const le=Cn.innerParams.get(A);le&&(mu(le)||le.timer||le.input)||L(Ga.close)}},mu=A=>A.showConfirmButton||A.showDenyButton||A.showCancelButton||A.showCloseButton;let Hi=!1;const Bf=A=>{A.popup.onmousedown=()=>{A.container.onmouseup=function(k){A.container.onmouseup=void 0,k.target===A.container&&(Hi=!0)}}},xd=A=>{A.container.onmousedown=()=>{A.popup.onmouseup=function(k){A.popup.onmouseup=void 0,(k.target===A.popup||A.popup.contains(k.target))&&(Hi=!0)}}},Si=(A,k,L)=>{k.container.onclick=le=>{const at=Cn.innerParams.get(A);Hi?Hi=!1:le.target===k.container&&J(at.allowOutsideClick)&&L(Ga.backdrop)}},ei=A=>A instanceof Element||(A=>"object"==typeof A&&A.jquery)(A);const Uf=()=>{if(ue.timeout)return(()=>{const A=Cs(),k=parseInt(window.getComputedStyle(A).width);A.style.removeProperty("transition"),A.style.width="100%";const le=k/parseInt(window.getComputedStyle(A).width)*100;A.style.removeProperty("transition"),A.style.width="".concat(le,"%")})(),ue.timeout.stop()},Eg=()=>{if(ue.timeout){const A=ue.timeout.start();return fe(A),A}};let oi=!1;const _u={};const el=A=>{for(let k=A.target;k&&k!==document;k=k.parentNode)for(const L in _u){const le=k.getAttribute(L);if(le)return void _u[L].fire({template:le})}};var Gl=Object.freeze({isValidParameter:qe,isUpdatableParameter:ot,isDeprecatedParameter:Vt,argsToParams:A=>{const k={};return"object"!=typeof A[0]||ei(A[0])?["title","html","icon"].forEach((L,le)=>{const at=A[le];"string"==typeof at||ei(at)?k[L]=at:void 0!==at&&de("Unexpected type of ".concat(L,'! Expected "string" or "Element", got ').concat(typeof at))}):Object.assign(k,A[0]),k},isVisible:()=>In(Ne()),clickConfirm:cu,clickDeny:()=>mr()&&mr().click(),clickCancel:()=>Xr()&&Xr().click(),getContainer:we,getPopup:Ne,getTitle:bt,getHtmlContainer:mn,getImage:Qn,getIcon:Ve,getInputLabel:()=>De(q["input-label"]),getCloseButton:as,getActions:Gn,getConfirmButton:Ln,getDenyButton:mr,getCancelButton:Xr,getLoader:Zn,getFooter:Hn,getTimerProgressBar:Cs,getFocusableElements:Ni,getValidationMessage:qt,isLoading:()=>Ne().hasAttribute("data-loading"),fire:function my(){const A=this;for(var k=arguments.length,L=new Array(k),le=0;le<k;le++)L[le]=arguments[le];return new A(...L)},mixin:function xg(A){return class k extends(this){_main(le,at){return super._main(le,Object.assign({},A,at))}}},showLoading:ho,enableLoading:ho,getTimerLeft:()=>ue.timeout&&ue.timeout.getTimerLeft(),stopTimer:Uf,resumeTimer:Eg,toggleTimer:()=>{const A=ue.timeout;return A&&(A.running?Uf():Eg())},increaseTimer:A=>{if(ue.timeout){const k=ue.timeout.increase(A);return fe(k,!0),k}},isTimerRunning:()=>ue.timeout&&ue.timeout.isRunning(),bindClickHandler:function bg(){_u[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,oi||(document.body.addEventListener("click",el),oi=!0)}});let Ps;class xa{constructor(){if("undefined"==typeof window)return;Ps=this;for(var k=arguments.length,L=new Array(k),le=0;le<k;le++)L[le]=arguments[le];const at=Object.freeze(this.constructor.argsToParams(L));Object.defineProperties(this,{params:{value:at,writable:!1,enumerable:!0,configurable:!0}});const Bt=Ps._main(Ps.params);Cn.promise.set(this,Bt)}_main(k){let L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(A=>{!A.backdrop&&A.allowOutsideClick&&G('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const k in A)en(k),A.toast&&dt(k),nt(k)})(Object.assign({},L,k)),ue.currentInstance&&(ue.currentInstance._destroy(),Gs()&&Jo()),ue.currentInstance=Ps;const le=Tc(k,L);Nf(le),Object.freeze(le),ue.timeout&&(ue.timeout.stop(),delete ue.timeout),clearTimeout(ue.restoreFocusTimeout);const at=Tg(Ps);return ld(Ps,le),Cn.innerParams.set(Ps,le),Oo(Ps,at,le)}then(k){return Cn.promise.get(this).then(k)}finally(k){return Cn.promise.get(this).finally(k)}}const Oo=(A,k,L)=>new Promise((le,at)=>{const Bt=fr=>{A.closePopup({isDismissed:!0,dismiss:fr})};zs.swalPromiseResolve.set(A,le),zs.swalPromiseReject.set(A,at),k.confirmButton.onclick=()=>(A=>{const k=Cn.innerParams.get(A);A.disableButtons(),k.input?xc(A,"confirm"):gu(A,!0)})(A),k.denyButton.onclick=()=>(A=>{const k=Cn.innerParams.get(A);A.disableButtons(),k.returnInputValueOnDeny?xc(A,"deny"):pu(A,!1)})(A),k.cancelButton.onclick=()=>((A,k)=>{A.disableButtons(),k(Ga.cancel)})(A,Bt),k.closeButton.onclick=()=>Bt(Ga.close),((A,k,L)=>{Cn.innerParams.get(A).toast?xh(A,k,L):(Bf(k),xd(k),Si(A,k,L))})(A,k,Bt),((A,k,L,le)=>{Ci(k),L.toast||(k.keydownHandler=at=>Po(A,at,le),k.keydownTarget=L.keydownListenerCapture?window:Ne(),k.keydownListenerCapture=L.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)})(A,ue,L,Bt),((A,k)=>{"select"===k.input||"radio"===k.input?Do(A,k):["text","email","number","tel","textarea"].includes(k.input)&&(Ue(k.inputValue)||_e(k.inputValue))&&(ho(Ln()),Lf(A,k))})(A,L),qa(L),Tr(ue,L,Bt),$l(k,L),setTimeout(()=>{k.container.scrollTop=0})}),Tc=(A,k)=>{const L=(A=>{const k="string"==typeof A.template?document.querySelector(A.template):A.template;if(!k)return{};const L=k.content;return hh(L),Object.assign(ea(L),vg(L),dh(L),ud(L),ga(L),yg(L,cd))})(A),le=Object.assign({},Nt,k,L,A);return le.showClass=Object.assign({},Nt.showClass,le.showClass),le.hideClass=Object.assign({},Nt.hideClass,le.hideClass),le},Tg=A=>{const k={popup:Ne(),container:we(),actions:Gn(),confirmButton:Ln(),denyButton:mr(),cancelButton:Xr(),loader:Zn(),closeButton:as(),validationMessage:qt(),progressSteps:Vn()};return Cn.domCache.set(A,k),k},Tr=(A,k,L)=>{const le=Cs();ln(le),k.timer&&(A.timeout=new _c(()=>{L("timer"),delete A.timeout},k.timer),k.timerProgressBar&&(zt(le),tr(le,k,"timerProgressBar"),setTimeout(()=>{A.timeout&&A.timeout.running&&fe(k.timer)})))},$l=(A,k)=>{if(!k.toast){if(!J(k.allowEnterKey))return Cr();un(A,k)||fo(0,-1,1)}},un=(A,k)=>k.focusDeny&&In(A.denyButton)?(A.denyButton.focus(),!0):k.focusCancel&&In(A.cancelButton)?(A.cancelButton.focus(),!0):!(!k.focusConfirm||!In(A.confirmButton)||(A.confirmButton.focus(),0)),Cr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(xa.prototype,wc),Object.assign(xa,Gl),Object.keys(wc).forEach(A=>{xa[A]=function(){if(Ps)return Ps[A](...arguments)}}),xa.DismissReason=Ga,xa.version="11.4.17";const Qi=xa;return Qi.default=Qi,Qi}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ye,K){var c=Ye.createElement("style");if(Ye.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=K);else try{c.innerHTML=K}catch(ye){c.innerText=K}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},3561:(Jt,Ye)=>{"use strict";var c=function(){function ye(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return ye.hashStr=function(G,de){return void 0===de&&(de=!1),this.onePassHasher.start().appendStr(G).end(de)},ye.hashAsciiStr=function(G,de){return void 0===de&&(de=!1),this.onePassHasher.start().appendAsciiStr(G).end(de)},ye._hex=function(G){var Q,Y,J,Ue,de=ye.hexChars,X=ye.hexOut;for(Ue=0;Ue<4;Ue+=1)for(Y=8*Ue,Q=G[Ue],J=0;J<8;J+=2)X[Y+1+J]=de.charAt(15&Q),X[Y+0+J]=de.charAt(15&(Q>>>=4)),Q>>>=4;return X.join("")},ye._md5cycle=function(G,de){var X=G[0],Q=G[1],Y=G[2],J=G[3];Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&Y|~Q&J)+de[0]-680876936|0)<<7|X>>>25)+Q|0)&Q|~X&Y)+de[1]-389564586|0)<<12|J>>>20)+X|0)&X|~J&Q)+de[2]+606105819|0)<<17|Y>>>15)+J|0)&J|~Y&X)+de[3]-1044525330|0)<<22|Q>>>10)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&Y|~Q&J)+de[4]-176418897|0)<<7|X>>>25)+Q|0)&Q|~X&Y)+de[5]+1200080426|0)<<12|J>>>20)+X|0)&X|~J&Q)+de[6]-1473231341|0)<<17|Y>>>15)+J|0)&J|~Y&X)+de[7]-45705983|0)<<22|Q>>>10)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&Y|~Q&J)+de[8]+1770035416|0)<<7|X>>>25)+Q|0)&Q|~X&Y)+de[9]-1958414417|0)<<12|J>>>20)+X|0)&X|~J&Q)+de[10]-42063|0)<<17|Y>>>15)+J|0)&J|~Y&X)+de[11]-1990404162|0)<<22|Q>>>10)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&Y|~Q&J)+de[12]+1804603682|0)<<7|X>>>25)+Q|0)&Q|~X&Y)+de[13]-40341101|0)<<12|J>>>20)+X|0)&X|~J&Q)+de[14]-1502002290|0)<<17|Y>>>15)+J|0)&J|~Y&X)+de[15]+1236535329|0)<<22|Q>>>10)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&J|Y&~J)+de[1]-165796510|0)<<5|X>>>27)+Q|0)&Y|Q&~Y)+de[6]-1069501632|0)<<9|J>>>23)+X|0)&Q|X&~Q)+de[11]+643717713|0)<<14|Y>>>18)+J|0)&X|J&~X)+de[0]-373897302|0)<<20|Q>>>12)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&J|Y&~J)+de[5]-701558691|0)<<5|X>>>27)+Q|0)&Y|Q&~Y)+de[10]+38016083|0)<<9|J>>>23)+X|0)&Q|X&~Q)+de[15]-660478335|0)<<14|Y>>>18)+J|0)&X|J&~X)+de[4]-405537848|0)<<20|Q>>>12)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&J|Y&~J)+de[9]+568446438|0)<<5|X>>>27)+Q|0)&Y|Q&~Y)+de[14]-1019803690|0)<<9|J>>>23)+X|0)&Q|X&~Q)+de[3]-187363961|0)<<14|Y>>>18)+J|0)&X|J&~X)+de[8]+1163531501|0)<<20|Q>>>12)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q&J|Y&~J)+de[13]-1444681467|0)<<5|X>>>27)+Q|0)&Y|Q&~Y)+de[2]-51403784|0)<<9|J>>>23)+X|0)&Q|X&~Q)+de[7]+1735328473|0)<<14|Y>>>18)+J|0)&X|J&~X)+de[12]-1926607734|0)<<20|Q>>>12)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q^Y^J)+de[5]-378558|0)<<4|X>>>28)+Q|0)^Q^Y)+de[8]-2022574463|0)<<11|J>>>21)+X|0)^X^Q)+de[11]+1839030562|0)<<16|Y>>>16)+J|0)^J^X)+de[14]-35309556|0)<<23|Q>>>9)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q^Y^J)+de[1]-1530992060|0)<<4|X>>>28)+Q|0)^Q^Y)+de[4]+1272893353|0)<<11|J>>>21)+X|0)^X^Q)+de[7]-155497632|0)<<16|Y>>>16)+J|0)^J^X)+de[10]-1094730640|0)<<23|Q>>>9)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q^Y^J)+de[13]+681279174|0)<<4|X>>>28)+Q|0)^Q^Y)+de[0]-358537222|0)<<11|J>>>21)+X|0)^X^Q)+de[3]-722521979|0)<<16|Y>>>16)+J|0)^J^X)+de[6]+76029189|0)<<23|Q>>>9)+Y|0,Q=((Q+=((Y=((Y+=((J=((J+=((X=((X+=(Q^Y^J)+de[9]-640364487|0)<<4|X>>>28)+Q|0)^Q^Y)+de[12]-421815835|0)<<11|J>>>21)+X|0)^X^Q)+de[15]+530742520|0)<<16|Y>>>16)+J|0)^J^X)+de[2]-995338651|0)<<23|Q>>>9)+Y|0,Q=((Q+=((J=((J+=(Q^((X=((X+=(Y^(Q|~J))+de[0]-198630844|0)<<6|X>>>26)+Q|0)|~Y))+de[7]+1126891415|0)<<10|J>>>22)+X|0)^((Y=((Y+=(X^(J|~Q))+de[14]-1416354905|0)<<15|Y>>>17)+J|0)|~X))+de[5]-57434055|0)<<21|Q>>>11)+Y|0,Q=((Q+=((J=((J+=(Q^((X=((X+=(Y^(Q|~J))+de[12]+1700485571|0)<<6|X>>>26)+Q|0)|~Y))+de[3]-1894986606|0)<<10|J>>>22)+X|0)^((Y=((Y+=(X^(J|~Q))+de[10]-1051523|0)<<15|Y>>>17)+J|0)|~X))+de[1]-2054922799|0)<<21|Q>>>11)+Y|0,Q=((Q+=((J=((J+=(Q^((X=((X+=(Y^(Q|~J))+de[8]+1873313359|0)<<6|X>>>26)+Q|0)|~Y))+de[15]-30611744|0)<<10|J>>>22)+X|0)^((Y=((Y+=(X^(J|~Q))+de[6]-1560198380|0)<<15|Y>>>17)+J|0)|~X))+de[13]+1309151649|0)<<21|Q>>>11)+Y|0,Q=((Q+=((J=((J+=(Q^((X=((X+=(Y^(Q|~J))+de[4]-145523070|0)<<6|X>>>26)+Q|0)|~Y))+de[11]-1120210379|0)<<10|J>>>22)+X|0)^((Y=((Y+=(X^(J|~Q))+de[2]+718787259|0)<<15|Y>>>17)+J|0)|~X))+de[9]-343485551|0)<<21|Q>>>11)+Y|0,G[0]=X+G[0]|0,G[1]=Q+G[1]|0,G[2]=Y+G[2]|0,G[3]=J+G[3]|0},ye.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(ye.stateIdentity),this},ye.prototype.appendStr=function(G){var Y,J,de=this._buffer8,X=this._buffer32,Q=this._bufferLength;for(J=0;J<G.length;J+=1){if((Y=G.charCodeAt(J))<128)de[Q++]=Y;else if(Y<2048)de[Q++]=192+(Y>>>6),de[Q++]=63&Y|128;else if(Y<55296||Y>56319)de[Q++]=224+(Y>>>12),de[Q++]=Y>>>6&63|128,de[Q++]=63&Y|128;else{if((Y=1024*(Y-55296)+(G.charCodeAt(++J)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");de[Q++]=240+(Y>>>18),de[Q++]=Y>>>12&63|128,de[Q++]=Y>>>6&63|128,de[Q++]=63&Y|128}Q>=64&&(this._dataLength+=64,ye._md5cycle(this._state,X),Q-=64,X[0]=X[16])}return this._bufferLength=Q,this},ye.prototype.appendAsciiStr=function(G){for(var Y,de=this._buffer8,X=this._buffer32,Q=this._bufferLength,J=0;;){for(Y=Math.min(G.length-J,64-Q);Y--;)de[Q++]=G.charCodeAt(J++);if(Q<64)break;this._dataLength+=64,ye._md5cycle(this._state,X),Q=0}return this._bufferLength=Q,this},ye.prototype.appendByteArray=function(G){for(var Y,de=this._buffer8,X=this._buffer32,Q=this._bufferLength,J=0;;){for(Y=Math.min(G.length-J,64-Q);Y--;)de[Q++]=G[J++];if(Q<64)break;this._dataLength+=64,ye._md5cycle(this._state,X),Q=0}return this._bufferLength=Q,this},ye.prototype.getState=function(){var G=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[G[0],G[1],G[2],G[3]]}},ye.prototype.setState=function(G){var Y,de=G.buffer,X=G.state,Q=this._state;for(this._dataLength=G.length,this._bufferLength=G.buflen,Q[0]=X[0],Q[1]=X[1],Q[2]=X[2],Q[3]=X[3],Y=0;Y<de.length;Y+=1)this._buffer8[Y]=de.charCodeAt(Y)},ye.prototype.end=function(G){void 0===G&&(G=!1);var de=this._bufferLength,X=this._buffer8,Q=this._buffer32,Y=1+(de>>2);this._dataLength+=de;var J=8*this._dataLength;if(X[de]=128,X[de+1]=X[de+2]=X[de+3]=0,Q.set(ye.buffer32Identity.subarray(Y),Y),de>55&&(ye._md5cycle(this._state,Q),Q.set(ye.buffer32Identity)),J<=4294967295)Q[14]=J;else{var Ue=J.toString(16).match(/(.*?)(.{0,8})$/);if(null===Ue)return;var me=parseInt(Ue[2],16),_e=parseInt(Ue[1],16)||0;Q[14]=me,Q[15]=_e}return ye._md5cycle(this._state,Q),G?this._state:ye._hex(this._state)},ye.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),ye.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ye.hexChars="0123456789abcdef",ye.hexOut=[],ye.onePassHasher=new ye,ye}();if(Ye.V=c,"5d41402abc4b2a76b9719d911017c592"!==c.hashStr("hello"))throw new Error("Md5 self test failed.")},655:(Jt,Ye,K)=>{"use strict";function de(we,Re){var De={};for(var Ne in we)Object.prototype.hasOwnProperty.call(we,Ne)&&Re.indexOf(Ne)<0&&(De[Ne]=we[Ne]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Ne=Object.getOwnPropertySymbols(we);Ve<Ne.length;Ve++)Re.indexOf(Ne[Ve])<0&&Object.prototype.propertyIsEnumerable.call(we,Ne[Ve])&&(De[Ne[Ve]]=we[Ne[Ve]])}return De}function J(we,Re,De,Ne){return new(De||(De=Promise))(function(bt,mn){function Qn(Ln){try{qt(Ne.next(Ln))}catch(mr){mn(mr)}}function Vn(Ln){try{qt(Ne.throw(Ln))}catch(mr){mn(mr)}}function qt(Ln){Ln.done?bt(Ln.value):function Ve(bt){return bt instanceof De?bt:new De(function(mn){mn(bt)})}(Ln.value).then(Qn,Vn)}qt((Ne=Ne.apply(we,Re||[])).next())})}function qe(we){return this instanceof qe?(this.v=we,this):new qe(we)}function ot(we,Re,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Ne=De.apply(we,Re||[]),bt=[];return Ve={},mn("next"),mn("throw"),mn("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function mn(_r){Ne[_r]&&(Ve[_r]=function(Zn){return new Promise(function(Xr,Gn){bt.push([_r,Zn,Xr,Gn])>1||Qn(_r,Zn)})})}function Qn(_r,Zn){try{!function Vn(_r){_r.value instanceof qe?Promise.resolve(_r.value.v).then(qt,Ln):mr(bt[0][2],_r)}(Ne[_r](Zn))}catch(Xr){mr(bt[0][3],Xr)}}function qt(_r){Qn("next",_r)}function Ln(_r){Qn("throw",_r)}function mr(_r,Zn){_r(Zn),bt.shift(),bt.length&&Qn(bt[0][0],bt[0][1])}}function en(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Re=we[Symbol.asyncIterator];return Re?Re.call(we):(we=function Fe(we){var Re="function"==typeof Symbol&&Symbol.iterator,De=Re&&we[Re],Ne=0;if(De)return De.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Ne>=we.length&&(we=void 0),{value:we&&we[Ne++],done:!we}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),De={},Ne("next"),Ne("throw"),Ne("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ne(bt){De[bt]=we[bt]&&function(mn){return new Promise(function(Qn,Vn){!function Ve(bt,mn,Qn,Vn){Promise.resolve(Vn).then(function(qt){bt({value:qt,done:Qn})},mn)}(Qn,Vn,(mn=we[bt](mn)).done,mn.value)})}}}K.d(Ye,{FC:()=>ot,KL:()=>en,_T:()=>de,mG:()=>J,qq:()=>qe})},5e3:(Jt,Ye,K)=>{"use strict";K.d(Ye,{$8M:()=>Yl,$Z:()=>Ep,AFp:()=>cw,ALo:()=>wI,AaK:()=>J,AsE:()=>B_,BQk:()=>E1,CHM:()=>Qa,CRH:()=>DI,CZH:()=>Ib,CqO:()=>Zt,EJc:()=>Y0,EiD:()=>Iy,EpF:()=>w0,F$t:()=>b1,F4k:()=>IE,FYo:()=>aI,FiY:()=>Fs,G48:()=>MO,Gf:()=>Ls,GfV:()=>tf,GkF:()=>Hc,Gpc:()=>_e,Hsn:()=>Qh,JOm:()=>W,JVY:()=>Ey,L6k:()=>Gm,LAX:()=>Yf,LFG:()=>fn,LSH:()=>Id,Lbi:()=>z0,MAs:()=>nA,NdJ:()=>Ru,O4$:()=>Eh,OlP:()=>ci,Oqu:()=>UE,PXZ:()=>tD,Q6J:()=>AE,QGY:()=>bp,Qsj:()=>lI,R0b:()=>Wc,RDi:()=>fd,Rgc:()=>jp,SBq:()=>Lp,Sil:()=>Pb,Suo:()=>II,TTD:()=>Io,TgZ:()=>Vc,Tol:()=>N_,Udp:()=>A1,VKq:()=>ob,VLi:()=>Lb,W1O:()=>yb,WLB:()=>rf,X6Q:()=>Gb,XFs:()=>an,Xpm:()=>xn,Y36:()=>Pi,YKP:()=>V0,YNc:()=>eA,Yjl:()=>gc,Yz7:()=>Zn,ZZ4:()=>Iw,_Bn:()=>qd,_UZ:()=>Hd,_Vd:()=>zd,_c5:()=>jO,_uU:()=>Ap,aQg:()=>Ev,c2e:()=>Z0,cJS:()=>Gn,cg1:()=>M1,d8E:()=>O1,dDg:()=>JI,deG:()=>Nm,dqk:()=>In,eBb:()=>Cx,eFA:()=>pw,ekj:()=>jd,evT:()=>Vx,g9A:()=>uw,h0i:()=>Up,hGG:()=>dD,hij:()=>C0,iGM:()=>Q1,ifc:()=>Bn,ip1:()=>lw,kEZ:()=>pI,kL8:()=>N1,kYT:()=>fc,kcU:()=>xg,l5B:()=>Vp,lG2:()=>Il,lcZ:()=>cb,mCW:()=>Fh,n5z:()=>li,oAB:()=>us,oJD:()=>Zm,oxw:()=>DE,pB0:()=>Sx,q3G:()=>yi,q4F:()=>uI,qLn:()=>zg,qOj:()=>wE,qZA:()=>ui,qzn:()=>tc,s9C:()=>P_,sBO:()=>$b,sIi:()=>hp,s_b:()=>lv,soG:()=>dw,tBr:()=>oa,tb:()=>Kd,tp0:()=>ec,uIk:()=>C_,vHH:()=>Et,vpe:()=>lc,wAp:()=>Rt,xi3:()=>af,xp6:()=>sS,yhl:()=>Mh,ynx:()=>Yh,z2F:()=>uf,z3N:()=>Fo,zSh:()=>fE,zs3:()=>Bc});var c=K(7579),ye=K(727),G=K(8306),de=K(6451),X=K(3099);function Q(a){for(let l in a)if(a[l]===Q)return l;throw Error("Could not find renamed property on target object.")}function Y(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function J(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(J).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function Ue(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const me=Q({__forward_ref__:Q});function _e(a){return a.__forward_ref__=_e,a.toString=function(){return J(this())},a}function Fe(a){return Nt(a)?a():a}function Nt(a){return"function"==typeof a&&a.hasOwnProperty(me)&&a.__forward_ref__===_e}class Et extends Error{constructor(l,d){super(function Ot(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,d)),this.code=l}}function qe(a){return"string"==typeof a?a:null==a?"":String(a)}function ot(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():qe(a)}function nt(a,l){const d=l?` in ${l}`:"";throw new Et(-201,`No provider for ${ot(a)} found${d}`)}function Vn(a,l){null==a&&function qt(a,l,d,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${d} ${f} ${l} <=Actual]`))}(l,a,null,"!=")}function Zn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Gn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Hn(a){return Cs(a,Gs)||Cs(a,Ss)}function Cs(a,l){return a.hasOwnProperty(l)?a[l]:null}function Ni(a){return a&&(a.hasOwnProperty(uo)||a.hasOwnProperty(qi))?a[uo]:null}const Gs=Q({\u0275prov:Q}),uo=Q({\u0275inj:Q}),Ss=Q({ngInjectableDef:Q}),qi=Q({ngInjectorDef:Q});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let Jr;function tr(a){const l=Jr;return Jr=a,l}function bo(a,l,d){const f=Hn(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&an.Optional?null:void 0!==l?l:void nt(J(a),"Injector")}function fi(a){return{toString:a}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),Bn=(()=>{return(a=Bn||(Bn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Bn;var a})();const zt="undefined"!=typeof globalThis&&globalThis,ln="undefined"!=typeof window&&window,Ri="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,In=zt||"undefined"!=typeof global&&global||ln||Ri,Bi={},fe=[],Ee=Q({\u0275cmp:Q}),Te=Q({\u0275dir:Q}),lt=Q({\u0275pipe:Q}),ue=Q({\u0275mod:Q}),Oe=Q({\u0275fac:Q}),vt=Q({__NG_ELEMENT_ID__:Q});let nn=0;function xn(a){return fi(()=>{const d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||fe,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Bn.Emulated,id:"c",styles:a.styles||fe,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.directives,v=a.features,b=a.pipes;return f.id+=nn++,f.inputs=pc(a.inputs,d),f.outputs=pc(a.outputs),v&&v.forEach(S=>S(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(Dr):null,f.pipeDefs=b?()=>("function"==typeof b?b():b).map(Dn):null,f})}function Dr(a){return gi(a)||function mi(a){return a[Te]||null}(a)}function Dn(a){return function Yo(a){return a[lt]||null}(a)}const pi={};function us(a){return fi(()=>{const l={type:a.type,bootstrap:a.bootstrap||fe,declarations:a.declarations||fe,imports:a.imports||fe,exports:a.exports||fe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(pi[a.id]=a.type),l})}function fc(a,l){return fi(()=>{const d=_i(a,!0);d.declarations=l.declarations||fe,d.imports=l.imports||fe,d.exports=l.exports||fe})}function pc(a,l){if(null==a)return Bi;const d={};for(const f in a)if(a.hasOwnProperty(f)){let g=a[f],v=g;Array.isArray(g)&&(v=g[1],g=g[0]),d[g]=f,l&&(l[g]=v)}return d}const Il=xn;function gc(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function gi(a){return a[Ee]||null}function _i(a,l){const d=a[ue]||null;if(!d&&!0===l)throw new Error(`Type ${J(a)} does not have '\u0275mod' property.`);return d}function Ds(a){return Array.isArray(a)&&"object"==typeof a[1]}function Co(a){return Array.isArray(a)&&!0===a[1]}function ou(a){return 0!=(8&a.flags)}function uh(a){return 2==(2&a.flags)}function So(a){return 1==(1&a.flags)}function Ao(a){return null!==a.template}function ad(a){return 0!=(512&a[2])}function Ki(a,l){return a.hasOwnProperty(Oe)?a[Oe]:null}class $a{constructor(l,d,f){this.previousValue=l,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Io(){return Fl}function Fl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Rf),mh}function mh(){const a=qa(this),l=null==a?void 0:a.current;if(l){const d=a.previous;if(d===Bi)a.previous=l;else for(let f in l)d[f]=l[f];a.current=null,this.ngOnChanges(l)}}function Rf(a,l,d,f){const g=qa(a)||function za(a,l){return a[Wa]=l}(a,{previous:Bi,current:null}),v=g.current||(g.current={}),b=g.previous,S=this.declaredInputs[d],P=b[S];v[S]=new $a(P&&P.currentValue,l,b===Bi),a[f]=l}Io.ngInherit=!0;const Wa="__ngSimpleChanges__";function qa(a){return a[Wa]||null}let Nl;function fd(a){Nl=a}function Do(){return void 0!==Nl?Nl:"undefined"!=typeof document?document:void 0}function xr(a){return!!a.listen}const Za={createRenderer:(a,l)=>Do()};function sr(a){for(;Array.isArray(a);)a=a[0];return a}function zs(a,l){return sr(l[a])}function Vi(a,l){return sr(l[a.index])}function Lr(a,l){return a.data[l]}function ko(a,l){return a[l]}function Ci(a,l){const d=l[a];return Ds(d)?d:d[0]}function Ka(a){return 4==(4&a[2])}function fo(a){return 128==(128&a[2])}function po(a,l){return null==l?null:a[l]}function Po(a){a[18]=0}function Ll(a,l){a[5]+=l;let d=a,f=a[3];for(;null!==f&&(1===l&&1===d[5]||-1===l&&0===d[5]);)f[5]+=l,d=f,f=f[3]}const An={lFrame:jl(null),bindingsEnabled:!0};function uu(){return An.bindingsEnabled}function ut(){return An.lFrame.lView}function $n(){return An.lFrame.tView}function Qa(a){return An.lFrame.contextLView=a,a[8]}function Nr(){let a=yc();for(;null!==a&&64===a.type;)a=a.parent;return a}function yc(){return An.lFrame.currentTNode}function ks(a,l){const d=An.lFrame;d.currentTNode=a,d.isParent=l}function _d(){return An.lFrame.isParent}function vd(){An.lFrame.isParent=!1}function Yi(){const a=An.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ya(){return An.lFrame.bindingIndex++}function go(a){const l=An.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function wc(a,l){const d=An.lFrame;d.bindingIndex=d.bindingRootIndex=a,Hl(l)}function Hl(a){An.lFrame.currentDirectiveIndex=a}function fu(a){const l=An.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function xc(){return An.lFrame.currentQueryIndex}function wh(a){An.lFrame.currentQueryIndex=a}function pu(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Ec(a,l,d){if(d&an.SkipSelf){let g=l,v=a;for(;!(g=g.parent,null!==g||d&an.Host||(g=pu(v),null===g||(v=v[15],10&g.type))););if(null===g)return!1;l=g,a=v}const f=An.lFrame=gu();return f.currentTNode=l,f.lView=a,!0}function wa(a){const l=gu(),d=a[1];An.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function gu(){const a=An.lFrame,l=null===a?null:a.child;return null===l?jl(a):l}function jl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function xh(){const a=An.lFrame;return An.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const mu=xh;function Hi(){const a=xh();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Si(){return An.lFrame.selectedIndex}function Xa(a){An.lFrame.selectedIndex=a}function ei(){const a=An.lFrame;return Lr(a.tView,a.selectedIndex)}function Eh(){An.lFrame.currentNamespace="svg"}function xg(){!function bh(){An.lFrame.currentNamespace=null}()}function bc(a,l){for(let d=l.directiveStart,f=l.directiveEnd;d<f;d++){const v=a.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:N,ngOnDestroy:B}=v;b&&(a.contentHooks||(a.contentHooks=[])).push(-d,b),S&&((a.contentHooks||(a.contentHooks=[])).push(d,S),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,S)),P&&(a.viewHooks||(a.viewHooks=[])).push(-d,P),N&&((a.viewHooks||(a.viewHooks=[])).push(d,N),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,N)),null!=B&&(a.destroyHooks||(a.destroyHooks=[])).push(d,B)}}function na(a,l,d){_u(a,l,3,d)}function Ja(a,l,d,f){(3&a[2])===d&&_u(a,l,d,f)}function oi(a,l){let d=a[2];(3&d)===l&&(d&=2047,d+=1,a[2]=d)}function _u(a,l,d,f){const v=null!=f?f:-1,b=l.length-1;let S=0;for(let P=void 0!==f?65535&a[18]:0;P<b;P++)if("number"==typeof l[P+1]){if(S=l[P],null!=f&&S>=f)break}else l[P]<0&&(a[18]+=65536),(S<v||-1==v)&&(bg(a,d,l,P),a[18]=(4294901760&a[18])+P+2),P++}function bg(a,l,d,f){const g=d[f]<0,v=d[f+1],S=a[g?-d[f]:d[f]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{v.call(S)}finally{}}}else try{v.call(S)}finally{}}class Gl{constructor(l,d,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Cr(a,l,d){const f=xr(a);let g=0;for(;g<d.length;){const v=d[g];if("number"==typeof v){if(0!==v)break;g++;const b=d[g++],S=d[g++],P=d[g++];f?a.setAttribute(l,S,P,b):l.setAttributeNS(b,S,P)}else{const b=v,S=d[++g];A(b)?f&&a.setProperty(l,b,S):f?a.setAttribute(l,b,S):l.setAttribute(b,S),g++}}return g}function Qi(a){return 3===a||4===a||6===a}function A(a){return 64===a.charCodeAt(0)}function k(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?d=g:0===d||L(a,d,g,null,-1===d||2===d?l[++f]:null)}}return a}function L(a,l,d,f,g){let v=0,b=a.length;if(-1===l)b=-1;else for(;v<a.length;){const S=a[v++];if("number"==typeof S){if(S===l){b=-1;break}if(S>l){b=v-1;break}}}for(;v<a.length;){const S=a[v];if("number"==typeof S)break;if(S===d){if(null===f)return void(null!==g&&(a[v+1]=g));if(f===a[v+1])return void(a[v+2]=g)}v++,null!==f&&v++,null!==g&&v++}-1!==b&&(a.splice(b,0,l),v=b+1),a.splice(v++,0,d),null!==f&&a.splice(v++,0,f),null!==g&&a.splice(v++,0,g)}function le(a){return-1!==a}function at(a){return 32767&a}function fr(a,l){let d=function Bt(a){return a>>16}(a),f=l;for(;d>0;)f=f[15],d--;return f}let ti=!0;function Yt(a){const l=ti;return ti=a,l}let Vf=0;function Wl(a,l){const d=Cc(a,l);if(-1!==d)return d;const f=l[1];f.firstCreatePass&&(a.injectorIndex=l.length,yu(f.data,a),yu(l,null),yu(f.blueprint,null));const g=fs(a,l),v=a.injectorIndex;if(le(g)){const b=at(g),S=fr(g,l),P=S[1].data;for(let N=0;N<8;N++)l[v+N]=S[b+N]|P[b+N]}return l[v+8]=g,v}function yu(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Cc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function fs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,f=null,g=l;for(;null!==g;){const v=g[1],b=v.type;if(f=2===b?v.declTNode:1===b?g[6]:null,null===f)return-1;if(d++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Ks(a,l,d){!function Wr(a,l,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(vt)&&(f=d[vt]),null==f&&(f=d[vt]=Vf++);const g=255&f;l.data[a+(g>>5)]|=1<<g}(a,l,d)}function wu(a,l,d){if(d&an.Optional)return a;nt(l,"NodeInjector")}function ql(a,l,d,f){if(d&an.Optional&&void 0===f&&(f=null),0==(d&(an.Self|an.Host))){const g=a[9],v=tr(void 0);try{return g?g.get(l,f,d&an.Optional):bo(l,f,d&an.Optional)}finally{tr(v)}}return wu(f,l,d)}function xu(a,l,d,f=an.Default,g){if(null!==a){const v=function Zl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(vt)?a[vt]:void 0;return"number"==typeof l?l>=0?255&l:Eu:l}(d);if("function"==typeof v){if(!Ec(l,a,f))return f&an.Host?wu(g,d,f):ql(l,d,f,g);try{const b=v(f);if(null!=b||f&an.Optional)return b;nt(d)}finally{mu()}}else if("number"==typeof v){let b=null,S=Cc(a,l),P=-1,N=f&an.Host?l[16][6]:null;for((-1===S||f&an.SkipSelf)&&(P=-1===S?fs(a,l):l[S+8],-1!==P&&Hf(f,!1)?(b=l[1],S=at(P),l=fr(P,l)):S=-1);-1!==S;){const B=l[1];if(ai(v,S,B.data)){const te=Ac(S,l,d,b,f,N);if(te!==zl)return te}P=l[S+8],-1!==P&&Hf(f,l[1].data[S+8]===N)&&ai(v,S,l)?(b=B,S=at(P),l=fr(P,l)):S=-1}}}return ql(l,d,f,g)}const zl={};function Eu(){return new Kl(Nr(),ut())}function Ac(a,l,d,f,g,v){const b=l[1],S=b.data[a+8],B=Ed(S,b,d,null==f?uh(S)&&ti:f!=b&&0!=(3&S.type),g&an.Host&&v===S);return null!==B?nl(l,b,B,S):zl}function Ed(a,l,d,f,g){const v=a.providerIndexes,b=l.data,S=1048575&v,P=a.directiveStart,B=v>>20,ve=g?S+B:a.directiveEnd;for(let Pe=f?S:S+B;Pe<ve;Pe++){const tt=b[Pe];if(Pe<P&&d===tt||Pe>=P&&tt.type===d)return Pe}if(g){const Pe=b[P];if(Pe&&Ao(Pe)&&Pe.type===d)return P}return null}function nl(a,l,d,f){let g=a[d];const v=l.data;if(function Ps(a){return a instanceof Gl}(g)){const b=g;b.resolving&&function Vt(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Et(-200,`Circular dependency in DI detected for ${a}${d}`)}(ot(v[d]));const S=Yt(b.canSeeViewProviders);b.resolving=!0;const P=b.injectImpl?tr(b.injectImpl):null;Ec(a,f,an.Default);try{g=a[d]=b.factory(void 0,v,a,f),l.firstCreatePass&&d>=f.directiveStart&&function Eg(a,l,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:v}=l.type.prototype;if(f){const b=Fl(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,b)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,g),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,v))}(d,v[d],l)}finally{null!==P&&tr(P),Yt(S),b.resolving=!1,mu()}}return g}function ai(a,l,d){return!!(d[l+(a>>5)]&1<<a)}function Hf(a,l){return!(a&an.Self||a&an.Host&&l)}class Kl{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,f){return xu(this._tNode,this._lView,l,f,d)}}function li(a){return fi(()=>{const l=a.prototype.constructor,d=l[Oe]||Ic(l),f=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==f;){const v=g[Oe]||Ic(g);if(v&&v!==d)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function Ic(a){return Nt(a)?()=>{const l=Ic(Fe(a));return l&&l()}:Ki(a)}function Yl(a){return function Sc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const v=d[g];if(Qi(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(v===l)return d[g+1];g+=2}}}return null}(Nr(),a)}const Mo="__parameters__";function ia(a,l,d){return fi(()=>{const f=function Ii(a){return function(...d){if(a){const f=a(...d);for(const g in f)this[g]=f[g]}}}(l);function g(...v){if(this instanceof g)return f.apply(this,v),this;const b=new g(...v);return S.annotation=b,S;function S(P,N,B){const te=P.hasOwnProperty(Mo)?P[Mo]:Object.defineProperty(P,Mo,{value:[]})[Mo];for(;te.length<=B;)te.push(null);return(te[B]=te[B]||[]).push(b),P}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class ci{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Zn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nm=new ci("AnalyzeForEntryComponents");function Os(a,l){void 0===l&&(l=a);for(let d=0;d<a.length;d++){let f=a[d];Array.isArray(f)?(l===a&&(l=a.slice(0,d)),Os(f,l)):l!==a&&l.push(f)}return l}function Qs(a,l){a.forEach(d=>Array.isArray(d)?Qs(d,l):l(d))}function Td(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function Tu(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function il(a,l){const d=[];for(let f=0;f<a;f++)d.push(l);return d}function Ms(a,l,d){let f=Au(a,l);return f>=0?a[1|f]=d:(f=~f,function Cu(a,l,d,f){let g=a.length;if(g==l)a.push(d,f);else if(1===g)a.push(f,a[0]),a[0]=d;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=d,a[l+1]=f}}(a,f,l,d)),f}function Cd(a,l){const d=Au(a,l);if(d>=0)return a[1|d]}function Au(a,l){return function ol(a,l,d){let f=0,g=a.length>>d;for(;g!==f;){const v=f+(g-f>>1),b=a[v<<d];if(l===b)return v<<d;b>l?g=v:f=v+1}return~(g<<d)}(a,l,1)}const Jl={},Iu="__NG_DI_FLAG__",Sd="ngTempTokenPath",F=/\n/gm,se="__source",ke=Q({provide:String,useValue:Q});let Le;function Qe(a){const l=Le;return Le=a,l}function rn(a,l=an.Default){if(void 0===Le)throw new Et(203,"");return null===Le?bo(a,void 0,l):Le.get(a,l&an.Optional?null:void 0,l)}function fn(a,l=an.Default){return(function Gr(){return Jr}()||rn)(Fe(a),l)}const or=fn;function On(a){const l=[];for(let d=0;d<a.length;d++){const f=Fe(a[d]);if(Array.isArray(f)){if(0===f.length)throw new Et(900,"");let g,v=an.Default;for(let b=0;b<f.length;b++){const S=f[b],P=Xi(S);"number"==typeof P?-1===P?g=S.token:v|=P:g=S}l.push(fn(g,v))}else l.push(fn(f))}return l}function Di(a,l){return a[Iu]=l,a.prototype[Iu]=l,a}function Xi(a){return a[Iu]}const oa=Di(ia("Inject",a=>({token:a})),-1),Fs=Di(ia("Optional"),8),ec=Di(ia("SkipSelf"),4);let Zf,kc;function Oh(a){var l;return(null===(l=function Mg(){if(void 0===Zf&&(Zf=null,In.trustedTypes))try{Zf=In.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Zf}())||void 0===l?void 0:l.createHTML(a))||a}function Ng(a){var l;return(null===(l=function Fg(){if(void 0===kc&&(kc=null,In.trustedTypes))try{kc=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return kc}())||void 0===l?void 0:l.createHTML(a))||a}class Pc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xy extends Pc{getTypeName(){return"HTML"}}class Kf extends Pc{getTypeName(){return"Style"}}class Ex extends Pc{getTypeName(){return"Script"}}class bx extends Pc{getTypeName(){return"URL"}}class Tx extends Pc{getTypeName(){return"ResourceURL"}}function Fo(a){return a instanceof Pc?a.changingThisBreaksApplicationSecurity:a}function tc(a,l){const d=Mh(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===l}function Mh(a){return a instanceof Pc&&a.getTypeName()||null}function Ey(a){return new xy(a)}function Gm(a){return new Kf(a)}function Cx(a){return new Ex(a)}function Yf(a){return new bx(a)}function Sx(a){return new Tx(a)}class by{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(Oh(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Ty{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Oh(l),d;const f=this.inertDocument.createElement("body");return f.innerHTML=Oh(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const d=l.attributes;for(let g=d.length-1;0<g;g--){const b=d.item(g).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Ax=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ad=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fh(a){return(a=String(a)).match(Ax)||a.match(Ad)?a:"unsafe:"+a}function Ca(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function Qf(...a){const l={};for(const d of a)for(const f in d)d.hasOwnProperty(f)&&(l[f]=!0);return l}const Bg=Ca("area,br,col,hr,img,wbr"),Ug=Ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oc=Ca("rp,rt"),Xf=Qf(Bg,Qf(Ug,Ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qf(Oc,Ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qf(Oc,Ug)),qm=Ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zm=Ca("srcset"),Sy=Qf(qm,zm,Ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rh=Ca("script,style,template");class Mc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!Xf.hasOwnProperty(d))return this.sanitizedSomething=!0,!Rh.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=l.attributes;for(let g=0;g<f.length;g++){const v=f.item(g),b=v.name,S=b.toLowerCase();if(!Sy.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=v.value;qm[S]&&(P=Fh(P)),zm[S]&&(a=P,P=(a=String(a)).split(",").map(l=>Fh(l.trim())).join(", ")),this.buf.push(" ",b,'="',Jf(P),'"')}var a;return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();Xf.hasOwnProperty(d)&&!Bg.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(Jf(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const Dx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ay=/([^\#-~ |!])/g;function Jf(a){return a.replace(/&/g,"&amp;").replace(Dx,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ay,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lh;function Iy(a,l){let d=null;try{Lh=Lh||function $m(a){const l=new Ty(a);return function Lg(){try{return!!(new window.DOMParser).parseFromString(Oh(""),"text/html")}catch(a){return!1}}()?new by(l):l}(a);let f=l?String(l):"";d=Lh.getInertBodyElement(f);let g=5,v=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=v,v=d.innerHTML,d=Lh.getInertBodyElement(f)}while(f!==v);return Oh((new Mc).sanitizeChildren(ep(d)||d))}finally{if(d){const f=ep(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function ep(a){return"content"in a&&function mo(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function Zm(a){const l=Bh();return l?Ng(l.sanitize(yi.HTML,a)||""):tc(a,"HTML")?Ng(Fo(a)):Iy(Do(),qe(a))}function Id(a){const l=Bh();return l?l.sanitize(yi.URL,a)||"":tc(a,"URL")?Fo(a):Fh(qe(a))}function Bh(){const a=ut();return a&&a[12]}const $g="__ngContext__";function gs(a,l){a[$g]=l}function Qm(a){const l=function Uh(a){return a[$g]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function qg(a){return a.ngOriginalError}function Lx(a,...l){a.error(...l)}class zg{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l),f=function Rx(a){return a&&a.ngErrorLogger||Lx}(l);f(this._console,"ERROR",l),d&&f(this._console,"ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&qg(l);for(;d&&qg(d);)d=qg(d);return d||null}}const n_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(In))();function Vx(a){return a.ownerDocument}function x(a){return a instanceof Function?a():a}var W=(()=>((W=W||{})[W.Important=1]="Important",W[W.DashCase=2]="DashCase",W))();function Ke(a,l){return undefined(a,l)}function Sn(a){const l=a[3];return Co(l)?l[3]:l}function Ro(a){return r_(a[13])}function Vh(a){return r_(a[4])}function r_(a){for(;null!==a&&!Co(a);)a=a[4];return a}function Od(a,l,d,f,g){if(null!=f){let v,b=!1;Co(f)?v=f:Ds(f)&&(b=!0,f=f[0]);const S=sr(f);0===a&&null!==d?null==g?YC(l,d,S):Gh(l,d,S,g||null,!0):1===a&&null!==d?Gh(l,d,S,g||null,!0):2===a?function rS(a,l,d){const f=Hy(a,l);f&&function XC(a,l,d,f){xr(a)?a.removeChild(l,d,f):l.removeChild(d)}(a,f,l,d)}(l,S,b):3===a&&l.destroyNode(S),null!=v&&function Sr(a,l,d,f,g){const v=d[7];v!==sr(d)&&Od(l,a,f,v,g);for(let S=10;S<d.length;S++){const P=d[S];o_(P[1],P,a,l,f,v)}}(l,a,v,d,g)}}function Er(a,l,d){if(xr(a))return a.createElement(l,d);{const f=null!==d?function hd(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(d):null;return null===f?a.createElement(l):a.createElementNS(f,l)}}function zC(a,l){const d=a[9],f=d.indexOf(l),g=l[3];1024&l[2]&&(l[2]&=-1025,Ll(g,-1)),d.splice(f,1)}function Uy(a,l){if(a.length<=10)return;const d=10+l,f=a[d];if(f){const g=f[17];null!==g&&g!==a&&zC(g,f),l>0&&(a[d-1][4]=f[4]);const v=Tu(a,10+l);!function i_(a,l){o_(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const b=v[19];null!==b&&b.detachView(v[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function ZC(a,l){if(!(256&l[2])){const d=l[11];xr(d)&&d.destroyNode&&o_(a,l,d,3,null,null),function ku(a){let l=a[13];if(!l)return Vy(a[1],a);for(;l;){let d=null;if(Ds(l))d=l[13];else{const f=l[10];f&&(d=f)}if(!d){for(;l&&!l[4]&&l!==a;)Ds(l)&&Vy(l[1],l),l=l[3];null===l&&(l=a),Ds(l)&&Vy(l[1],l),d=l&&l[4]}l=d}}(l)}}function Vy(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function jx(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let f=0;f<d.length;f+=2){const g=l[d[f]];if(!(g instanceof Gl)){const v=d[f+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const S=g[v[b]],P=v[b+1];try{P.call(S)}finally{}}else try{v.call(g)}finally{}}}}(a,l),function KC(a,l){const d=a.cleanup,f=l[7];let g=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const b=d[v+1],S="function"==typeof b?b(l):sr(l[b]),P=f[g=d[v+2]],N=d[v+3];"boolean"==typeof N?S.removeEventListener(d[v],P,N):N>=0?f[g=N]():f[g=-N].unsubscribe(),v+=2}else{const b=f[g=d[v+1]];d[v].call(b)}if(null!==f){for(let v=g+1;v<f.length;v++)f[v]();l[7]=null}}(a,l),1===l[1].type&&xr(l[11])&&l[11].destroy();const d=l[17];if(null!==d&&Co(l[3])){d!==l[3]&&zC(d,l);const f=l[19];null!==f&&f.detachView(a)}}}function qk(a,l,d){return function jh(a,l,d){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return d[0];if(2&f.flags){const g=a.data[f.directiveStart].encapsulation;if(g===Bn.None||g===Bn.Emulated)return null}return Vi(f,d)}(a,l.parent,d)}function Gh(a,l,d,f,g){xr(a)?a.insertBefore(l,d,f,g):l.insertBefore(d,f,g)}function YC(a,l,d){xr(a)?a.appendChild(l,d):l.appendChild(d)}function QC(a,l,d,f,g){null!==f?Gh(a,l,d,f,g):YC(a,l,d)}function Hy(a,l){return xr(a)?a.parentNode(l):l.parentNode}function JC(a,l,d){return eS(a,l,d)}let eS=function Gx(a,l,d){return 40&a.type?Vi(a,d):null};function Kg(a,l,d,f){const g=qk(a,f,l),v=l[11],S=JC(f.parent||l[6],f,l);if(null!=g)if(Array.isArray(d))for(let P=0;P<d.length;P++)QC(v,g,d[P],S,!1);else QC(v,g,d,S,!1)}function jy(a,l){if(null!==l){const d=l.type;if(3&d)return Vi(l,a);if(4&d)return Gy(-1,a[l.index]);if(8&d){const f=l.child;if(null!==f)return jy(a,f);{const g=a[l.index];return Co(g)?Gy(-1,g):sr(g)}}if(32&d)return Ke(l,a)()||sr(a[l.index]);{const f=nS(a,l);return null!==f?Array.isArray(f)?f[0]:jy(Sn(a[16]),f):jy(a,l.next)}}return null}function nS(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Gy(a,l){const d=10+a+1;if(d<l.length){const f=l[d],g=f[1].firstChild;if(null!==g)return jy(f,g)}return l[7]}function iS(a,l,d,f,g,v,b){for(;null!=d;){const S=f[d.index],P=d.type;if(b&&0===l&&(S&&gs(sr(S),f),d.flags|=4),64!=(64&d.flags))if(8&P)iS(a,l,d.child,f,g,v,!1),Od(l,a,g,S,v);else if(32&P){const N=Ke(d,f);let B;for(;B=N();)Od(l,a,g,B,v);Od(l,a,g,S,v)}else 16&P?Yg(a,l,f,d,g,v):Od(l,a,g,S,v);d=b?d.projectionNext:d.next}}function o_(a,l,d,f,g,v){iS(d,f,a.firstChild,l,g,v,!1)}function Yg(a,l,d,f,g,v){const b=d[16],P=b[6].projection[f.projection];if(Array.isArray(P))for(let N=0;N<P.length;N++)Od(l,a,g,P[N],v);else iS(a,l,P,b[3],g,v,!0)}function qx(a,l,d){xr(a)?a.setAttribute(l,"style",d):l.style.cssText=d}function zx(a,l,d){xr(a)?""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d):l.className=d}function ms(a,l,d){let f=a.length;for(;;){const g=a.indexOf(l,d);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const v=l.length;if(g+v===f||a.charCodeAt(g+v)<=32)return g}d=g+1}}const $y="ng-template";function et(a,l,d){let f=0;for(;f<a.length;){let g=a[f++];if(d&&"class"===g){if(g=a[f],-1!==ms(g.toLowerCase(),l,0))return!0}else if(1===g){for(;f<a.length&&"string"==typeof(g=a[f++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Lo(a){return 4===a.type&&a.value!==$y}function Fc(a,l,d){return l===(4!==a.type||d?a.value:$y)}function Nc(a,l,d){let f=4;const g=a.attrs||[],v=function Zx(a){for(let l=0;l<a.length;l++)if(Qi(a[l]))return l;return a.length}(g);let b=!1;for(let S=0;S<l.length;S++){const P=l[S];if("number"!=typeof P){if(!b)if(4&f){if(f=2|1&f,""!==P&&!Fc(a,P,d)||""===P&&1===l.length){if(Z(f))return!1;b=!0}}else{const N=8&f?P:l[++S];if(8&f&&null!==a.attrs){if(!et(a.attrs,N,d)){if(Z(f))return!1;b=!0}continue}const te=Zk(8&f?"class":P,g,Lo(a),d);if(-1===te){if(Z(f))return!1;b=!0;continue}if(""!==N){let ve;ve=te>v?"":g[te+1].toLowerCase();const Pe=8&f?ve:null;if(Pe&&-1!==ms(Pe,N,0)||2&f&&N!==ve){if(Z(f))return!1;b=!0}}}}else{if(!b&&!Z(f)&&!Z(P))return!1;if(b&&Z(P))continue;b=!1,f=P|1&f}}return Z(f)||b}function Z(a){return 0==(1&a)}function Zk(a,l,d,f){if(null===l)return-1;let g=0;if(f||!d){let v=!1;for(;g<l.length;){const b=l[g];if(b===a)return g;if(3===b||6===b)v=!0;else{if(1===b||2===b){let S=l[++g];for(;"string"==typeof S;)S=l[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=v?1:2}return-1}return function Rn(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const f=a[d];if("number"==typeof f)return-1;if(f===l)return d;d++}return-1}(l,a)}function Pu(a,l,d=!1){for(let f=0;f<l.length;f++)if(Nc(a,l[f],d))return!0;return!1}function Wy(a,l){e:for(let d=0;d<l.length;d++){const f=l[d];if(a.length===f.length){for(let g=0;g<a.length;g++)if(a[g]!==f[g])continue e;return!0}}return!1}function qy(a,l){return a?":not("+l.trim()+")":l}function a_(a){let l=a[0],d=1,f=2,g="",v=!1;for(;d<a.length;){let b=a[d];if("string"==typeof b)if(2&f){const S=a[++d];g+="["+b+(S.length>0?'="'+S+'"':"")+"]"}else 8&f?g+="."+b:4&f&&(g+=" "+b);else""!==g&&!Z(b)&&(l+=qy(v,g),g=""),f=b,v=v||!Z(f);d++}return""!==g&&(l+=qy(v,g)),l}const Un={};function sS(a){oS($n(),ut(),Si()+a,!1)}function oS(a,l,d,f){if(!f)if(3==(3&l[2])){const v=a.preOrderCheckHooks;null!==v&&na(l,v,d)}else{const v=a.preOrderHooks;null!==v&&Ja(l,v,0,d)}Xa(d)}function op(a,l){return a<<17|l<<2}function qr(a){return a>>17&32767}function Yx(a){return 2|a}function Ou(a){return(131068&a)>>2}function zy(a,l){return-131069&a|l<<2}function Zy(a){return 1|a}function nE(a,l){const d=a.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const g=d[f],v=d[f+1];if(-1!==v){const b=a.data[v];wh(g),b.contentQueries(2,l[v],v)}}}function t0(a,l,d,f,g,v,b,S,P,N){const B=l.blueprint.slice();return B[0]=g,B[2]=140|f,Po(B),B[3]=B[15]=a,B[8]=d,B[10]=b||a&&a[10],B[11]=S||a&&a[11],B[12]=P||a&&a[12]||null,B[9]=N||a&&a[9]||null,B[6]=v,B[16]=2==l.type?a[16]:B,B}function $h(a,l,d,f,g){let v=a.data[l];if(null===v)v=function t1(a,l,d,f,g){const v=yc(),b=_d(),P=a.data[l]=function rP(a,l,d,f,g,v){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,d,l,f,g);return null===a.firstChild&&(a.firstChild=P),null!==v&&(b?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P)),P}(a,l,d,f,g),function hu(){return An.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=d,v.value=f,v.attrs=g;const b=function va(){const a=An.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return ks(v,!0),v}function n0(a,l,d,f){if(0===d)return-1;const g=l.length;for(let v=0;v<d;v++)l.push(f),a.blueprint.push(f),a.data.push(null);return g}function lp(a,l,d){wa(l);try{const f=a.viewQuery;null!==f&&d1(1,f,d);const g=a.template;null!==g&&Ns(a,l,g,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&nE(a,l),a.staticViewQueries&&d1(2,a.viewQuery,d);const v=a.components;null!==v&&function wS(a,l){for(let d=0;d<l.length;d++)aE(a,l[d])}(l,v)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[2]&=-5,Hi()}}function Wh(a,l,d,f){const g=l[2];if(256!=(256&g)){wa(l);try{Po(l),function du(a){return An.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&Ns(a,l,d,2,f);const b=3==(3&g);if(b){const N=a.preOrderCheckHooks;null!==N&&na(l,N,null)}else{const N=a.preOrderHooks;null!==N&&Ja(l,N,0,null),oi(l,0)}if(function kS(a){for(let l=Ro(a);null!==l;l=Vh(l)){if(!l[2])continue;const d=l[9];for(let f=0;f<d.length;f++){const g=d[f],v=g[3];0==(1024&g[2])&&Ll(v,1),g[2]|=1024}}}(l),function DS(a){for(let l=Ro(a);null!==l;l=Vh(l))for(let d=10;d<l.length;d++){const f=l[d],g=f[1];fo(f)&&Wh(g,f,g.template,f[8])}}(l),null!==a.contentQueries&&nE(a,l),b){const N=a.contentCheckHooks;null!==N&&na(l,N)}else{const N=a.contentHooks;null!==N&&Ja(l,N,1),oi(l,1)}!function yS(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)Xa(~g);else{const v=g,b=d[++f],S=d[++f];wc(b,v),S(2,l[v])}}}finally{Xa(-1)}}(a,l);const S=a.components;null!==S&&function nP(a,l){for(let d=0;d<l.length;d++)f_(a,l[d])}(l,S);const P=a.viewQuery;if(null!==P&&d1(2,P,f),b){const N=a.viewCheckHooks;null!==N&&na(l,N)}else{const N=a.viewHooks;null!==N&&Ja(l,N,2),oi(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,Ll(l[3],-1))}finally{Hi()}}}function rE(a,l,d,f){const g=l[10],b=Ka(l);try{!b&&g.begin&&g.begin(),b&&lp(a,l,f),Wh(a,l,d,f)}finally{!b&&g.end&&g.end()}}function Ns(a,l,d,f,g){const v=Si(),b=2&f;try{Xa(-1),b&&l.length>20&&oS(a,l,20,!1),d(f,g)}finally{Xa(v)}}function eo(a,l,d){if(ou(l)){const g=l.directiveEnd;for(let v=l.directiveStart;v<g;v++){const b=a.data[v];b.contentQueries&&b.contentQueries(1,d[v],v)}}}function r0(a,l,d){!uu()||(function lP(a,l,d,f){const g=d.directiveStart,v=d.directiveEnd;a.firstCreatePass||Wl(d,l),gs(f,l);const b=d.initialInputs;for(let S=g;S<v;S++){const P=a.data[S],N=Ao(P);N&&IS(l,d,P);const B=nl(l,a,S,d);gs(B,l),null!==b&&h_(0,S-g,B,P,0,b),N&&(Ci(d.index,l)[8]=B)}}(a,l,d,Vi(d,l)),128==(128&d.flags)&&function o0(a,l,d){const f=d.directiveStart,g=d.directiveEnd,b=d.index,S=function wd(){return An.lFrame.currentDirectiveIndex}();try{Xa(b);for(let P=f;P<g;P++){const N=a.data[P],B=l[P];Hl(P),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&SS(N,B)}}finally{Xa(-1),Hl(S)}}(a,l,d))}function u_(a,l,d=Vi){const f=l.localNames;if(null!==f){let g=l.index+1;for(let v=0;v<f.length;v+=2){const b=f[v+1],S=-1===b?d(l,a):a[b];a[g++]=S}}}function xS(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=n1(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function n1(a,l,d,f,g,v,b,S,P,N){const B=20+f,te=B+g,ve=function ES(a,l){const d=[];for(let f=0;f<l;f++)d.push(f<a?null:Un);return d}(B,te),Pe="function"==typeof N?N():N;return ve[1]={type:a,blueprint:ve,template:d,queries:null,viewQuery:S,declTNode:l,data:ve.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:P,consts:Pe,incompleteFirstPass:!1}}function i1(a,l,d,f){const g=l0(l);null===d?g.push(f):(g.push(d),a.firstCreatePass&&uE(a).push(f,g.length-1))}function s1(a,l,d){for(let f in a)if(a.hasOwnProperty(f)){const g=a[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(l,g):d[f]=[l,g]}return d}function Bo(a,l,d,f,g,v,b,S){const P=Vi(l,d);let B,N=l.inputs;!S&&null!=N&&(B=N[f])?(zh(a,d,B,f,g),uh(l)&&function iE(a,l){const d=Ci(l,a);16&d[2]||(d[2]|=64)}(d,l.index)):3&l.type&&(f=function iP(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),g=null!=b?b(g,l.value||"",f):g,xr(v)?v.setProperty(P,f,g):A(f)||(P.setProperty?P.setProperty(f,g):P[f]=g))}function o1(a,l,d,f){let g=!1;if(uu()){const v=function cP(a,l,d){const f=a.directiveRegistry;let g=null;if(f)for(let v=0;v<f.length;v++){const b=f[v];Pu(d,b.selectors,!1)&&(g||(g=[]),Ks(Wl(d,l),a,b.type),Ao(b)?(qh(a,d),g.unshift(b)):g.push(b))}return g}(a,l,d),b=null===f?null:{"":-1};if(null!==v){g=!0,oE(d,a.data.length,v.length);for(let B=0;B<v.length;B++){const te=v[B];te.providersResolver&&te.providersResolver(te)}let S=!1,P=!1,N=n0(a,l,v.length,null);for(let B=0;B<v.length;B++){const te=v[B];d.mergedAttrs=k(d.mergedAttrs,te.hostAttrs),a0(a,d,l,N,te),a1(N,te,b),null!==te.contentQueries&&(d.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(d.flags|=128);const ve=te.type.prototype;!S&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),S=!0),!P&&(ve.ngOnChanges||ve.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),P=!0),N++}!function TS(a,l){const f=l.directiveEnd,g=a.data,v=l.attrs,b=[];let S=null,P=null;for(let N=l.directiveStart;N<f;N++){const B=g[N],te=B.inputs,ve=null===v||Lo(l)?null:c1(te,v);b.push(ve),S=s1(te,N,S),P=s1(B.outputs,N,P)}null!==S&&(S.hasOwnProperty("class")&&(l.flags|=16),S.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=S,l.outputs=P}(a,d)}b&&function AS(a,l,d){if(l){const f=a.localNames=[];for(let g=0;g<l.length;g+=2){const v=d[l[g+1]];if(null==v)throw new Et(-301,!1);f.push(l[g],v)}}}(d,f,b)}return d.mergedAttrs=k(d.mergedAttrs,d.attrs),g}function d_(a,l,d,f,g,v){const b=v.hostBindings;if(b){let S=a.hostBindingOpCodes;null===S&&(S=a.hostBindingOpCodes=[]);const P=~l.index;(function aP(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(S)!=P&&S.push(P),S.push(f,g,b)}}function SS(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function qh(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function a1(a,l,d){if(d){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)d[l.exportAs[f]]=a;Ao(l)&&(d[""]=a)}}function oE(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}function a0(a,l,d,f,g){a.data[f]=g;const v=g.factory||(g.factory=Ki(g.type)),b=new Gl(v,Ao(g),null);a.blueprint[f]=b,d[f]=b,d_(a,l,0,f,n0(a,d,g.hostVars,Un),g)}function IS(a,l,d){const f=Vi(l,a),g=xS(d),v=a[10],b=cp(a,t0(a,g,null,d.onPush?64:16,f,l,v,v.createRenderer(f,d),null,null));a[l.index]=b}function xi(a,l,d,f,g,v){const b=Vi(a,l);!function l1(a,l,d,f,g,v,b){if(null==v)xr(a)?a.removeAttribute(l,g,d):l.removeAttribute(g);else{const S=null==b?qe(v):b(v,f||"",g);xr(a)?a.setAttribute(l,g,S,d):d?l.setAttributeNS(d,g,S):l.setAttribute(g,S)}}(l[11],b,v,a.value,d,f,g)}function h_(a,l,d,f,g,v){const b=v[l];if(null!==b){const S=f.setInput;for(let P=0;P<b.length;){const N=b[P++],B=b[P++],te=b[P++];null!==S?f.setInput(d,te,N,B):d[B]=te}}}function c1(a,l){let d=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===d&&(d=[]),d.push(g,a[g],l[f+1])),f+=2}else f+=2;else f+=4}return d}function u1(a,l,d,f){return new Array(a,!0,!1,l,null,0,f,d,null,null)}function f_(a,l){const d=Ci(l,a);if(fo(d)){const f=d[1];80&d[2]?Wh(f,d,f.template,d[8]):d[5]>0&&p_(d)}}function p_(a){for(let f=Ro(a);null!==f;f=Vh(f))for(let g=10;g<f.length;g++){const v=f[g];if(1024&v[2]){const b=v[1];Wh(b,v,b.template,v[8])}else v[5]>0&&p_(v)}const d=a[1].components;if(null!==d)for(let f=0;f<d.length;f++){const g=Ci(d[f],a);fo(g)&&g[5]>0&&p_(g)}}function aE(a,l){const d=Ci(l,a),f=d[1];(function lE(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(f,d),lp(f,d,d[8])}function cp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function up(a){for(;a;){a[2]|=64;const l=Sn(a);if(ad(a)&&!l)return a;a=l}return null}function m_(a){!function cE(a){for(let l=0;l<a.components.length;l++){const d=a.components[l],f=Qm(d),g=f[1];rE(g,f,g.template,d)}}(a[8])}function d1(a,l,d){wh(0),l(a,d)}const fP=(()=>Promise.resolve(null))();function l0(a){return a[7]||(a[7]=[])}function uE(a){return a.cleanup||(a.cleanup=[])}function c0(a,l){const d=a[9],f=d?d.get(zg,null):null;f&&f.handleError(l)}function zh(a,l,d,f,g){for(let v=0;v<d.length;){const b=d[v++],S=d[v++],P=l[b],N=a.data[b];null!==N.setInput?N.setInput(P,g,f,S):P[S]=g}}function Rc(a,l,d){const f=zs(l,a);!function Zg(a,l,d){xr(a)?a.setValue(l,d):l.textContent=d}(a[11],f,d)}function h1(a,l,d){let f=d?a.styles:null,g=d?a.classes:null,v=0;if(null!==l)for(let b=0;b<l.length;b++){const S=l[b];"number"==typeof S?v=S:1==v?g=Ue(g,S):2==v&&(f=Ue(f,S+": "+l[++b]+";"))}d?a.styles=f:a.stylesWithoutHost=f,d?a.classes=g:a.classesWithoutHost=g}const Nd=new ci("INJECTOR",-1);class hE{get(l,d=Jl){if(d===Jl){const f=new Error(`NullInjectorError: No provider for ${J(l)}!`);throw f.name="NullInjectorError",f}return d}}const fE=new ci("Set Injector scope."),Lc={},Rd={};let d0;function v_(){return void 0===d0&&(d0=new hE),d0}function y_(a,l=null,d=null,f){const g=pE(a,l,d,f);return g._resolveInjectorDefTypes(),g}function pE(a,l=null,d=null,f){return new Ei(a,d,l||v_(),f)}class Ei{constructor(l,d,f,g=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const v=[];d&&Qs(d,S=>this.processProvider(S,l,d)),Qs([l],S=>this.processInjectorType(S,[],v)),this.records.set(Nd,Fu(void 0,this));const b=this.records.get(fE);this.scope=null!=b?b.value:null,this.source=g||("object"==typeof l?null:J(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,d=Jl,f=an.Default){this.assertNotDestroyed();const g=Qe(this),v=tr(void 0);try{if(!(f&an.SkipSelf)){let S=this.records.get(l);if(void 0===S){const P=function Zh(a){return"function"==typeof a||"object"==typeof a&&a instanceof ci}(l)&&Hn(l);S=P&&this.injectableDefInScope(P)?Fu(h0(l),Lc):null,this.records.set(l,S)}if(null!=S)return this.hydrate(l,S)}return(f&an.Self?v_():this.parent).get(l,d=f&an.Optional&&d===Jl?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[Sd]=b[Sd]||[]).unshift(J(l)),g)throw b;return function al(a,l,d,f){const g=a[Sd];throw l[se]&&g.unshift(l[se]),a.message=function Ta(a,l,d,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let g=J(l);if(Array.isArray(l))g=l.map(J).join(" -> ");else if("object"==typeof l){let v=[];for(let b in l)if(l.hasOwnProperty(b)){let S=l[b];v.push(b+":"+("string"==typeof S?JSON.stringify(S):J(S)))}g=`{${v.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${a.replace(F,"\n  ")}`}("\n"+a.message,g,d,f),a.ngTokenPath=g,a[Sd]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{tr(v),Qe(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((f,g)=>l.push(J(g))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Et(205,!1)}processInjectorType(l,d,f){if(!(l=Fe(l)))return!1;let g=Ni(l);const v=null==g&&l.ngModule||void 0,b=void 0===v?l:v,S=-1!==f.indexOf(b);if(void 0!==v&&(g=Ni(v)),null==g)return!1;if(null!=g.imports&&!S){let B;f.push(b);try{Qs(g.imports,te=>{this.processInjectorType(te,d,f)&&(void 0===B&&(B=[]),B.push(te))})}finally{}if(void 0!==B)for(let te=0;te<B.length;te++){const{ngModule:ve,providers:Pe}=B[te];Qs(Pe,tt=>this.processProvider(tt,ve,Pe||fe))}}this.injectorDefTypes.add(b);const P=Ki(b)||(()=>new b);this.records.set(b,Fu(P,Lc));const N=g.providers;if(null!=N&&!S){const B=l;Qs(N,te=>this.processProvider(te,B,N))}return void 0!==v&&void 0!==l.providers}processProvider(l,d,f){let g=p0(l=Fe(l))?l:Fe(l&&l.provide);const v=function gP(a,l,d){return FS(a)?Fu(void 0,a.useValue):Fu(f0(a),Lc)}(l);if(p0(l)||!0!==l.multi)this.records.get(g);else{let b=this.records.get(g);b||(b=Fu(void 0,Lc,!0),b.factory=()=>On(b.multi),this.records.set(g,b)),g=l,b.multi.push(l)}this.records.set(g,v)}hydrate(l,d){return d.value===Lc&&(d.value=Rd,d.value=d.factory()),"object"==typeof d.value&&d.value&&function w_(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=Fe(l.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function h0(a){const l=Hn(a),d=null!==l?l.factory:Ki(a);if(null!==d)return d;if(a instanceof ci)throw new Et(204,!1);if(a instanceof Function)return function pP(a){const l=a.length;if(l>0)throw il(l,"?"),new Et(204,!1);const d=function as(a){const l=a&&(a[Gs]||a[Ss]);if(l){const d=function Wi(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new Et(204,!1)}function f0(a,l,d){let f;if(p0(a)){const g=Fe(a);return Ki(g)||h0(g)}if(FS(a))f=()=>Fe(a.useValue);else if(function mP(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...On(a.deps||[]));else if(function NS(a){return!(!a||!a.useExisting)}(a))f=()=>fn(Fe(a.useExisting));else{const g=Fe(a&&(a.useClass||a.provide));if(!function vP(a){return!!a.deps}(a))return Ki(g)||h0(g);f=()=>new g(...On(a.deps))}return f}function Fu(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function FS(a){return null!==a&&"object"==typeof a&&ke in a}function p0(a){return"function"==typeof a}let Bc=(()=>{class a{static create(d,f){var g;if(Array.isArray(d))return y_({name:""},f,d,"");{const v=null!==(g=d.name)&&void 0!==g?g:"";return y_({name:v},d.parent,d.providers,v)}}}return a.THROW_IF_NOT_FOUND=Jl,a.NULL=new hE,a.\u0275prov=Zn({token:a,providedIn:"any",factory:()=>fn(Nd)}),a.__NG_ELEMENT_ID__=-1,a})();function wP(a,l){bc(Qm(a)[1],Nr())}function wE(a){let l=function WS(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const f=[a];for(;l;){let g;if(Ao(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Et(903,"");g=l.\u0275dir}if(g){if(d){f.push(g);const b=a;b.inputs=v1(a.inputs),b.declaredInputs=v1(a.declaredInputs),b.outputs=v1(a.outputs);const S=g.hostBindings;S&&ZS(a,S);const P=g.viewQuery,N=g.contentQueries;if(P&&zS(a,P),N&&y1(a,N),Y(a.inputs,g.inputs),Y(a.declaredInputs,g.declaredInputs),Y(a.outputs,g.outputs),Ao(g)&&g.data.animation){const B=a.data;B.animation=(B.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let b=0;b<v.length;b++){const S=v[b];S&&S.ngInherit&&S(a),S===wE&&(d=!1)}}l=Object.getPrototypeOf(l)}!function qS(a){let l=0,d=null;for(let f=a.length-1;f>=0;f--){const g=a[f];g.hostVars=l+=g.hostVars,g.hostAttrs=k(g.hostAttrs,d=k(d,g.hostAttrs))}}(f)}function v1(a){return a===Bi?{}:a===fe?[]:a}function zS(a,l){const d=a.viewQuery;a.viewQuery=d?(f,g)=>{l(f,g),d(f,g)}:l}function y1(a,l){const d=a.contentQueries;a.contentQueries=d?(f,g,v)=>{l(f,g,v),d(f,g,v)}:l}function ZS(a,l){const d=a.hostBindings;a.hostBindings=d?(f,g)=>{l(f,g),d(f,g)}:l}let m0=null;function Nu(){if(!m0){const a=In.Symbol;if(a&&a.iterator)m0=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const f=l[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(m0=f)}}}return m0}function hp(a){return!!E_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Nu()in a)}function E_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function dl(a,l,d){return a[l]=d}function yo(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function Uc(a,l,d,f){const g=yo(a,l,d);return yo(a,l+1,f)||g}function C_(a,l,d,f){const g=ut();return yo(g,ya(),l)&&($n(),xi(ei(),g,a,l,d,f)),C_}function fp(a,l,d,f){return yo(a,ya(),d)?l+qe(d)+f:Un}function Bd(a,l,d,f,g,v){const S=Uc(a,function Zs(){return An.lFrame.bindingIndex}(),d,g);return go(2),S?l+qe(d)+f+qe(g)+v:Un}function eA(a,l,d,f,g,v,b,S){const P=ut(),N=$n(),B=a+20,te=N.firstCreatePass?function EP(a,l,d,f,g,v,b,S,P){const N=l.consts,B=$h(l,a,4,b||null,po(N,S));o1(l,d,B,po(N,P)),bc(l,B);const te=B.tViews=n1(2,B,f,g,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,N);return null!==l.queries&&(l.queries.template(l,B),te.queries=l.queries.embeddedTView(B)),B}(B,N,P,l,d,f,g,v,b):N.data[B];ks(te,!1);const ve=P[11].createComment("");Kg(N,P,ve,te),gs(ve,P),cp(P,P[B]=u1(ve,P,ve,te)),So(te)&&r0(N,P,te),null!=b&&u_(P,te,S)}function nA(a){return ko(function yh(){return An.lFrame.contextLView}(),20+a)}function Pi(a,l=an.Default){const d=ut();return null===d?fn(a,l):xu(Nr(),d,Fe(a),l)}function Ep(){throw new Error("invalid")}function AE(a,l,d){const f=ut();return yo(f,ya(),l)&&Bo($n(),ei(),f,a,l,f[11],d,!1),AE}function ns(a,l,d,f,g){const b=g?"class":"style";zh(a,d,l.inputs[b],b,f)}function Vc(a,l,d,f){const g=ut(),v=$n(),b=20+a,S=g[11],P=g[b]=Er(S,l,function Uf(){return An.lFrame.currentNamespace}()),N=v.firstCreatePass?function PP(a,l,d,f,g,v,b){const S=l.consts,N=$h(l,a,2,g,po(S,v));return o1(l,d,N,po(S,b)),null!==N.attrs&&h1(N,N.attrs,!1),null!==N.mergedAttrs&&h1(N,N.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,N),N}(b,v,g,0,l,d,f):v.data[b];ks(N,!0);const B=N.mergedAttrs;null!==B&&Cr(S,P,B);const te=N.classes;null!==te&&zx(S,P,te);const ve=N.styles;return null!==ve&&qx(S,P,ve),64!=(64&N.flags)&&Kg(v,g,P,N),0===function Bl(){return An.lFrame.elementDepthCount}()&&gs(P,g),function gd(){An.lFrame.elementDepthCount++}(),So(N)&&(r0(v,g,N),eo(v,N,g)),null!==f&&u_(g,N),Vc}function ui(){let a=Nr();_d()?vd():(a=a.parent,ks(a,!1));const l=a;!function Ya(){An.lFrame.elementDepthCount--}();const d=$n();return d.firstCreatePass&&(bc(d,a),ou(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Tg(a){return 0!=(16&a.flags)}(l)&&ns(d,l,ut(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Tr(a){return 0!=(32&a.flags)}(l)&&ns(d,l,ut(),l.stylesWithoutHost,!1),ui}function Hd(a,l,d,f){return Vc(a,l,d,f),ui(),Hd}function Yh(a,l,d){const f=ut(),g=$n(),v=a+20,b=g.firstCreatePass?function cA(a,l,d,f,g){const v=l.consts,b=po(v,f),S=$h(l,a,8,"ng-container",b);return null!==b&&h1(S,b,!0),o1(l,d,S,po(v,g)),null!==l.queries&&l.queries.elementStart(l,S),S}(v,g,f,l,d):g.data[v];ks(b,!0);const S=f[v]=f[11].createComment("");return Kg(g,f,S,b),gs(S,f),So(b)&&(r0(g,f,b),eo(g,b,f)),null!=d&&u_(f,b),Yh}function E1(){let a=Nr();const l=$n();return _d()?vd():(a=a.parent,ks(a,!1)),l.firstCreatePass&&(bc(l,a),ou(a)&&l.queries.elementEnd(a)),E1}function Hc(a,l,d){return Yh(a,l,d),E1(),Hc}function w0(){return ut()}function bp(a){return!!a&&"function"==typeof a.then}function IE(a){return!!a&&"function"==typeof a.subscribe}const Zt=IE;function Ru(a,l,d,f){const g=ut(),v=$n(),b=Nr();return function jc(a,l,d,f,g,v,b,S){const P=So(f),B=a.firstCreatePass&&uE(a),te=l[8],ve=l0(l);let Pe=!0;if(3&f.type||S){const Ht=Vi(f,l),hn=S?S(Ht):Ht,mt=ve.length,Qt=S?ar=>S(sr(ar[f.index])):f.index;if(xr(d)){let ar=null;if(!S&&P&&(ar=function Tp(a,l,d,f){const g=a.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const b=g[v];if(b===d&&g[v+1]===f){const S=l[7],P=g[v+2];return S.length>P?S[P]:null}"string"==typeof b&&(v+=2)}return null}(a,l,g,f.index)),null!==ar)(ar.__ngLastListenerFn__||ar).__ngNextListenerFn__=v,ar.__ngLastListenerFn__=v,Pe=!1;else{v=Lu(f,l,te,v,!1);const Rr=d.listen(hn,g,v);ve.push(v,Rr),B&&B.push(g,Qt,mt,mt+1)}}else v=Lu(f,l,te,v,!0),hn.addEventListener(g,v,b),ve.push(v),B&&B.push(g,Qt,mt,b)}else v=Lu(f,l,te,v,!1);const tt=f.outputs;let St;if(Pe&&null!==tt&&(St=tt[g])){const Ht=St.length;if(Ht)for(let hn=0;hn<Ht;hn+=2){const Ar=l[St[hn]][St[hn+1]].subscribe(v),df=ve.length;ve.push(v,Ar),B&&B.push(g,f.index,df,-(df+1))}}}(v,g,g[11],b,a,l,!!d,f),Ru}function x0(a,l,d,f){try{return!1!==d(f)}catch(g){return c0(a,g),!1}}function Lu(a,l,d,f,g){return function v(b){if(b===Function)return f;const S=2&a.flags?Ci(a.index,l):l;0==(32&l[2])&&up(S);let P=x0(l,0,f,b),N=v.__ngNextListenerFn__;for(;N;)P=x0(l,0,N,b)&&P,N=N.__ngNextListenerFn__;return g&&!1===P&&(b.preventDefault(),b.returnValue=!1),P}}function DE(a=1){return function Bf(a){return(An.lFrame.contextLView=function xd(a,l){for(;a>0;)l=l[15],a--;return l}(a,An.lFrame.contextLView))[8]}(a)}function E0(a,l){let d=null;const f=function dn(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(0==(1&d))return l[d+1]}return null}(a);for(let g=0;g<l.length;g++){const v=l[g];if("*"!==v){if(null===f?Pu(a,v,!0):Wy(f,v))return g}else d=g}return d}function b1(a){const l=ut()[16][6];if(!l.projection){const f=l.projection=il(a?a.length:1,null),g=f.slice();let v=l.child;for(;null!==v;){const b=a?E0(v,a):0;null!==b&&(g[b]?g[b].projectionNext=v:f[b]=v,g[b]=v),v=v.next}}}function Qh(a,l=0,d){const f=ut(),g=$n(),v=$h(g,20+a,16,null,d||null);null===v.projection&&(v.projection=l),vd(),64!=(64&v.flags)&&function sp(a,l,d){Yg(l[11],0,l,d,qk(a,d,l),JC(d.parent||l[6],d,l))}(g,f,v)}function P_(a,l,d){return Cp(a,"",l,"",d),P_}function Cp(a,l,d,f,g){const v=ut(),b=fp(v,l,d,f);return b!==Un&&Bo($n(),ei(),v,a,b,v[11],g,!1),Cp}function ni(a,l,d,f,g){const v=a[d+1],b=null===l;let S=f?qr(v):Ou(v),P=!1;for(;0!==S&&(!1===P||b);){const B=a[S+1];T1(a[S],l)&&(P=!0,a[S+1]=f?Zy(B):Yx(B)),S=f?qr(B):Ou(B)}P&&(a[d+1]=f?Yx(v):Zy(v))}function T1(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Au(a,l)>=0}const rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xh(a){return a.substring(rs.key,rs.keyEnd)}function FE(a,l){const d=rs.textEnd;return d===l?-1:(l=rs.keyEnd=function S1(a,l,d){for(;l<d&&a.charCodeAt(l)>32;)l++;return l}(a,rs.key=l,d),ri(a,l,d))}function ri(a,l,d){for(;l<d&&a.charCodeAt(l)<=32;)l++;return l}function A1(a,l,d){return sc(a,l,d,!1),A1}function jd(a,l){return sc(a,l,null,!0),jd}function N_(a){!function oc(a,l,d,f){const g=$n(),v=go(2);g.firstUpdatePass&&pA(g,null,v,f);const b=ut();if(d!==Un&&yo(b,v,d)){const S=g.data[Si()];if(BE(S,f)&&!no(g,v)){let P=f?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(d=Ue(P,d||"")),ns(g,S,b,d,f)}else!function T0(a,l,d,f,g,v,b,S){g===Un&&(g=fe);let P=0,N=0,B=0<g.length?g[0]:null,te=0<v.length?v[0]:null;for(;null!==B||null!==te;){const ve=P<g.length?g[P+1]:void 0,Pe=N<v.length?v[N+1]:void 0;let St,tt=null;B===te?(P+=2,N+=2,ve!==Pe&&(tt=te,St=Pe)):null===te||null!==B&&B<te?(P+=2,tt=B):(N+=2,tt=te,St=Pe),null!==tt&&mA(a,l,d,f,tt,St,b,S),B=P<g.length?g[P]:null,te=N<v.length?v[N]:null}}(g,S,b,b[11],b[v+1],b[v+1]=function LP(a,l,d){if(null==d||""===d)return fe;const f=[],g=Fo(d);if(Array.isArray(g))for(let v=0;v<g.length;v++)a(f,g[v],!0);else if("object"==typeof g)for(const v in g)g.hasOwnProperty(v)&&a(f,v,g[v]);else"string"==typeof g&&l(f,g);return f}(a,l,d),f,v)}}(Ms,pl,a,!0)}function pl(a,l){for(let d=function M_(a){return function NE(a){rs.key=0,rs.keyEnd=0,rs.value=0,rs.valueEnd=0,rs.textEnd=a.length}(a),FE(a,ri(a,0,rs.textEnd))}(l);d>=0;d=FE(l,d))Ms(a,Xh(l),!0)}function sc(a,l,d,f){const g=ut(),v=$n(),b=go(2);v.firstUpdatePass&&pA(v,a,b,f),l!==Un&&yo(g,b,l)&&mA(v,v.data[Si()],g,g[11],a,g[b+1]=function $d(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=J(Fo(a)))),a}(l,d),f,b)}function no(a,l){return l>=a.expandoStartIndex}function pA(a,l,d,f){const g=a.data;if(null===g[d+1]){const v=g[Si()],b=no(a,d);BE(v,f)&&null===l&&!b&&(l=!1),l=function FP(a,l,d,f){const g=fu(a);let v=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(d=R_(d=RE(null,a,l,d,f),l.attrs,f),v=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==g)if(d=RE(g,a,l,d,f),null===v){let P=function NP(a,l,d){const f=d?l.classBindings:l.styleBindings;if(0!==Ou(f))return a[qr(f)]}(a,l,f);void 0!==P&&Array.isArray(P)&&(P=RE(null,a,l,P[1],f),P=R_(P,l.attrs,f),function gA(a,l,d,f){a[qr(d?l.classBindings:l.styleBindings)]=f}(a,l,f,P))}else v=function RP(a,l,d){let f;const g=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<g;v++)f=R_(f,a[v].hostAttrs,d);return R_(f,l.attrs,d)}(a,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),d}(g,v,l,f),function Uo(a,l,d,f,g,v){let b=v?l.classBindings:l.styleBindings,S=qr(b),P=Ou(b);a[f]=d;let B,N=!1;if(Array.isArray(d)){const te=d;B=te[1],(null===B||Au(te,B)>0)&&(N=!0)}else B=d;if(g)if(0!==P){const ve=qr(a[S+1]);a[f+1]=op(ve,S),0!==ve&&(a[ve+1]=zy(a[ve+1],f)),a[S+1]=function Yk(a,l){return 131071&a|l<<17}(a[S+1],f)}else a[f+1]=op(S,0),0!==S&&(a[S+1]=zy(a[S+1],f)),S=f;else a[f+1]=op(P,0),0===S?S=f:a[P+1]=zy(a[P+1],f),P=f;N&&(a[f+1]=Yx(a[f+1])),ni(a,B,f,!0),ni(a,B,f,!1),function hA(a,l,d,f,g){const v=g?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&Au(v,l)>=0&&(d[f+1]=Zy(d[f+1]))}(l,B,a,f,v),b=op(S,P),v?l.classBindings=b:l.styleBindings=b}(g,v,l,d,b,f)}}function RE(a,l,d,f,g){let v=null;const b=d.directiveEnd;let S=d.directiveStylingLast;for(-1===S?S=d.directiveStart:S++;S<b&&(v=l[S],f=R_(f,v.hostAttrs,g),v!==a);)S++;return null!==a&&(d.directiveStylingLast=S),f}function R_(a,l,d){const f=d?1:2;let g=-1;if(null!==l)for(let v=0;v<l.length;v++){const b=l[v];"number"==typeof b?g=b:g===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ms(a,b,!!d||l[++v]))}return void 0===a?null:a}function mA(a,l,d,f,g,v,b,S){if(!(3&l.type))return;const P=a.data,N=P[S+1];L_(function aS(a){return 1==(1&a)}(N)?LE(P,l,d,g,Ou(N),b):void 0)||(L_(v)||function Fd(a){return 2==(2&a)}(N)&&(v=LE(P,null,d,g,S,b)),function Wx(a,l,d,f,g){const v=xr(a);if(l)g?v?a.addClass(d,f):d.classList.add(f):v?a.removeClass(d,f):d.classList.remove(f);else{let b=-1===f.indexOf("-")?void 0:W.DashCase;if(null==g)v?a.removeStyle(d,f,b):d.style.removeProperty(f);else{const S="string"==typeof g&&g.endsWith("!important");S&&(g=g.slice(0,-10),b|=W.Important),v?a.setStyle(d,f,g,b):d.style.setProperty(f,g,S?"important":"")}}}(f,b,zs(Si(),d),g,v))}function LE(a,l,d,f,g,v){const b=null===l;let S;for(;g>0;){const P=a[g],N=Array.isArray(P),B=N?P[1]:P,te=null===B;let ve=d[g+1];ve===Un&&(ve=te?fe:void 0);let Pe=te?Cd(ve,f):B===f?ve:void 0;if(N&&!L_(Pe)&&(Pe=Cd(P,f)),L_(Pe)&&(S=Pe,b))return S;const tt=a[g+1];g=b?qr(tt):Ou(tt)}if(null!==l){let P=v?l.residualClasses:l.residualStyles;null!=P&&(S=Cd(P,f))}return S}function L_(a){return void 0!==a}function BE(a,l){return 0!=(a.flags&(l?16:32))}function Ap(a,l=""){const d=ut(),f=$n(),g=a+20,v=f.firstCreatePass?$h(f,g,1,l,null):f.data[g],b=d[g]=function ip(a,l){return xr(a)?a.createText(l):a.createTextNode(l)}(d[11],l);Kg(f,d,b,v),ks(v,!1)}function UE(a){return C0("",a,""),UE}function C0(a,l,d){const f=ut(),g=fp(f,a,l,d);return g!==Un&&Rc(f,Si(),g),C0}function B_(a,l,d,f,g){const v=ut(),b=Bd(v,a,l,d,f,g);return b!==Un&&Rc(v,Si(),b),B_}function O1(a,l,d){const f=ut();if(yo(f,ya(),l)){const v=$n(),b=ei();Bo(v,b,f,a,l,function __(a,l,d){return(null===a||Ao(a))&&(d=function vc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(d[l.index])),d[11]}(fu(v.data),b,f),d,!0)}return O1}const Jh=void 0;var Pp=["en",[["a","p"],["AM","PM"],Jh],[["AM","PM"],Jh,Jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jh,"{1} 'at' {0}",Jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H_(a){const d=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Op={};function M1(a){const l=function PA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=kA(l);if(d)return d;const f=l.split("-")[0];if(d=kA(f),d)return d;if("en"===f)return Pp;throw new Error(`Missing locale data for the locale "${a}".`)}function N1(a){return M1(a)[Rt.PluralCase]}function kA(a){return a in Op||(Op[a]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[a]),Op[a]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const R1="en-US";let MA=R1;function Wd(a,l,d,f,g){if(a=Fe(a),Array.isArray(a))for(let v=0;v<a.length;v++)Wd(a[v],l,d,f,g);else{const v=$n(),b=ut();let S=p0(a)?a:Fe(a.provide),P=f0(a);const N=Nr(),B=1048575&N.providerIndexes,te=N.directiveStart,ve=N.providerIndexes>>20;if(p0(a)||!a.multi){const Pe=new Gl(P,g,Pi),tt=$1(S,l,g?B:B+ve,te);-1===tt?(Ks(Wl(N,b),v,S),j1(v,a,l.length),l.push(S),N.directiveStart++,N.directiveEnd++,g&&(N.providerIndexes+=1048576),d.push(Pe),b.push(Pe)):(d[tt]=Pe,b[tt]=Pe)}else{const Pe=$1(S,l,B+ve,te),tt=$1(S,l,B,B+ve),St=Pe>=0&&d[Pe],Ht=tt>=0&&d[tt];if(g&&!Ht||!g&&!St){Ks(Wl(N,b),v,S);const hn=function JE(a,l,d,f,g){const v=new Gl(a,d,Pi);return v.multi=[],v.index=l,v.componentProviders=0,G1(v,g,f&&!d),v}(g?XE:ro,d.length,g,f,P);!g&&Ht&&(d[tt].providerFactory=hn),j1(v,a,l.length,0),l.push(S),N.directiveStart++,N.directiveEnd++,g&&(N.providerIndexes+=1048576),d.push(hn),b.push(hn)}else j1(v,a,Pe>-1?Pe:tt,G1(d[g?tt:Pe],P,!g&&f));!g&&f&&Ht&&d[tt].componentProviders++}}}function j1(a,l,d,f){const g=p0(l),v=function _P(a){return!!a.useClass}(l);if(g||v){const P=(v?Fe(l.useClass):l).prototype.ngOnDestroy;if(P){const N=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const B=N.indexOf(d);-1===B?N.push(d,[f,P]):N[B+1].push(f,P)}else N.push(d,P)}}}function G1(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function $1(a,l,d,f){for(let g=d;g<f;g++)if(l[g]===a)return g;return-1}function ro(a,l,d,f){return Y_(this.multi,[])}function XE(a,l,d,f){const g=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,S=nl(d,d[1],this.providerFactory.index,f);v=S.slice(0,b),Y_(g,v);for(let P=b;P<S.length;P++)v.push(S[P])}else v=[],Y_(g,v);return v}function Y_(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function qd(a,l=[]){return d=>{d.providersResolver=(f,g)=>function aO(a,l,d){const f=$n();if(f.firstCreatePass){const g=Ao(a);Wd(d,f.data,f.blueprint,g,!0),Wd(l,f.data,f.blueprint,g,!1)}}(f,g?g(a):a,l)}}class sI{}class Np{resolveComponentFactory(l){throw function oI(a){const l=Error(`No component factory found for ${J(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let zd=(()=>{class a{}return a.NULL=new Np,a})();function X_(){return Rp(Nr(),ut())}function Rp(a,l){return new Lp(Vi(a,l))}let Lp=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=X_,a})();function eb(a){return a instanceof Lp?a.nativeElement:a}class aI{}let lI=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function tb(){const a=ut(),d=Ci(Nr().index,a);return function cI(a){return a[11]}(Ds(d)?d:a)}(),a})(),J_=(()=>{class a{}return a.\u0275prov=Zn({token:a,providedIn:"root",factory:()=>null}),a})();class tf{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const uI=new tf("13.3.9"),W1={};function q1(a,l,d,f,g=!1){for(;null!==d;){const v=l[d.index];if(null!==v&&f.push(sr(v)),Co(v))for(let S=10;S<v.length;S++){const P=v[S],N=P[1].firstChild;null!==N&&q1(P[1],P,N,f)}const b=d.type;if(8&b)q1(a,l,d.child,f);else if(32&b){const S=Ke(d,l);let P;for(;P=S();)f.push(P)}else if(16&b){const S=nS(l,d);if(Array.isArray(S))f.push(...S);else{const P=Sn(l[16]);q1(P[1],P,S,f,!0)}}d=g?d.projectionNext:d.next}return f}class ev{constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,d=l[1];return q1(d,l,d.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Co(l)){const d=l[8],f=d?d.indexOf(this):-1;f>-1&&(Uy(l,f),Tu(d,f))}this._attachedToViewContainer=!1}ZC(this._lView[1],this._lView)}onDestroy(l){i1(this._lView[1],this._lView,null,l)}markForCheck(){up(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function g_(a,l,d){const f=l[10];f.begin&&f.begin();try{Wh(a,l,a.template,d)}catch(g){throw c0(l,g),g}finally{f.end&&f.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Et(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Md(a,l){o_(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Et(902,"");this._appRef=l}}class cO extends ev{constructor(l){super(l),this._view=l}detectChanges(){m_(this._view)}checkNoChanges(){}get context(){return null}}class U0 extends zd{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=gi(l);return new nb(d,this.ngModule)}}function nf(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class nb extends sI{constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function Kk(a){return a.map(a_).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return nf(this.componentDef.inputs)}get outputs(){return nf(this.componentDef.outputs)}create(l,d,f,g){const v=(g=g||this.ngModule)?function dI(a,l){return{get:(d,f,g)=>{const v=a.get(d,W1,g);return v!==W1||f===W1?v:l.get(d,f,g)}}}(l,g.injector):l,b=v.get(aI,Za),S=v.get(J_,null),P=b.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",B=f?function r1(a,l,d){if(xr(a))return a.selectRootElement(l,d===Bn.ShadowDom);let f="string"==typeof l?a.querySelector(l):l;return f.textContent="",f}(P,f,this.componentDef.encapsulation):Er(b.createRenderer(null,this.componentDef),N,function Bp(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(N)),te=this.componentDef.onPush?576:528,ve=function yE(a,l){return{components:[],scheduler:a||n_,clean:fP,playerHandler:l||null,flags:0}}(),Pe=n1(0,null,null,1,0,null,null,null,null,null),tt=t0(null,Pe,ve,te,null,null,b,P,S,v);let St,Ht;wa(tt);try{const hn=function $S(a,l,d,f,g,v){const b=d[1];d[20]=a;const P=$h(b,20,2,"#host",null),N=P.mergedAttrs=l.hostAttrs;null!==N&&(h1(P,N,!0),null!==a&&(Cr(g,a,N),null!==P.classes&&zx(g,a,P.classes),null!==P.styles&&qx(g,a,P.styles)));const B=f.createRenderer(a,l),te=t0(d,xS(l),null,l.onPush?64:16,d[20],P,f,B,v||null,null);return b.firstCreatePass&&(Ks(Wl(P,d),b,l.type),qh(b,P),oE(P,d.length,1)),cp(d,te),d[20]=te}(B,this.componentDef,tt,b,P);if(B)if(f)Cr(P,B,["ng-version",uI.full]);else{const{attrs:mt,classes:Qt}=function Kx(a){const l=[],d=[];let f=1,g=2;for(;f<a.length;){let v=a[f];if("string"==typeof v)2===g?""!==v&&l.push(v,a[++f]):8===g&&d.push(v);else{if(!Z(g))break;g=v}f++}return{attrs:l,classes:d}}(this.componentDef.selectors[0]);mt&&Cr(P,B,mt),Qt&&Qt.length>0&&zx(P,B,Qt.join(" "))}if(Ht=Lr(Pe,20),void 0!==d){const mt=Ht.projection=[];for(let Qt=0;Qt<this.ngContentSelectors.length;Qt++){const ar=d[Qt];mt.push(null!=ar?Array.from(ar):null)}}St=function es(a,l,d,f,g){const v=d[1],b=function CS(a,l,d){const f=Nr();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),a0(a,f,l,n0(a,l,1,null),d));const g=nl(l,a,f.directiveStart,f);gs(g,l);const v=Vi(f,l);return v&&gs(v,l),g}(v,d,l);if(f.components.push(b),a[8]=b,g&&g.forEach(P=>P(b,l)),l.contentQueries){const P=Nr();l.contentQueries(1,b,P.directiveStart)}const S=Nr();return!v.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Xa(S.index),d_(d[1],S,0,S.directiveStart,S.directiveEnd,l),SS(l,b)),b}(hn,this.componentDef,tt,ve,[wP]),lp(Pe,tt,null)}finally{Hi()}return new z1(this.componentType,St,Rp(Ht,tt),tt,Ht)}}class z1 extends class iI{}{constructor(l,d,f,g,v){super(),this.location=f,this._rootLView=g,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new cO(g),this.componentType=l}get injector(){return new Kl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Up{}class V0{}const Zd=new Map;class sb extends Up{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U0(this);const f=_i(l);this._bootstrapComponents=x(f.bootstrap),this._r3Injector=pE(l,d,[{provide:Up,useValue:this},{provide:zd,useValue:this.componentFactoryResolver}],J(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,d=Bc.THROW_IF_NOT_FOUND,f=an.Default){return l===Bc||l===Up||l===Nd?this:this._r3Injector.get(l,d,f)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Vu extends V0{constructor(l){super(),this.moduleType=l,null!==_i(l)&&function Ia(a){const l=new Set;!function d(f){const g=_i(f,!0),v=g.id;null!==v&&(function ib(a,l,d){if(l&&l!==d)throw new Error(`Duplicate module registered for ${a} - ${J(l)} vs ${J(l.name)}`)}(v,Zd.get(v),f),Zd.set(v,f));const b=x(g.imports);for(const S of b)l.has(S)||(l.add(S),d(S))}(a)}(l)}create(l){return new sb(this.moduleType,l)}}function ob(a,l,d,f){return _I(ut(),Yi(),a,l,d,f)}function rf(a,l,d,f,g){return vI(ut(),Yi(),a,l,d,f,g)}function pI(a,l,d,f,g,v){return function yI(a,l,d,f,g,v,b,S){const P=l+d;return function T_(a,l,d,f,g){const v=Uc(a,l,d,f);return yo(a,l+2,g)||v}(a,P,g,v,b)?dl(a,P+3,S?f.call(S,g,v,b):f(g,v,b)):nv(a,P+3)}(ut(),Yi(),a,l,d,f,g,v)}function Vp(a,l,d,f,g,v,b){return function rv(a,l,d,f,g,v,b,S,P){const N=l+d;return function hl(a,l,d,f,g,v){const b=Uc(a,l,d,f);return Uc(a,l+2,g,v)||b}(a,N,g,v,b,S)?dl(a,N+4,P?f.call(P,g,v,b,S):f(g,v,b,S)):nv(a,N+4)}(ut(),Yi(),a,l,d,f,g,v,b)}function nv(a,l){const d=a[l];return d===Un?void 0:d}function _I(a,l,d,f,g,v){const b=l+d;return yo(a,b,g)?dl(a,b+1,v?f.call(v,g):f(g)):nv(a,b+1)}function vI(a,l,d,f,g,v,b){const S=l+d;return Uc(a,S,g,v)?dl(a,S+2,b?f.call(b,g,v):f(g,v)):nv(a,S+2)}function wI(a,l){const d=$n();let f;const g=a+20;d.firstCreatePass?(f=function fO(a,l){if(l)for(let d=l.length-1;d>=0;d--){const f=l[d];if(a===f.name)return f}}(l,d.pipeRegistry),d.data[g]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(g,f.onDestroy)):f=d.data[g];const v=f.factory||(f.factory=Ki(f.type)),b=tr(Pi);try{const S=Yt(!1),P=v();return Yt(S),function tA(a,l,d,f){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=f}(d,ut(),g,P),P}finally{tr(b)}}function cb(a,l,d){const f=a+20,g=ut(),v=ko(g,f);return sv(g,f)?_I(g,Yi(),l,v.transform,d,v):v.transform(d)}function af(a,l,d,f){const g=a+20,v=ut(),b=ko(v,g);return sv(v,g)?vI(v,Yi(),l,b.transform,d,f,b):b.transform(d,f)}function sv(a,l){return a[1].data[l].pure}function ov(a){return l=>{setTimeout(a,void 0,l)}}const lc=class bI extends c.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,f){var g,v,b;let S=l,P=d||(()=>null),N=f;if(l&&"object"==typeof l){const te=l;S=null===(g=te.next)||void 0===g?void 0:g.bind(te),P=null===(v=te.error)||void 0===v?void 0:v.bind(te),N=null===(b=te.complete)||void 0===b?void 0:b.bind(te)}this.__isAsync&&(P=ov(P),S&&(S=ov(S)),N&&(N=ov(N)));const B=super.subscribe({next:S,error:P,complete:N});return l instanceof ye.w0&&l.add(B),B}};function av(){return this._results[Nu()]()}class j0{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Nu(),f=j0.prototype;f[d]||(f[d]=av)}get changes(){return this._changes||(this._changes=new lc)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const f=this;f.dirty=!1;const g=Os(l);(this._changesDetected=!function Rm(a,l,d){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let g=a[f],v=l[f];if(d&&(g=d(g),v=d(v)),v!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let jp=(()=>{class a{}return a.__NG_ELEMENT_ID__=TI,a})();const pO=jp,ub=class extends pO{constructor(l,d,f){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(l){const d=this._declarationTContainer.tViews,f=t0(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),lp(d,f,l),new ev(f)}};function TI(){return Z1(Nr(),ut())}function Z1(a,l){return 4&a.type?new ub(l,a,Rp(a,l)):null}let lv=(()=>{class a{}return a.__NG_ELEMENT_ID__=CI,a})();function CI(){return pb(Nr(),ut())}const db=lv,SI=class extends db{constructor(l,d,f){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=f}get element(){return Rp(this._hostTNode,this._hostLView)}get injector(){return new Kl(this._hostTNode,this._hostLView)}get parentInjector(){const l=fs(this._hostTNode,this._hostLView);if(le(l)){const d=fr(l,this._hostLView),f=at(l);return new Kl(d[1].data[f+8],d)}return new Kl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=hb(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,f){const g=l.createEmbeddedView(d||{});return this.insert(g,f),g}createComponent(l,d,f,g,v){const b=l&&!function Ah(a){return"function"==typeof a}(l);let S;if(b)S=d;else{const te=d||{};S=te.index,f=te.injector,g=te.projectableNodes,v=te.ngModuleRef}const P=b?l:new nb(gi(l)),N=f||this.parentInjector;if(!v&&null==P.ngModule){const ve=(b?N:this.parentInjector).get(Up,null);ve&&(v=ve)}const B=P.create(N,g,void 0,v);return this.insert(B.hostView,S),B}insert(l,d){const f=l._lView,g=f[1];if(function Rl(a){return Co(a[3])}(f)){const B=this.indexOf(l);if(-1!==B)this.detach(B);else{const te=f[3],ve=new SI(te,te[6],te[3]);ve.detach(ve.indexOf(l))}}const v=this._adjustIndex(d),b=this._lContainer;!function Hh(a,l,d,f){const g=10+f,v=d.length;f>0&&(d[g-1][4]=l),f<v-10?(l[4]=d[g],Td(d,10+f,l)):(d.push(l),l[4]=null),l[3]=d;const b=l[17];null!==b&&d!==b&&function Hx(a,l){const d=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===d?a[9]=[l]:d.push(l)}(b,l);const S=l[19];null!==S&&S.insertView(a),l[2]|=128}(g,f,b,v);const S=Gy(v,b),P=f[11],N=Hy(P,b[7]);return null!==N&&function s_(a,l,d,f,g,v){f[0]=g,f[6]=l,o_(a,f,d,1,g,v)}(g,b[6],P,f,N,S),l.attachToViewContainerRef(),Td(fb(b),v,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=hb(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),f=Uy(this._lContainer,d);f&&(Tu(fb(this._lContainer),d),ZC(f[1],f))}detach(l){const d=this._adjustIndex(l,-1),f=Uy(this._lContainer,d);return f&&null!=Tu(fb(this._lContainer),d)?new ev(f):null}_adjustIndex(l,d=0){return null==l?this.length+d:l}};function hb(a){return a[8]}function fb(a){return a[8]||(a[8]=[])}function pb(a,l){let d;const f=l[a.index];if(Co(f))d=f;else{let g;if(8&a.type)g=sr(f);else{const v=l[11];g=v.createComment("");const b=Vi(a,l);Gh(v,Hy(v,b),g,function zk(a,l){return xr(a)?a.nextSibling(l):l.nextSibling}(v,b),!1)}l[a.index]=d=u1(f,l,g,a),cp(l,d)}return new SI(d,a,l)}class uv{constructor(l){this.queryList=l,this.matches=null}clone(){return new uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const f=null!==l.contentQueries?l.contentQueries[0]:d.length,g=[];for(let v=0;v<f;v++){const b=d.getByIndex(v);g.push(this.queries[b.indexInDeclarationView].clone())}return new $0(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==X1(l,d).matches&&this.queries[d].setDirty()}}class gb{constructor(l,d,f=null){this.predicate=l,this.flags=d,this.read=f}}class K1{constructor(l=[]){this.queries=l}elementStart(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,v=this.getByIndex(f).embeddedTView(l,g);v&&(v.indexInDeclarationView=f,null!==d?d.push(v):d=[v])}return null!==d?new K1(d):null}template(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Y1{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new Y1(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const v=f[g];this.matchTNodeWithReadOption(l,d,mO(d,v)),this.matchTNodeWithReadOption(l,d,Ed(d,l,v,!1,!1))}else f===jp?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,Ed(d,l,f,!1,!1))}matchTNodeWithReadOption(l,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Lp||g===lv||g===jp&&4&d.type)this.addMatch(d.index,-2);else{const v=Ed(d,l,g,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,f)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function mO(a,l){const d=a.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===l)return d[f+1];return null}function _O(a,l,d,f){return-1===d?function mb(a,l){return 11&a.type?Rp(a,l):4&a.type?Z1(a,l):null}(l,a):-2===d?function _b(a,l,d){return d===Lp?Rp(l,a):d===jp?Z1(l,a):d===lv?pb(l,a):void 0}(a,l,f):nl(a,a[1],d,l)}function AI(a,l,d,f){const g=l[19].queries[f];if(null===g.matches){const v=a.data,b=d.matches,S=[];for(let P=0;P<b.length;P+=2){const N=b[P];S.push(N<0?null:_O(l,v[N],b[P+1],d.metadata.read))}g.matches=S}return g.matches}function vb(a,l,d,f){const g=a.queries.getByIndex(d),v=g.matches;if(null!==v){const b=AI(a,l,g,d);for(let S=0;S<v.length;S+=2){const P=v[S];if(P>0)f.push(b[S/2]);else{const N=v[S+1],B=l[-P];for(let te=10;te<B.length;te++){const ve=B[te];ve[17]===ve[3]&&vb(ve[1],ve,N,f)}if(null!==B[9]){const te=B[9];for(let ve=0;ve<te.length;ve++){const Pe=te[ve];vb(Pe[1],Pe,N,f)}}}}}return f}function Q1(a){const l=ut(),d=$n(),f=xc();wh(f+1);const g=X1(d,f);if(a.dirty&&Ka(l)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const v=g.crossesNgTemplate?vb(d,l,f,[]):AI(d,l,g,f);a.reset(v,eb),a.notifyOnChanges()}return!0}return!1}function Ls(a,l,d){const f=$n();f.firstCreatePass&&(PI(f,new gb(a,l,d),-1),2==(2&l)&&(f.staticViewQueries=!0)),kI(f,ut(),l)}function II(a,l,d,f){const g=$n();if(g.firstCreatePass){const v=Nr();PI(g,new gb(l,d,f),v.index),function yO(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(g,a),2==(2&d)&&(g.staticContentQueries=!0)}kI(g,ut(),d)}function DI(){return function vO(a,l){return a[19].queries[l].queryList}(ut(),xc())}function kI(a,l,d){const f=new j0(4==(4&d));i1(a,l,f,f.destroy),null===l[19]&&(l[19]=new $0),l[19].queries.push(new uv(f))}function PI(a,l,d){null===a.queries&&(a.queries=new K1),a.queries.track(new Y1(l,d))}function X1(a,l){return a.queries.getByIndex(l)}function yb(a,l){return Z1(a,l)}function q0(...a){}const lw=new ci("Application Initializer");let Ib=(()=>{class a{constructor(d){this.appInits=d,this.resolve=q0,this.reject=q0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const v=this.appInits[g]();if(bp(v))d.push(v);else if(Zt(v)){const b=new Promise((S,P)=>{v.subscribe({complete:S,error:P})});d.push(b)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(fn(lw,8))},a.\u0275prov=Zn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const cw=new ci("AppId",{providedIn:"root",factory:function Db(){return`${gv()}${gv()}${gv()}`}});function gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uw=new ci("Platform Initializer"),z0=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kd=new ci("appBootstrapListener");let Z0=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Zn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const dw=new ci("LocaleId",{providedIn:"root",factory:()=>or(dw,an.Optional|an.SkipSelf)||function K0(){return"undefined"!=typeof $localize&&$localize.locale||R1}()}),Y0=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kb{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let Pb=(()=>{class a{compileModuleSync(d){return new Vu(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=x(_i(d).declarations).reduce((b,S)=>{const P=gi(S);return P&&b.push(new nb(P)),b},[]);return new kb(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Zn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const SO=(()=>Promise.resolve(0))();function mv(a){"undefined"==typeof Zone?SO.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Wc{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lc(!1),this.onMicrotaskEmpty=new lc(!1),this.onStable=new lc(!1),this.onError=new lc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Mb(){let a=In.requestAnimationFrame,l=In.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function QI(a){const l=()=>{!function YI(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(In,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,hw(a),a.isCheckStableRunning=!0,Fb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),hw(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,v,b,S)=>{try{return Nb(a),d.invokeTask(g,v,b,S)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),XI(a)}},onInvoke:(d,f,g,v,b,S,P)=>{try{return Nb(a),d.invoke(g,v,b,S,P)}finally{a.shouldCoalesceRunChangeDetection&&l(),XI(a)}},onHasTask:(d,f,g,v)=>{d.hasTask(g,v),f===g&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,hw(a),Fb(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,f,g,v)=>(d.handleError(g,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,d,f){return this._inner.run(l,d,f)}runTask(l,d,f,g){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+g,l,KI,q0,q0);try{return v.runTask(b,d,f)}finally{v.cancelTask(b)}}runGuarded(l,d,f){return this._inner.runGuarded(l,d,f)}runOutsideAngular(l){return this._outer.run(l)}}const KI={};function Fb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function hw(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Nb(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function XI(a){a._nesting--,Fb(a)}class AO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lc,this.onMicrotaskEmpty=new lc,this.onStable=new lc,this.onError=new lc}run(l,d,f){return l.apply(d,f)}runGuarded(l,d,f){return l.apply(d,f)}runOutsideAngular(l){return l()}runTask(l,d,f,g){return l.apply(d,f)}}let JI=(()=>{class a{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wc.assertNotInAngularZone(),mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mv(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,g){return[]}}return a.\u0275fac=function(d){return new(d||a)(fn(Wc))},a.\u0275prov=Zn({token:a,factory:a.\u0275fac}),a})(),IO=(()=>{class a{constructor(){this._applications=new Map,_v.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return _v.findTestabilityInTree(this,d,f)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Zn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class Rb{addToWindow(l){}findTestabilityInTree(l,d,f){return null}}function Lb(a){_v=a}let _v=new Rb,Zp=null;const fw=new ci("AllowMultipleToken"),eD=new ci("PlatformOnDestroy");class tD{constructor(l,d){this.name=l,this.token=d}}function pw(a,l,d=[]){const f=`Platform: ${l}`,g=new ci(f);return(v=[])=>{let b=vv();if(!b||b.injector.get(fw,!1)){const S=[...d,...v,{provide:g,useValue:!0}];a?a(S):function kO(a){if(Zp&&!Zp.get(fw,!1))throw new Et(400,"");Zp=a;const l=a.get(nD),d=a.get(uw,null);d&&d.forEach(f=>f())}(function Vb(a=[],l){return Bc.create({name:l,providers:[{provide:fE,useValue:"platform"},{provide:eD,useValue:()=>Zp=null},...a]})}(S,f))}return function PO(a){const l=vv();if(!l)throw new Et(401,"");return l}()}}function vv(){var a;return null!==(a=null==Zp?void 0:Zp.get(nD))&&void 0!==a?a:null}let nD=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const S=function Hb(a,l){let d;return d="noop"===a?new AO:("zone.js"===a?void 0:a)||new Wc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),P=[{provide:Wc,useValue:S}];return S.run(()=>{const N=Bc.create({providers:P,parent:this.injector,name:d.moduleType.name}),B=d.create(N),te=B.injector.get(zg,null);if(!te)throw new Et(402,"");return S.runOutsideAngular(()=>{const ve=S.onError.subscribe({next:Pe=>{te.handleError(Pe)}});B.onDestroy(()=>{mw(this._modules,B),ve.unsubscribe()})}),function jb(a,l,d){try{const f=d();return bp(f)?f.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(te,S,()=>{const ve=B.injector.get(Ib);return ve.runInitializers(),ve.donePromise.then(()=>(function kr(a){Vn(a,"Expected localeId to be defined"),"string"==typeof a&&(MA=a.toLowerCase().replace(/_/g,"-"))}(B.injector.get(dw,R1)||R1),this._moduleDoBootstrap(B),B))})})}bootstrapModule(d,f=[]){const g=gw({},f);return function Bb(a,l,d){const f=new Vu(d);return Promise.resolve(f)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,g))}_moduleDoBootstrap(d){const f=d.injector.get(uf);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new Et(403,"");d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Et(404,"");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(eD,null);null==d||d(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(fn(Bc))},a.\u0275prov=Zn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function gw(a,l){return Array.isArray(l)?l.reduce(gw,a):Object.assign(Object.assign({},a),l)}let uf=(()=>{class a{constructor(d,f,g,v){this._zone=d,this._injector=f,this._exceptionHandler=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new G.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),S=new G.y(P=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Wc.assertNotInAngularZone(),mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Wc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{N.unsubscribe(),B.unsubscribe()}});this.isStable=(0,de.T)(b,S.pipe((0,X.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Et(405,"");let g;g=d instanceof sI?d:this._injector.get(zd).resolveComponentFactory(d),this.componentTypes.push(g.componentType);const v=function Ub(a){return a.isBoundToModule}(g)?void 0:this._injector.get(Up),S=g.create(Bc.NULL,[],f||g.selector,v),P=S.location.nativeElement,N=S.injector.get(JI,null),B=N&&S.injector.get(IO);return N&&B&&B.registerApplication(P,N),S.onDestroy(()=>{this.detachView(S.hostView),mw(this.components,S),B&&B.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Et(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;mw(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Kd,[]).concat(this._bootstrapListeners).forEach(g=>g(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(d){return new(d||a)(fn(Wc),fn(Bc),fn(zg),fn(Ib))},a.\u0275prov=Zn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function mw(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}let vw=!0,Hu=!1;function Gb(){return Hu=!0,vw}function MO(){if(Hu)throw new Error("Cannot enable prod mode after platform setup.");vw=!1}let $b=(()=>{class a{}return a.__NG_ELEMENT_ID__=FO,a})();function FO(a){return function Wb(a,l,d){if(uh(a)&&!d){const f=Ci(a.index,l);return new ev(f,f)}return 47&a.type?new ev(l[16],l):null}(Nr(),ut(),16==(16&a))}class lD{constructor(){}supports(l){return hp(l)}create(l){return new HO(l)}}const VO=(a,l)=>l;class HO{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||VO}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,f=this._removalsHead,g=0,v=null;for(;d||f;){const b=!f||d&&d.currentIndex<Tw(f,g,v)?d:f,S=Tw(b,g,v),P=b.currentIndex;if(b===f)g--,f=f._nextRemoved;else if(d=d._next,null==b.previousIndex)g++;else{v||(v=[]);const N=S-g,B=P-g;if(N!=B){for(let ve=0;ve<N;ve++){const Pe=ve<v.length?v[ve]:v[ve]=0,tt=Pe+ve;B<=tt&&tt<N&&(v[ve]=Pe+1)}v[b.previousIndex]=B-N}}S!==P&&l(b,S,P)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!hp(l))throw new Et(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,v,b,d=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let S=0;S<this.length;S++)v=l[S],b=this._trackByFn(S,v),null!==d&&Object.is(d.trackById,b)?(f&&(d=this._verifyReinsertion(d,v,b,S)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,b,S),f=!0),d=d._next}else g=0,function QS(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Nu()]();let f;for(;!(f=d.next()).done;)l(f.value)}}(l,S=>{b=this._trackByFn(g,S),null!==d&&Object.is(d.trackById,b)?(f&&(d=this._verifyReinsertion(d,S,b,g)),Object.is(d.item,S)||this._addIdentityChange(d,S)):(d=this._mismatch(d,S,b,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,f,g){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,v,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,v,g)):l=this._addAfter(new cD(d,f),v,g),l}_verifyReinsertion(l,d,f,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,v=l._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(l,d,f),this._addToMoves(l,f),l}_moveAfter(l,d,f){return this._unlink(l),this._insertAfter(l,d,f),this._addToMoves(l,f),l}_addAfter(l,d,f){return this._insertAfter(l,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,f){const g=null===d?this._itHead:d._next;return l._next=g,l._prev=d,null===g?this._itTail=l:g._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new Kb),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,f=l._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kb),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class cD{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const d=l._prevDup,f=l._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class Kb{constructor(){this.map=new Map}put(l){const d=l.trackById;let f=this.map.get(d);f||(f=new Zb,this.map.set(d,f)),f.add(l)}get(l,d){const g=this.map.get(l);return g?g.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tw(a,l,d){const f=a.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+l+g}class Cw{constructor(){}supports(l){return l instanceof Map||E_(l)}create(){return new Yb}}class Yb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||E_(l)))throw new Et(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const f=l._prev;return d._next=l,d._prev=f,l._prev=d,f&&(f._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,d);const v=g._prev,b=g._next;return v&&(v._next=b),b&&(b._prev=v),g._next=null,g._prev=null,g}const f=new Sw(l);return this._records.set(l,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(f=>d(l[f],f))}}class Sw{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Aw(){return new Iw([new lD])}let Iw=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||Aw()),deps:[[a,new ec,new Fs]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new Et(901,"")}}return a.\u0275prov=Zn({token:a,providedIn:"root",factory:Aw}),a})();function Qb(){return new Ev([new Cw])}let Ev=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||Qb()),deps:[[a,new ec,new Fs]]}}find(d){const f=this.factories.find(v=>v.supports(d));if(f)return f;throw new Et(901,"")}}return a.\u0275prov=Zn({token:a,providedIn:"root",factory:Qb}),a})();const jO=pw(null,"core",[]);let dD=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(fn(uf))},a.\u0275mod=us({type:a}),a.\u0275inj=Gn({}),a})()},3942:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Z:()=>Et});var c=K(2090),ye=K(4859),G=K(9681),de=K(1877);class X{constructor(qe,ot){this._delegate=qe,this.firebase=ot,(0,G._addComponent)(qe,new ye.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(qe,ot=G._DEFAULT_ENTRY_NAME){var Vt;this._delegate.checkDestroyed();const en=this._delegate.container.getProvider(qe);return!en.isInitialized()&&"EXPLICIT"===(null===(Vt=en.getComponent())||void 0===Vt?void 0:Vt.instantiationMode)&&en.initialize(),en.getImmediate({identifier:ot})}_removeServiceInstance(qe,ot=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(ot)}_addComponent(qe){(0,G._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,G._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),me=function Ue(){const Ot=function J(Ot){const qe={},ot={__esModule:!0,initializeApp:function dt(Mt,q={}){const Xe=G.initializeApp(Mt,q);if((0,c.r3)(qe,Xe.name))return qe[Xe.name];const we=new Ot(Xe,ot);return qe[Xe.name]=we,we},app:en,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function st(Mt){const q=Mt.name,Xe=q.replace("-compat","");if(G._registerComponent(Mt)&&"PUBLIC"===Mt.type){const we=(Re=en())=>{if("function"!=typeof Re[Xe])throw Y.create("invalid-app-argument",{appName:q});return Re[Xe]()};void 0!==Mt.serviceProps&&(0,c.ZB)(we,Mt.serviceProps),ot[Xe]=we,Ot.prototype[Xe]=function(...Re){return this._getService.bind(this,q).apply(this,Mt.multipleInstances?Re:[])}}return"PUBLIC"===Mt.type?ot[Xe]:null},removeApp:function Vt(Mt){delete qe[Mt]},useAsService:function Ft(Mt,q){return"serverAuth"===q?null:q},modularAPIs:G}};function en(Mt){if(!(0,c.r3)(qe,Mt=Mt||G._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:Mt});return qe[Mt]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function nt(){return Object.keys(qe).map(Mt=>qe[Mt])}}),en.App=Ot,ot}(X);return Ot.INTERNAL=Object.assign(Object.assign({},Ot.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function qe(ot){(0,c.ZB)(Ot,ot)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ot}(),_e=new de.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Et=me;!function ft(Ot){(0,G.registerVersion)("@firebase/app-compat","0.1.25",Ot)}()},9681:(Jt,Ye,K)=>{"use strict";K.r(Ye),K.d(Ye,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Gs,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>_r,_addOrOverwriteComponent:()=>Zn,_apps:()=>Ln,_clearComponents:()=>Cs,_components:()=>mr,_getProvider:()=>Gn,_registerComponent:()=>Xr,_removeServiceInstance:()=>Hn,deleteApp:()=>an,getApp:()=>Ss,getApps:()=>qi,initializeApp:()=>uo,onLog:()=>tr,registerVersion:()=>Gr,setLogLevel:()=>bo});var c=K(5861),ye=K(4859),G=K(1877),de=K(2090),X=K(8766);class Q{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function Y(ue){const Oe=ue.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(vt)){const nn=vt.getImmediate();return`${nn.library}/${nn.version}`}return null}).filter(vt=>vt).join(" ")}}const J="@firebase/app",me=new G.Yd("@firebase/app"),Vn="[DEFAULT]",qt={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ln=new Map,mr=new Map;function _r(ue,Oe){try{ue.container.addComponent(Oe)}catch(vt){me.debug(`Component ${Oe.name} failed to register with FirebaseApp ${ue.name}`,vt)}}function Zn(ue,Oe){ue.container.addOrOverwriteComponent(Oe)}function Xr(ue){const Oe=ue.name;if(mr.has(Oe))return me.debug(`There were multiple attempts to register component ${Oe}.`),!1;mr.set(Oe,ue);for(const vt of Ln.values())_r(vt,ue);return!0}function Gn(ue,Oe){const vt=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),ue.container.getProvider(Oe)}function Hn(ue,Oe,vt=Vn){Gn(ue,Oe).clearInstance(vt)}function Cs(){mr.clear()}const Wi=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ni{constructor(Oe,vt,nn){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=nn,this.container.addComponent(new ye.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const Gs="9.8.1";function uo(ue,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const vt=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},Oe),nn=vt.name;if("string"!=typeof nn||!nn)throw Wi.create("bad-app-name",{appName:String(nn)});const xn=Ln.get(nn);if(xn){if((0,de.vZ)(ue,xn.options)&&(0,de.vZ)(vt,xn.config))return xn;throw Wi.create("duplicate-app",{appName:nn})}const En=new ye.H0(nn);for(const Dn of mr.values())En.addComponent(Dn);const Dr=new Ni(ue,vt,En);return Ln.set(nn,Dr),Dr}function Ss(ue=Vn){const Oe=Ln.get(ue);if(!Oe)throw Wi.create("no-app",{appName:ue});return Oe}function qi(){return Array.from(Ln.values())}function an(ue){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(ue){const Oe=ue.name;Ln.has(Oe)&&(Ln.delete(Oe),yield Promise.all(ue.container.getProviders().map(vt=>vt.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Gr(ue,Oe,vt){var nn;let xn=null!==(nn=qt[ue])&&void 0!==nn?nn:ue;vt&&(xn+=`-${vt}`);const En=xn.match(/\s|\//),Dr=Oe.match(/\s|\//);if(En||Dr){const Dn=[`Unable to register library "${xn}" with version "${Oe}":`];return En&&Dn.push(`library name "${xn}" contains illegal characters (whitespace or "/")`),En&&Dr&&Dn.push("and"),Dr&&Dn.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void me.warn(Dn.join(" "))}Xr(new ye.wA(`${xn}-version`,()=>({library:xn,version:Oe}),"VERSION"))}function tr(ue,Oe){if(null!==ue&&"function"!=typeof ue)throw Wi.create("invalid-log-argument");(0,G.Am)(ue,Oe)}function bo(ue){(0,G.Ub)(ue)}const wn="firebase-heartbeat-store";let $r=null;function cs(){return $r||($r=(0,X.X3)("firebase-heartbeat-database",1,{upgrade:(ue,Oe)=>{0===Oe&&ue.createObjectStore(wn)}}).catch(ue=>{throw Wi.create("storage-open",{originalErrorMessage:ue.message})})),$r}function zt(){return(zt=(0,c.Z)(function*(ue){try{return(yield cs()).transaction(wn).objectStore(wn).get(zi(ue))}catch(Oe){throw Wi.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ln(ue,Oe){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(ue,Oe){try{const nn=(yield cs()).transaction(wn,"readwrite");return yield nn.objectStore(wn).put(Oe,zi(ue)),nn.done}catch(vt){throw Wi.create("storage-set",{originalErrorMessage:vt.message})}})).apply(this,arguments)}function zi(ue){return`${ue.name}!${ue.options.appId}`}class Li{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new Ee(vt),this._heartbeatsCachePromise=this._storage.read().then(nn=>(this._heartbeatsCache=nn,nn))}triggerHeartbeat(){var Oe=this;return(0,c.Z)(function*(){const nn=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xn=Bi();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==xn&&!Oe._heartbeatsCache.heartbeats.some(En=>En.date===xn))return Oe._heartbeatsCache.heartbeats.push({date:xn,agent:nn}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(En=>{const Dr=new Date(En.date).valueOf();return Date.now()-Dr<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,c.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const vt=Bi(),{heartbeatsToSend:nn,unsentEntries:xn}=function fe(ue,Oe=1024){const vt=[];let nn=ue.slice();for(const xn of ue){const En=vt.find(Dr=>Dr.agent===xn.agent);if(En){if(En.dates.push(xn.date),Te(vt)>Oe){En.dates.pop();break}}else if(vt.push({agent:xn.agent,dates:[xn.date]}),Te(vt)>Oe){vt.pop();break}nn=nn.slice(1)}return{heartbeatsToSend:vt,unsentEntries:nn}}(Oe._heartbeatsCache.heartbeats),En=(0,de.L)(JSON.stringify({version:2,heartbeats:nn}));return Oe._heartbeatsCache.lastSentHeartbeatDate=vt,xn.length>0?(Oe._heartbeatsCache.heartbeats=xn,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),En})()}}function Bi(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,c.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Bn(ue){return zt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var vt=this;return(0,c.Z)(function*(){var nn;if(yield vt._canUseIndexedDBPromise){const En=yield vt.read();return ln(vt.app,{lastSentHeartbeatDate:null!==(nn=Oe.lastSentHeartbeatDate)&&void 0!==nn?nn:En.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var vt=this;return(0,c.Z)(function*(){var nn;if(yield vt._canUseIndexedDBPromise){const En=yield vt.read();return ln(vt.app,{lastSentHeartbeatDate:null!==(nn=Oe.lastSentHeartbeatDate)&&void 0!==nn?nn:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Oe.heartbeats]})}})()}}function Te(ue){return(0,de.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function lt(ue){Xr(new ye.wA("platform-logger",Oe=>new Q(Oe),"PRIVATE")),Xr(new ye.wA("heartbeat",Oe=>new Li(Oe),"PRIVATE")),Gr(J,"0.7.24",ue),Gr(J,"0.7.24","esm2017"),Gr("fire-js","")}("")},4859:(Jt,Ye,K)=>{"use strict";K.d(Ye,{H0:()=>J,wA:()=>G,zt:()=>X});var c=K(5861),ye=K(2090);class G{constructor(me,_e,Fe){this.name=me,this.instanceFactory=_e,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const de="[DEFAULT]";class X{constructor(me,_e){this.name=me,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const _e=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(_e)){const Fe=new ye.BH;if(this.instancesDeferred.set(_e,Fe),this.isInitialized(_e)||this.shouldAutoInitialize())try{const Nt=this.getOrInitializeService({instanceIdentifier:_e});Nt&&Fe.resolve(Nt)}catch(Nt){}}return this.instancesDeferred.get(_e).promise}getImmediate(me){var _e;const Fe=this.normalizeInstanceIdentifier(null==me?void 0:me.identifier),Nt=null!==(_e=null==me?void 0:me.optional)&&void 0!==_e&&_e;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(Nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(ft){if(Nt)return null;throw ft}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function Y(Ue){return"EAGER"===Ue.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:de})}catch(_e){}for(const[_e,Fe]of this.instancesDeferred.entries()){const Nt=this.normalizeInstanceIdentifier(_e);try{const ft=this.getOrInitializeService({instanceIdentifier:Nt});Fe.resolve(ft)}catch(ft){}}}}clearInstance(me=de){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,c.Z)(function*(){const _e=Array.from(me.instances.values());yield Promise.all([..._e.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),..._e.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=de){return this.instances.has(me)}getOptions(me=de){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:_e={}}=me,Fe=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Nt=this.getOrInitializeService({instanceIdentifier:Fe,options:_e});for(const[ft,Et]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(ft)&&Et.resolve(Nt);return Nt}onInit(me,_e){var Fe;const Nt=this.normalizeInstanceIdentifier(_e),ft=null!==(Fe=this.onInitCallbacks.get(Nt))&&void 0!==Fe?Fe:new Set;ft.add(me),this.onInitCallbacks.set(Nt,ft);const Et=this.instances.get(Nt);return Et&&me(Et,Nt),()=>{ft.delete(me)}}invokeOnInitCallbacks(me,_e){const Fe=this.onInitCallbacks.get(_e);if(Fe)for(const Nt of Fe)try{Nt(me,_e)}catch(ft){}}getOrInitializeService({instanceIdentifier:me,options:_e={}}){let Fe=this.instances.get(me);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=me,Ue===de?void 0:Ue),options:_e}),this.instances.set(me,Fe),this.instancesOptions.set(me,_e),this.invokeOnInitCallbacks(Fe,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,Fe)}catch(Nt){}var Ue;return Fe||null}normalizeInstanceIdentifier(me=de){return this.component?this.component.multipleInstances?me:de:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const _e=this.getProvider(me.name);if(_e.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);_e.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const _e=new X(me,this);return this.providers.set(me,_e),_e}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Am:()=>Ue,Ub:()=>J,Yd:()=>Y,in:()=>ye});const c=[];var ye=(()=>{return(me=ye||(ye={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",ye;var me})();const G={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},de=ye.INFO,X={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Q=(me,_e,...Fe)=>{if(_e<me.logLevel)return;const Nt=(new Date).toISOString(),ft=X[_e];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[ft](`[${Nt}]  ${me.name}:`,...Fe)};class Y{constructor(_e){this.name=_e,this._logLevel=de,this._logHandler=Q,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in ye))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?G[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,..._e),this._logHandler(this,ye.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,..._e),this._logHandler(this,ye.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,..._e),this._logHandler(this,ye.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,..._e),this._logHandler(this,ye.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,..._e),this._logHandler(this,ye.ERROR,..._e)}}function J(me){c.forEach(_e=>{_e.setLogLevel(me)})}function Ue(me,_e){for(const Fe of c){let Nt=null;_e&&_e.level&&(Nt=G[_e.level]),Fe.userLogHandler=null===me?null:(ft,Et,...Ot)=>{const qe=Ot.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch(Vt){return null}}).filter(ot=>ot).join(" ");Et>=(null!=Nt?Nt:ft.logLevel)&&me({level:ye[Et].toLowerCase(),message:qe,args:Ot,type:ft.name})}}}},8766:(Jt,Ye,K)=>{"use strict";K.d(Ye,{Lj:()=>dt,X3:()=>en});var c=K(5861);let G,de;const Y=new WeakMap,J=new WeakMap,Ue=new WeakMap,me=new WeakMap,_e=new WeakMap;let ft={get(q,Xe,we){if(q instanceof IDBTransaction){if("done"===Xe)return J.get(q);if("objectStoreNames"===Xe)return q.objectStoreNames||Ue.get(q);if("store"===Xe)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return ot(q[Xe])},set:(q,Xe,we)=>(q[Xe]=we,!0),has:(q,Xe)=>q instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in q};function qe(q){return"function"==typeof q?function Ot(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Xe){return q.apply(Vt(this),Xe),ot(Y.get(this))}:function(...Xe){return ot(q.apply(Vt(this),Xe))}:function(Xe,...we){const Re=q.call(Vt(this),Xe,...we);return Ue.set(Re,Xe.sort?Xe.sort():[Xe]),ot(Re)}}(q):(q instanceof IDBTransaction&&function Nt(q){if(J.has(q))return;const Xe=new Promise((we,Re)=>{const De=()=>{q.removeEventListener("complete",Ne),q.removeEventListener("error",Ve),q.removeEventListener("abort",Ve)},Ne=()=>{we(),De()},Ve=()=>{Re(q.error||new DOMException("AbortError","AbortError")),De()};q.addEventListener("complete",Ne),q.addEventListener("error",Ve),q.addEventListener("abort",Ve)});J.set(q,Xe)}(q),((q,Xe)=>Xe.some(we=>q instanceof we))(q,function X(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,ft):q)}function ot(q){if(q instanceof IDBRequest)return function Fe(q){const Xe=new Promise((we,Re)=>{const De=()=>{q.removeEventListener("success",Ne),q.removeEventListener("error",Ve)},Ne=()=>{we(ot(q.result)),De()},Ve=()=>{Re(q.error),De()};q.addEventListener("success",Ne),q.addEventListener("error",Ve)});return Xe.then(we=>{we instanceof IDBCursor&&Y.set(we,q)}).catch(()=>{}),_e.set(Xe,q),Xe}(q);if(me.has(q))return me.get(q);const Xe=qe(q);return Xe!==q&&(me.set(q,Xe),_e.set(Xe,q)),Xe}const Vt=q=>_e.get(q);function en(q,Xe,{blocked:we,upgrade:Re,blocking:De,terminated:Ne}={}){const Ve=indexedDB.open(q,Xe),bt=ot(Ve);return Re&&Ve.addEventListener("upgradeneeded",mn=>{Re(ot(Ve.result),mn.oldVersion,mn.newVersion,ot(Ve.transaction))}),we&&Ve.addEventListener("blocked",()=>we()),bt.then(mn=>{Ne&&mn.addEventListener("close",()=>Ne()),De&&mn.addEventListener("versionchange",()=>De())}).catch(()=>{}),bt}function dt(q,{blocked:Xe}={}){const we=indexedDB.deleteDatabase(q);return Xe&&we.addEventListener("blocked",()=>Xe()),ot(we).then(()=>{})}const nt=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],Ft=new Map;function Mt(q,Xe){if(!(q instanceof IDBDatabase)||Xe in q||"string"!=typeof Xe)return;if(Ft.get(Xe))return Ft.get(Xe);const we=Xe.replace(/FromIndex$/,""),Re=Xe!==we,De=st.includes(we);if(!(we in(Re?IDBIndex:IDBObjectStore).prototype)||!De&&!nt.includes(we))return;const Ne=function(){var Ve=(0,c.Z)(function*(bt,...mn){const Qn=this.transaction(bt,De?"readwrite":"readonly");let Vn=Qn.store;return Re&&(Vn=Vn.index(mn.shift())),(yield Promise.all([Vn[we](...mn),De&&Qn.done]))[0]});return function(mn){return Ve.apply(this,arguments)}}();return Ft.set(Xe,Ne),Ne}!function Et(q){ft=q(ft)}(q=>f9(h9({},q),{get:(Xe,we,Re)=>Mt(Xe,we)||q.get(Xe,we,Re),has:(Xe,we)=>!!Mt(Xe,we)||q.has(Xe,we)}))},5861:(Jt,Ye,K)=>{"use strict";function c(G,de,X,Q,Y,J,Ue){try{var me=G[J](Ue),_e=me.value}catch(Fe){return void X(Fe)}me.done?de(_e):Promise.resolve(_e).then(Q,Y)}function ye(G){return function(){var de=this,X=arguments;return new Promise(function(Q,Y){var J=G.apply(de,X);function Ue(_e){c(J,Q,Y,Ue,me,"next",_e)}function me(_e){c(J,Q,Y,Ue,me,"throw",_e)}Ue(void 0)})}}K.d(Ye,{Z:()=>ye})}},Jt=>{Jt(Jt.s=5887)}]);