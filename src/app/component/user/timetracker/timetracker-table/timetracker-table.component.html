<div class="d-flex justify-content-center">
  <div class="spinner-border" style="text-align: center;color: #7386D5;width: 3rem; height: 3rem;margin-top: 200px;" role="status" *ngIf="projects == null"></div>
</div>
<div class="c" *ngIf="projects != null">
  <div class="row">
      <div class="col">
          <button type="button" routerLink="addTimeTracker" class="btn" style="border-color:#7386D5;color:#7386D5;" data-toggle="modal" data-target="#addTaskModal" data-backdrop="static" data-keyboard="false" >Add Task</button>
        <!-- <button class="btn btn-sm" (click)="exportExcel()" >Export</button> -->
      </div>
      <div class="col">
        <!-- <ng-select

          style="width: 100px;float:right;" 
          [items]="monthNames" 
          [(ngModel)]="task.month">
        </ng-select>
        <ng-select
          style="width: 100px;float:right;" 
          [items]="years" 
          [(ngModel)]="task.year">
        </ng-select> -->
      </div>
  </div>
  <table class="table align-middle mb-0 bg-white" style="text-align: center;" id="table-sheet" >
    <thead class="bg-light">
      <tr>
        <th>Project Name</th>
        <th>Project Description</th>
        <th>status</th>
        <th>Date</th>
        <th>Action</th>
        <th>Change Status</th>
      </tr>
    </thead>
    <tbody> 
        <tr *ngFor="let project of projects ">
            <td>
                <p class="mb-0">{{project.projectName}}</p>
            </td>
            <td>
                <p class=" mb-0">{{project.description}}</p>
            </td>
            <td >
                <p class=" mb-0">{{project.status}}</p>
            </td>
            <td *ngIf="project.status == 'complete'"> 
                <p class=" mb-0">
                    {{project.startedDate}} 
                    <br>
                    <span>to</span>
                    <br>
                    {{project.endedDate}}
                </p>
            </td>
            <td *ngIf="project.status != 'complete'"> 
                <p class=" mb-0">
                    {{project.startedDate}} 
                </p>
            </td>
          
          <td>
            <button class="btn btn-outline-danger btn-sm"style="border-radius: 100px;" (click)="delete(project)"><i class="fas fa-trash"></i></button>
            <br>
            <button class="btn btn-sm" (click)="add(project)" style="border-radius: 100px;"><i class="fas fa-share"></i></button>
          </td>
          <td style="width: 150px;"> 
            <ng-select [items]="projectStatus" [clearable]="false" placeholder="change status" [(ngModel)]="project.status" (change)="onChangeStatus($event,project)"></ng-select> 
          </td>
        </tr>
      </tbody>
  </table>
</div>
<router-outlet></router-outlet>
